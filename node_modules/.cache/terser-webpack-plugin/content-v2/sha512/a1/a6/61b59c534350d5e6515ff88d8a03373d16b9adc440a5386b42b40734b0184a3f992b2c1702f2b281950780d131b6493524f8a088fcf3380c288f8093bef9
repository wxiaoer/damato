{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t){var n,i,s=e.exports={};function a(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var e=r(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||r(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title=\"browser\",s.browser=!0,s.env={},s.argv=[],s.version=\"\",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error(\"process.binding is not supported\")},s.cwd=function(){return\"/\"},s.chdir=function(e){throw new Error(\"process.chdir is not supported\")},s.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";n.r(t);n(3);const{ipcRenderer:i}=n(6);console.log(i.sendSync(\"sync-text\",\"ping\"))},function(e,t,n){(function(i){var s,a;void 0===(a=\"function\"==typeof(s=function(){\"use strict\";window.hideM4QVersion=!0,function(e,t){var n=[\"opacity\",\"zIndex\"];function s(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function a(e){return e===t||null===e}function o(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function r(e){var n;return!(!e||\"[object Object]\"!==Object.prototype.toString.call(e))&&(!(n=e.prototype!==t)||n.constructor&&\"function\"==typeof n.constructor)}function l(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function c(e){return e instanceof Object&&\"length\"in e}function d(e,t){return t=t||\" \",e.split(t).map((function(e){return(\"\"+e).trim()})).filter((function(e){return\"\"!==e}))}function h(e,t){return t||(t=[0,\"\"]),e=String(e),t[0]=parseFloat(e),t[1]=e.match(/[\\d.\\-+]*\\s*(.*)/)[1]||\"\",t}function u(e,t,i){t=o(t),[\"scrollLeft\",\"scrollTop\"].indexOf(t)>-1?e[t]=parseInt(i):e.style[t]=isNaN(i)||n.indexOf(\"\"+t)>-1?i:i+\"px\"}function p(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function f(e){try{return JSON.parse(e)}catch(t){return e}}function m(e,n,i){var s;if(a(i)&&1===e.nodeType)if(s=\"data-\"+n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),\"string\"==typeof(i=e.getAttribute(s))){try{i=f(i)}catch(e){}x.set(e,n,i)}else i=t;return i}!function(e,t){if(!e.setImmediate){var n,i,s=1,a={},o=!1,r=Object.getPrototypeOf&&Object.getPrototypeOf(e);r=r&&r.setTimeout?r:e,i=\"setImmediate$\"+Math.random()+\"$\",e.addEventListener(\"message\",(function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(i)&&c(+t.data.slice(i.length))}),!1),n=function(t){e.postMessage(i+t,\"*\")},r.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];return a[s]={callback:e,args:t},n(s),s++},r.clearImmediate=l}function l(e){delete a[e]}function c(e){if(o)setTimeout(c,0,e);else{var n=a[e];if(n){o=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{l(e),o=!1}}}}}(window),function(e,t){if(!e.Promise){var n,s=\"pending\",a=\"sealed\",o=\"fulfilled\",r=\"rejected\",l=function(){},c=void 0!==i?i:setTimeout,d=[];x.prototype={constructor:x,state_:s,then_:null,data_:t,then:function(e,t){var n={owner:this,then:new this.constructor(l),fulfilled:e,rejected:t};return this.state_===o||this.state_===r?p(f,n):this.then_.push(n),n.then},done:function(e){return this.then(e,null)},always:function(e){return this.then(e,e)},catch:function(e){return this.then(null,e)}},x.all=function(e){if(!h(e))throw new TypeError(\"You must pass an array to Promise.all().\");return new this((function(t,n){var i=[],s=0;function a(e){return s++,function(n){i[e]=n,--s||t(i)}}for(var o,r=0;r<e.length;r++)(o=e[r])&&\"function\"==typeof o.then?o.then(a(r),n):i[r]=o;s||t(i)}))},x.race=function(e){if(!h(e))throw new TypeError(\"You must pass an array to Promise.race().\");return new this((function(t,n){for(var i,s=0;s<e.length;s++)(i=e[s])&&\"function\"==typeof i.then?i.then(t,n):t(i)}))},x.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===this?e:new this((function(t){t(e)}))},x.reject=function(e){return new this((function(t,n){n(e)}))},void 0===e.Promise&&(e.Promise=x)}function h(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function u(){for(var e=0;e<d.length;e++)d[e][0](d[e][1]);d=[],n=!1}function p(e,t){d.push([e,t]),n||(n=!0,c(u,0))}function f(e){var t=e.owner,n=t.state_,i=t.data_,s=e[n],a=e.then;if(\"function\"==typeof s){n=o;try{i=s(i)}catch(e){C(a,e)}}m(a,i)||(n===o&&v(a,i),n===r&&C(a,i))}function m(e,t){var n;try{if(e===t)throw new TypeError(\"A promises callback cannot return that same promise.\");if(t&&(\"function\"==typeof t||\"object\"==typeof t)){var i=t.then;if(\"function\"==typeof i)return i.call(t,(function(i){n||(n=!0,t!==i?v(e,i):g(e,i))}),(function(t){n||(n=!0,C(e,t))})),!0}}catch(t){return n||C(e,t),!0}return!1}function v(e,t){e!==t&&m(e,t)||g(e,t)}function g(e,t){e.state_===s&&(e.state_=a,e.data_=t,p(w,e))}function C(e,t){e.state_===s&&(e.state_=a,e.data_=t,p(y,e))}function b(e){var n=e.then_;e.then_=t;for(var i=0;i<n.length;i++)f(n[i])}function w(e){e.state_=o,b(e)}function y(e){e.state_=r,b(e)}function x(e){if(\"function\"!=typeof e)throw new TypeError(\"Promise constructor takes a function argument\");if(!this instanceof x)throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");this.then_=[],function(e,t){function n(e){C(t,e)}try{e((function(e){v(t,e)}),n)}catch(e){n(e)}}(e,this)}}(window);var v=\"v1.0.3. Built at 03/11/2019 19:13:08\",g=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i,C=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,b=function(e,t){return new b.init(e,t)};b.version=v,b.fn=b.prototype={version:v,constructor:b,length:0,uid:\"\",push:[].push,sort:[].sort,splice:[].splice,indexOf:[].indexOf},b.extend=b.fn.extend=function(){var e,t,n=arguments[0]||{},i=1,s=arguments.length;for(\"object\"!=typeof n&&\"function\"!=typeof n&&(n={}),i===s&&(n=this,i--);i<s;i++)if(null!=(e=arguments[i]))for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},void 0===window.hideM4QVersion&&console.log(\"m4q \"+b.version);var w=function(){return Date.now()};b.extend({intervalId:-1,intervalQueue:[],intervalTicking:!1,intervalTickId:null,setInterval:function(e,t){var n=this;if(this.intervalId++,this.intervalQueue.push({id:this.intervalId,fn:e,interval:t,lastTime:w()}),!this.intervalTicking){var i=function(){n.intervalTickId=requestAnimationFrame(i),b.each(n.intervalQueue,(function(){(this.interval<17||w()-this.lastTime>=this.interval)&&(this.fn(),this.lastTime=w())}))};this.intervalTicking=!0,i()}return this.intervalId},clearInterval:function(e){for(var t=0;t<this.intervalQueue.length;t++)if(e===this.intervalQueue[t].id){this.intervalQueue.splice(t,1);break}0===this.intervalQueue.length&&(_(this.intervalTickId),this.intervalTicking=!1)},setTimeout:function(e,t){var n=this,i=this.setInterval((function(){n.clearInterval(i),e()}),t);return i},clearTimeout:function(e){return this.clearInterval(e)}}),b.fn.extend({index:function(e){var n,i=-1;return 0===this.length?i:(n=a(e)?this[0]:e instanceof b&&e.length>0?e[0]:\"string\"==typeof e?b(e)[0]:t,a(n)?i:(n&&n.parentNode&&b.each(n.parentNode.children,(function(e){this===n&&(i=e)})),i))},get:function(e){return e===t?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!a(e)&&this.length>0?b.extend(b(this.get(e)),{_prevObj:this}):this},is:function(e){var t=!1;return 0!==this.length&&(e instanceof b?this.same(e):(\":selected\"===e?this.each((function(){this.selected&&(t=!0)})):\":checked\"===e?this.each((function(){this.checked&&(t=!0)})):\":hidden\"===e?this.each((function(){var e=getComputedStyle(this);(\"hidden\"===this.getAttribute(\"type\")||this.hidden||\"none\"===e.display||\"hidden\"===e.visibility||0===parseInt(e.opacity))&&(t=!0)})):\"string\"==typeof e&&-1===[\":selected\"].indexOf(e)?this.each((function(){C.call(this,e)&&(t=!0)})):c(e)?this.each((function(){var n=this;b.each(e,(function(){n===this&&(t=!0)}))})):\"object\"==typeof e&&1===e.nodeType&&this.each((function(){this===e&&(t=!0)})),t))},same:function(e){var t=!0;return e instanceof b||(e=b(e)),this.length===e.length&&(this.each((function(){-1===e.items().indexOf(this)&&(t=!1)})),t)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){var e=this.filter((function(e,t){return t%2==0}));return b.extend(e,{_prevObj:this})},even:function(){var e=this.filter((function(e,t){return t%2!=0}));return b.extend(e,{_prevObj:this})},filter:function(e){if(\"string\"==typeof e){var t=e;e=function(e){return C.call(e,t)}}return b.extend(b.merge(b(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){var t,n=[];return e instanceof b?e:(0===this.length?t=this:(this.each((function(){void 0!==this.querySelectorAll&&(n=n.concat([].slice.call(this.querySelectorAll(e))))})),t=b.merge(b(),n)),b.extend(t,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){var t,n=[];return e instanceof b?e:(this.each((function(){for(t=0;t<this.children.length;t++)1===this.children[t].nodeType&&n.push(this.children[t])})),n=e?n.filter((function(t){return C.call(t,e)})):n,b.extend(b.merge(b(),n),{_prevObj:this}))},parent:function(e){var t=[];if(0!==this.length)return e instanceof b?e:(this.each((function(){this.parentNode&&-1===t.indexOf(this.parentNode)&&t.push(this.parentNode)})),t=e?t.filter((function(t){return C.call(t,e)})):t,b.extend(b.merge(b(),t),{_prevObj:this}))},parents:function(e){var t=[];if(0!==this.length)return e instanceof b?e:(this.each((function(){for(var n=this.parentNode;n;)1===n.nodeType&&-1===t.indexOf(n)&&(a(e)?t.push(n):C.call(n,e)&&t.push(n)),n=n.parentNode})),b.extend(b.merge(b(),t),{_prevObj:this}))},siblings:function(e){var t=[];if(0!==this.length)return e instanceof b?e:(this.each((function(){var e=this;e.parentNode&&b.each(e.parentNode.children,(function(){e!==this&&t.push(this)}))})),e&&(t=t.filter((function(t){return C.call(t,e)}))),b.extend(b.merge(b(),t),{_prevObj:this}))},_siblingAll:function(e,t){var n=[];if(0!==this.length)return t instanceof b?t:(this.each((function(){for(var t=this;t&&(t=t[e]);)n.push(t)})),t&&(n=n.filter((function(e){return C.call(e,t)}))),b.extend(b.merge(b(),n),{_prevObj:this}))},_sibling:function(e,t){var n=[];if(0!==this.length)return t instanceof b?t:(this.each((function(){var t=this[e];t&&1===t.nodeType&&n.push(t)})),t&&(n=n.filter((function(e){return C.call(e,t)}))),b.extend(b.merge(b(),n),{_prevObj:this}))},prev:function(e){return this._sibling(\"previousElementSibling\",e)},next:function(e){return this._sibling(\"nextElementSibling\",e)},prevAll:function(e){return this._siblingAll(\"previousElementSibling\",e)},nextAll:function(e){return this._siblingAll(\"nextElementSibling\",e)},closest:function(e){var t=[];if(0!==this.length)return e instanceof b?e:e?(this.each((function(){for(var n=this;n&&n;){if(C.call(n,e))return void t.push(n);n=n.parentElement}})),b.extend(b.merge(b(),t.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){var t=[];if(0!==this.length)return this.each((function(){b(this).children(e).length>0&&t.push(this)})),b.extend(b.merge(b(),t),{_prevObj:this})},back:function(e){var t;if(!0===e)for(t=this._prevObj;t&&t._prevObj;)t=t._prevObj;else t=this._prevObj?this._prevObj:this;return t}}),b.fn.extend({_prop:function(e,n){return 1===arguments.length?0===this.length?t:this[0][e]:(a(n)&&(n=\"\"),this.each((function(){this[e]=n,\"innerHTML\"===e&&b.each(b(this).find(\"script\"),(function(){var e=document.createElement(\"script\");e.type=\"text/javascript\",this.src?e.src=this.src:e.textContent=this.innerText,document.body.appendChild(e),this.parentNode.removeChild(this)}))})))},prop:function(e,t){return 1===arguments.length?this._prop(e):this._prop(e,void 0===t?\"\":t)},val:function(e){return a(e)?0===this.length?t:this[0].value:this.each((function(){var t=b(this);void 0!==this.value?this.value=e:t.html(e)}))},html:function(e){var t=this,n=[];return 0===arguments.length?this._prop(\"innerHTML\"):(e instanceof b?e.each((function(){n.push(b(this).outerHTML())})):n.push(e),t._prop(\"innerHTML\",1===n.length&&a(n[0])?\"\":n.join(\"\\n\")),this)},outerHTML:function(){return this._prop(\"outerHTML\")},text:function(e){return 0===arguments.length?this._prop(\"textContent\"):this._prop(\"textContent\",void 0===e?\"\":e)},innerText:function(e){return 0===arguments.length?this._prop(\"innerText\"):this._prop(\"innerText\",void 0===e?\"\":e)},empty:function(){return this.each((function(){void 0!==this.innerHTML&&(this.innerHTML=\"\")}))}}),b.each=function(e,t){var n=0;if(c(e))[].forEach.call(e,(function(e,n){t.apply(e,[n,e])}));else for(var i in e)e.hasOwnProperty(i)&&t.apply(e[i],[i,e[i],n++]);return e},b.fn.extend({each:function(e){return b.each(this,e)}});var y=function(e){this.expando=\"DATASET:UID:\"+e.toUpperCase(),y.uid++};y.uid=-1,y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},p(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if(\"string\"==typeof t)s[o(t)]=n;else for(i in t)t.hasOwnProperty(i)&&(s[o(i)]=t[i]);return s},get:function(e,n){return n===t?this.cache(e):e[this.expando]&&e[this.expando][o(n)]},access:function(e,n,i){return n===t||n&&\"string\"==typeof n&&i===t?this.get(e,n):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,s=e[this.expando];if(s!==t){if(n!==t){i=(n=Array.isArray(n)?n.map(o):(n=o(n))in s?[n]:n.match(/[^\\x20\\t\\r\\n\\f]+/g)||[]).length;for(;i--;)delete s[n[i]]}return(n===t||l(s))&&(e.nodeType?e[this.expando]=t:delete e[this.expando]),!0}},hasData:function(e){var n=e[this.expando];return n!==t&&!l(n)}};var x=new y(\"m4q\");b.extend({hasData:function(e){return x.hasData(e)},data:function(e,t,n){return x.access(e,t,n)},removeData:function(e,t){return x.remove(e,t)},dataSet:function(e){if(a(e))return x;if([\"INTERNAL\",\"M4Q\"].indexOf(e.toUpperCase())>-1)throw Error(\"You can not use reserved name for your dataset\");return new y(e)}}),b.fn.extend({data:function(e,n){var i,s,a,r,l,c;if(0!==this.length){if(s=this[0],0===arguments.length){if(this.length&&(a=x.get(s),1===s.nodeType))for(c=(r=s.attributes).length;c--;)r[c]&&0===(l=r[c].name).indexOf(\"data-\")&&m(s,l=o(l.slice(5)),a[l]);return a}return 1===arguments.length?((i=x.get(s,e))===t&&1===s.nodeType&&s.hasAttribute(\"data-\"+e)&&(i=s.getAttribute(\"data-\"+e)),i):this.each((function(){x.set(this,e,n)}))}},removeData:function(e){return this.each((function(){x.remove(this,e)}))},origin:function(e,t,n){if(0===this.length)return this;if(a(e)&&a(t))return b.data(this[0]);if(a(t)){var i=b.data(this[0],\"origin-\"+e);return a(i)?n:i}return this.data(\"origin-\"+e,t),this}}),b.extend({uniqueId:function(){var e=(new Date).getTime();return\"m4q-xxxx-xxxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(\"x\"===t?n:3&n|8).toString(16)}))},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t]);return n},import:function(e){var t=[];return this.each(e,(function(){t.push(this)})),this.merge(b(),t)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\\[object (.+)]$/,\"$1\").toLowerCase()},sleep:function(e){for(e+=(new Date).getTime();new Date<e;);},isSelector:function(e){if(\"string\"!=typeof e)return!1;if(-1!==e.indexOf(\"<\"))return!1;try{b(e)}catch(e){return!1}return!0},remove:function(e){return b(e).remove()},camelCase:function(e){return o(e)},isPlainObject:function(e){return r(e)},isEmptyObject:function(e){return l(e)},isArrayLike:function(e){return c(e)},acceptData:function(e){return p(e)},not:function(e){return a(e)},parseUnit:function(e,t){return h(e,t)},unit:function(e,t){return h(e,t)},isVisible:function(e){return s(e)},isHidden:function(e){return function(e){var t=getComputedStyle(e);return!s(e)||0==+t.opacity||e.hidden||\"hidden\"===t.visibility}(e)},iif:function(e,t,n){return i=t,s=n,e||i||s;var i,s}}),b.fn.extend({items:function(){return b.toArray(this)}}),function(){if(\"function\"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var S=Event.prototype.stopPropagation,T=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,S.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,T.apply(this,arguments)},Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()},b.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){var t,n,i,s=-1;if(this.events.length>0)for(t=0;t<this.events.length;t++)if(null===this.events[t].handler){s=t;break}return n={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id},-1===s?(this.events.push(n),i=this.events.length-1):(this.events[s]=n,i=s),i},getEventHandler:function(e){return this.events[e]!==t&&null!==this.events[e]?(this.events[e]=null,this.events[e].handler):t},off:function(){return b.each(this.events,(function(){this.element.removeEventListener(this.event,this.handler)})),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,t,n){return a(n)&&(n=\"before\"),b.each(d(e),(function(){this.eventHooks[o(n+\"-\"+this)]=t})),this},removeEventHook:function(e,t){return a(t)&&(t=\"before\"),b.each(d(e),(function(){delete this.eventHooks[o(t+\"-\"+this)]})),this},removeEventHooks:function(e){var t=this;return a(e)?this.eventHooks={}:b.each(d(e),(function(){delete t.eventHooks[o(type+\"-\"+this)]})),this}}),b.fn.extend({on:function(e,n,i,s){if(0!==this.length)return\"function\"==typeof n&&(s=i,i=n,n=t),r(s)||(s={}),this.each((function(){var t=this;b.each(d(e),(function(){var e,a,r,c=this.split(\".\"),d=c[0],h=s.ns?s.ns:c[1];b.eventUID++,e=function(e){var r=e.target,l=b.eventHooks[o(\"before-\"+d)],c=b.eventHooks[o(\"after-\"+d)];if(\"function\"==typeof l&&l.call(r,e),n)for(;r&&r!==t;){if(C.call(r,n)&&(i.call(r,e),e.isPropagationStopped)){e.stopImmediatePropagation();break}r=r.parentNode}else i.call(t,e);\"function\"==typeof c&&c.call(r,e),s.once&&(a=+b(t).origin(\"event-\"+e.type+(n?\":\"+n:\"\")+(h?\":\"+h:\"\")),isNaN(a)||b.events.splice(a,1))},Object.defineProperty(e,\"name\",{value:i.name&&\"\"!==i.name?i.name:\"func_event_\"+d+\"_\"+b.eventUID}),r=d+(n?\":\"+n:\"\")+(h?\":\"+h:\"\"),t.addEventListener(d,e,!l(s)&&s),a=b.setEventHandler({el:t,event:d,handler:e,selector:n,ns:h,id:b.eventUID}),b(t).origin(\"event-\"+r,a)}))}))},one:function(e,t,n,i){return r(i)||(i={}),i.once=!0,this.on.apply(this,[e,t,n,i])},off:function(e,n,i){return r(i)||(i={}),r(n)&&(i=n,n=null),a(e)||\"all\"===e.toLowerCase()?this.each((function(){var e=this;b.each(b.events,(function(){var t=this;t.element===e&&(e.removeEventListener(t.event,t.handler),t.handler=null,b(e).origin(\"event-\"+name+(t.selector?\":\"+t.selector:\"\")+(t.ns?\":\"+t.ns:\"\"),null))}))})):this.each((function(){var s=this;b.each(d(e),(function(){var e,a,o=this.split(\".\"),r=o[0],l=i.ns?i.ns:o[1];e=\"event-\"+r+(n?\":\"+n:\"\")+(l?\":\"+l:\"\"),(a=b(s).origin(e))!==t&&b.events[a].handler&&(s.removeEventListener(r,b.events[a].handler),b.events[a].handler=null),b(s).origin(e,null)}))}))},trigger:function(e,t){if(0!==this.length){if([\"focus\",\"blur\"].indexOf(e)>-1)return this[0][e](),this;var n=new CustomEvent(e,t||{});return this.each((function(){this.dispatchEvent(n)}))}},fire:function(e,t){if(0!==this.length){if([\"focus\",\"blur\"].indexOf(e)>-1)return this[0][e](),this;var n=document.createEvent(\"Events\");return n.detail=t,n.initEvent(e,!0,!1),this.each((function(){this.dispatchEvent(n)}))}}}),\"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel\".split(\" \").forEach((function(e){b.fn[e]=function(t,n,i){return arguments.length>0?this.on(e,t,n,i):this.trigger(e)}})),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.ready=function(e){document.addEventListener(\"DOMContentLoaded\",e)},b.load=function(e){return b(window).on(\"load\",e)},b.unload=function(e){return b(window).on(\"unload\",e)},b.fn.extend({unload:function(e){return 0===this.length||this[0].self!==window?t:b.unload(e)}}),b.beforeunload=function(e){return\"string\"==typeof e?b(window).on(\"beforeunload\",(function(t){return t.returnValue=e,e})):b(window).on(\"beforeunload\",e)},b.fn.extend({beforeunload:function(e){return 0===this.length||this[0].self!==window?t:b.beforeunload(e)}}),b.fn.extend({ready:function(e){if(this.length&&this[0]===document&&\"function\"==typeof e)return b.ready(e)}}),b.ajax=function(e){return new Promise((function(t,n){var i,s=new XMLHttpRequest,l=(e.method||\"GET\").toUpperCase(),c=[],d=!!a(e.async)||e.async,h=e.url,u=function(e,t){\"function\"==typeof e&&e.apply(null,t)};if(e.data instanceof HTMLFormElement){var p=e.data.getAttribute(\"action\"),f=e.data.getAttribute(\"method\");a(h)&&p&&\"\"!==p.trim()&&(h=p),f&&\"\"!==f.trim()&&(l=f.toUpperCase())}if(s.open(l,h,d,e.user,e.password),e.timeout&&(s.timeout=e.timeout),e.withCredentials&&(s.withCredentials=e.withCredentials),e.headers&&b.each(e.headers,(function(e,t){s.setRequestHeader(e,t),c.push(e)})),e.data instanceof HTMLFormElement)i=new FormData(e.data);else if(e.data instanceof HTMLElement&&\"file\"===e.data.getAttribute(\"type\").toLowerCase()){var m=e.data.getAttribute(\"name\");i=new FormData;for(var v=0;v<e.data.files.length;v++)i.append(m,e.data.files[v])}else if(r(e.data)){var g=[];b.each(e.data,(function(e,t){g.push(e+\"=\"+t)})),i=g.join(\"&\"),-1===c.indexOf(\"Content-type\")&&s.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\")}else e.data instanceof FormData?i=e.data:(i=new FormData).append(\"_data\",JSON.stringify(e.data));s.send(i),s.addEventListener(\"load\",(function(i){if(4===s.readyState&&s.status<300){var a=e.returnValue&&\"xhr\"===e.returnValue?s:e.parseJson?JSON.parse(s.response):s.response;u(t,[a]),u(e.onSuccess,[i,s])}else u(n,[s]),u(e.onFail,[i,s]);u(e.onLoad,[i,s])})),b.each([\"readystatechange\",\"error\",\"timeout\",\"progress\",\"loadstart\",\"loadend\",\"abort\"],(function(){var t=o(\"on-\"+(\"readystatechange\"===this?\"state\":this));s.addEventListener(t,(function(n){u(e[t],[n,s])}))}))}))},[\"get\",\"post\",\"put\",\"patch\",\"delete\",\"json\"].forEach((function(e){b[e]=function(t,n,i){var s=e.toUpperCase(),a={method:\"JSON\"===s?\"GET\":s,url:t,data:n,parseJson:\"JSON\"===s};return b.ajax(b.extend({},a,i))}})),b.fn.extend({load:function(e,t,n){var i=this;return this[0].self===window?b.load(e):b.get(e,t,n).then((function(e){i.each((function(){this.innerHTML=e}))}))}}),b.fn.extend({style:function(e,n){var i;function s(e,t,n){return[\"scrollLeft\",\"scrollTop\"].indexOf(t)>-1?b(e)[t]():getComputedStyle(e,n)[t]}if(\"string\"==typeof e&&0===this.length)return t;if(0===this.length)return this;if(i=this[0],a(e)||\"all\"===e)return getComputedStyle(i,n);var o={},r=e.split(\", \").map((function(e){return(\"\"+e).trim()}));return 1===r.length?s(i,r[0],n):(b.each(r,(function(){o[this]=s(i,this,n)})),o)},removeStyleProperty:function(e){if(a(e)||0===this.length)return this;var t=e.split(\", \").map((function(e){return(\"\"+e).trim()}));return this.each((function(){var e=this;b.each(t,(function(){e.style.removeProperty(this)}))}))},css:function(e,t){return\"string\"==typeof(e=e||\"all\")&&a(t)?this.style(e):this.each((function(){var n=this;\"object\"==typeof e?b.each(e,(function(e,t){u(n,e,t)})):\"string\"==typeof e&&u(n,e,t)}))},scrollTop:function(e){return a(e)?0===this.length?t:this[0]===window?pageYOffset:this[0].scrollTop:this.each((function(){this.scrollTop=e}))},scrollLeft:function(e){return a(e)?0===this.length?t:this[0]===window?pageXOffset:this[0].scrollLeft:this.each((function(){this.scrollLeft=e}))}}),b.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){var t=!1,n=e.split(\" \").filter((function(e){return\"\"!==(\"\"+e).trim()}));return!a(e)&&(this.each((function(){var e=this;b.each(n,(function(){!t&&e.classList&&e.classList.contains(this)&&(t=!0)}))})),t)},clearClasses:function(){return this.each((function(){this.className=\"\"}))},cls:function(e){return 0===this.length?t:e?this[0].className.split(\" \"):this[0].className}}),[\"add\",\"remove\",\"toggle\"].forEach((function(e){b.fn[e+\"Class\"]=function(t){return a(t)||\"\"===(\"\"+t).trim()?this:this.each((function(){var n=this,i=void 0!==n.classList;b.each(t.split(\" \").filter((function(e){return\"\"!==(\"\"+e).trim()})),(function(){i&&n.classList[e](this)}))}))}})),b.parseHTML=function(e,t){var n,i,s,a,o=[];if(\"string\"!=typeof e)return[];if(e=e.trim(),(n=(s=document.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=document.location.href,s.head.appendChild(n),a=s.body,i=g.exec(e))o.push(document.createElement(i[1]));else{a.innerHTML=e;for(var l=0;l<a.childNodes.length;l++)o.push(a.childNodes[l])}return!t||t instanceof b||!r(t)||b.each(o,(function(){for(var e in t)t.hasOwnProperty(e)&&this.setAttribute(e,t[e])})),o},b.fn.extend({_size:function(e,t){if(0!==this.length){if(a(t)){var n=this[0];if(\"height\"===e)return n===window?window.innerHeight:n===document?n.body.clientHeight:parseInt(getComputedStyle(n).height);if(\"width\"===e)return n===window?window.innerWidth:n===document?n.body.clientWidth:parseInt(getComputedStyle(n).width)}return this.each((function(){this!==window&&this!==document&&(this.style[e]=isNaN(t)?t:t+\"px\")}))}},height:function(e){return this._size(\"height\",e)},width:function(e){return this._size(\"width\",e)},_sizeOut:function(e,t){var n,i,s,o;if(0!==this.length)return a(t)||\"boolean\"==typeof t?(i=(n=this[0])[\"width\"===e?\"offsetWidth\":\"offsetHeight\"],s=getComputedStyle(n),o=i+parseInt(s[\"width\"===e?\"margin-left\":\"margin-top\"])+parseInt(s[\"width\"===e?\"margin-right\":\"margin-bottom\"]),!0===t?o:i):this.each((function(){if(this!==window&&this!==document){var n,i=getComputedStyle(this),s=\"width\"===e?parseInt(i[\"border-left-width\"])+parseInt(i[\"border-right-width\"]):parseInt(i[\"border-top-width\"])+parseInt(i[\"border-bottom-width\"]),a=\"width\"===e?parseInt(i[\"padding-left\"])+parseInt(i[\"padding-right\"]):parseInt(i[\"padding-top\"])+parseInt(i[\"padding-bottom\"]);n=b(this)[e](t)[e]()-s-a,this.style[e]=n+\"px\"}}))},outerWidth:function(e){return this._sizeOut(\"width\",e)},outerHeight:function(e){return this._sizeOut(\"height\",e)},padding:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t[\"padding-top\"]),right:parseInt(t[\"padding-right\"]),bottom:parseInt(t[\"padding-bottom\"]),left:parseInt(t[\"padding-left\"])}}},margin:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t[\"margin-top\"]),right:parseInt(t[\"margin-right\"]),bottom:parseInt(t[\"margin-bottom\"]),left:parseInt(t[\"margin-left\"])}}},border:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t[\"border-top-width\"]),right:parseInt(t[\"border-right-width\"]),bottom:parseInt(t[\"border-bottom-width\"]),left:parseInt(t[\"border-left-width\"])}}}}),b.fn.extend({offset:function(e){var n;return a(e)?0===this.length?t:{top:(n=this[0].getBoundingClientRect()).top+pageYOffset,left:n.left+pageXOffset}:this.each((function(){var t=b(this),n=e.top,i=e.left,s=getComputedStyle(this).position,a=t.offset();\"static\"===s&&t.css(\"position\",\"relative\"),-1===[\"absolute\",\"fixed\"].indexOf(s)&&(n-=a.top,i-=a.left),t.css({top:n,left:i})}))},position:function(e){var n,i,s=0,o=0;return e=!a(e)&&f(e),0===this.length?t:(n=this[0],i=getComputedStyle(n),e&&(s=parseInt(i[\"margin-left\"]),o=parseInt(i[\"margin-top\"])),{left:n.offsetLeft-s,top:n.offsetTop-o})},left:function(e,t){if(0!==this.length)return a(e)?this.position(t).left:\"boolean\"==typeof e?(t=e,this.position(t).left):this.each((function(){b(this).css({left:e})}))},top:function(e,t){if(0!==this.length)return a(e)?this.position(t).top:\"boolean\"==typeof e?(t=e,this.position(t).top):this.each((function(){b(this).css({top:e})}))},coord:function(){return 0===this.length?t:this[0].getBoundingClientRect()},pos:function(){if(0!==this.length)return{top:parseInt(b(this[0]).style(\"top\")),left:parseInt(b(this[0]).style(\"left\"))}}}),b.fn.extend({attr:function(e,n){var i={};return 0===this.length&&0===arguments.length?t:this.length&&0===arguments.length?(b.each(this[0].attributes,(function(){i[this.nodeName]=this.nodeValue})),i):\"string\"==typeof e&&n===t?this.length&&1===this[0].nodeType&&this[0].hasAttribute(e)?this[0].getAttribute(e):t:this.each((function(){var t=this;r(e)?b.each(e,(function(e,n){t.setAttribute(e,n)})):t.setAttribute(e,n)}))},removeAttr:function(e){var t;return a(e)?this.each((function(){var e=this;b.each(this.attributes,(function(){e.removeAttribute(this)}))})):(t=\"string\"==typeof e?e.split(\",\").map((function(e){return e.trim()})):e,this.each((function(){var e=this;b.each(t,(function(){e.hasAttribute(this)&&e.removeAttribute(this)}))})))},toggleAttr:function(e,t){return this.each((function(){a(t)?this.removeAttribute(e):this.setAttribute(e,t)}))},id:function(e){return this.length?b(this[0]).attr(\"id\",e):t}}),b.extend({meta:function(e){return a(e)?b(\"meta\"):b(\"meta[name='$name']\".replace(\"$name\",e))},metaBy:function(e){return a(e)?b(\"meta\"):b(\"meta[$name]\".replace(\"$name\",e))},doctype:function(){return b(\"doctype\")},html:function(){return b(\"html\")},charset:function(e){var t=b(\"meta[charset]\");return e&&t.attr(\"charset\",e),t.attr(\"charset\")}}),b.extend({proxy:function(e,n){return\"function\"!=typeof e?t:e.bind(n)},bind:function(e,t){return this.proxy(e,t)}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty(\"append\")||Object.defineProperty(e,\"append\",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.appendChild(t)}})})),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty(\"prepend\")||Object.defineProperty(e,\"prepend\",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})}));var k=function(e){var n=t;return\"string\"==typeof e?n=b.isSelector(e)?b(e):b.parseHTML(e):e instanceof HTMLElement?n=[e]:c(e)&&(n=e),n};b.fn.extend({append:function(e){var t=k(e);return this.each((function(e,n){b.each(t,(function(){n!==this&&n.append(0===e?this:this.cloneNode(!0))}))}))},appendTo:function(e){var t=k(e);return this.each((function(){var e=this;b.each(t,(function(t,n){e!==this&&n.append(0===t?e:e.cloneNode(!0))}))}))},prepend:function(e){var t=k(e);return this.each((function(e,n){b.each(t,(function(){n!==this&&n.prepend(0===e?this:this.cloneNode(!0))}))}))},prependTo:function(e){var t=k(e);return this.each((function(){var e=this;b.each(t,(function(t,n){e!==this&&b(n).prepend(0===t?e:e.cloneNode(!0))}))}))},insertBefore:function(e){var t=k(e);return this.each((function(){var e=this;b.each(t,(function(t,n){e!==this&&n.parentNode.insertBefore(0===t?e:e.cloneNode(!0),n)}))}))},insertAfter:function(e){var t=k(e);return this.each((function(){var e=this;b.each(t,(function(t,n){e!==this&&n.parentNode.insertBefore(0===t?e:e.cloneNode(!0),n.nextSibling)}))}))},after:function(e){return this.each((function(){\"string\"==typeof e?this.insertAdjacentHTML(\"afterend\",e):b(e).insertAfter(this)}))},before:function(e){return this.each((function(){\"string\"==typeof e?this.insertAdjacentHTML(\"beforebegin\",e):b(e).insertBefore(this)}))},clone:function(e){var t=[];return a(e)&&(e=!1),this.each((function(){t.push(this.cloneNode(e))})),b.merge(b(),t)},import:function(e){var t=[];return a(e)&&(e=!1),this.each((function(){t.push(document.importNode(this,e))})),b.merge(b(),t)},adopt:function(){var e=[];return this.each((function(){e.push(document.adoptNode(this))})),b.merge(b(),e)},remove:function(e){var t,n,i=0,s=[];if(0!==this.length){for(n=e?this.filter((function(t){return C.call(t,e)})):this.items();null!=(t=n[i]);i++)t.parentNode&&(s.push(t.parentNode.removeChild(t)),b.removeData(t));return b.merge(b(),s)}}});var _=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame,O={def:\"linear\",linear:function(e){return e},easeInSine:function(e){return-1*Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){var t=e-1;return t*t*t+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){var t=e-1;return 1-t*t*t*t},easeInOutQuart:function(e){var t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){var t=e-1;return 1+t*t*t*t*t},easeInOutQuint:function(e){var t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},easeInCirc:function(e){var t=e/1;return-1*(Math.sqrt(1-t*e)-1)},easeOutCirc:function(e){var t=e-1;return Math.sqrt(1-t*t)},easeInOutCirc:function(e){var t=2*e,n=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-n*n)+1)},easeInBack:function(e,t){return e*e*(((t=t||1.70158)+1)*e-t)},easeOutBack:function(e,t){var n=e/1-1;return n*n*(((t=t||1.70158)+1)*n+t)+1},easeInOutBack:function(e,t){var n=2*e,i=n-2,s=1.525*(t=t||1.70158);return n<1?.5*n*n*((s+1)*n-s):.5*(i*i*((s+1)*i+s)+2)},easeInElastic:function(e,t){if(0===e||1===e)return e;var n=e/1-1,i=1-(t=t||.7),s=i/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/i)},easeOutElastic:function(e,t){var n=1-(t=t||.7),i=2*e;if(0===e||1===e)return e;var s=n/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*i)*Math.sin((i-s)*(2*Math.PI)/n)+1},easeInOutElastic:function(e,t){var n=1-(t=t||.65);if(0===e||1===e)return e;var i=2*e,s=i-1,a=n/(2*Math.PI)*Math.asin(1);return i<1?Math.pow(2,10*s)*Math.sin((s-a)*(2*Math.PI)/n)*-.5:Math.pow(2,-10*s)*Math.sin((s-a)*(2*Math.PI)/n)*.5+1},easeOutBounce:function(e){var t,n=e/1;return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(t=n-1.5/2.75)*t+.75:n<2.5/2.75?7.5625*(t=n-2.25/2.75)*t+.9375:7.5625*(t=n-2.625/2.75)*t+.984375},easeInBounce:function(e){return 1-O.easeOutBounce(1-e)},easeInOutBounce:function(e){return e<.5?.5*O.easeInBounce(2*e):.5*O.easeOutBounce(2*e-1)+.5}};b.easing={},b.extend(b.easing,O),b.extend({animate:function(e,t,i,s,a){var o,l,c,d,u,p=b(e),f=performance.now(),m={};if((0===i||b.fx.off)&&(i=1),i=i||300,s=s||this.easing.def,\"function\"==typeof i&&(a=i,i=300,s=\"linear\"),\"function\"==typeof s&&(a=s,s=this.easing.def),p.origin(\"animation-stop\",0),r(t))for(o in t)t.hasOwnProperty(o)&&(Array.isArray(t[o])?(l=h(t[o][0]),c=h(t[o][1])):(l=h(p.style(o)),c=h(t[o])),u=\"\"===c[1]&&-1===n.indexOf(o)?\"px\":c[1],d=c[0]-l[0],m[o]=[l[0],c[0],d,u]);return p.origin(\"animation\",requestAnimationFrame((function n(l){var c,d,h=p.origin(\"animation-stop\");if(h>0)return 2===h&&(\"function\"==typeof t?b.proxy(t,p[0])(1,1):r(t)&&function(e,t){for(o in m)m.hasOwnProperty(o)&&p.css(o,m[o][0]+1*m[o][2]+m[o][3])}()),_(b(e).origin(\"animation\")),void(\"function\"==typeof a&&b.proxy(a,p[0])());if((d=(l-f)/i)>1&&(d=1),d<0&&(d=0),c=(\"string\"==typeof s?b.easing[s]?b.easing[s]:b.easing[b.easing.def]:s)(d),\"function\"==typeof t)b.proxy(t,p[0])(d,c);else{if(!r(t))throw new Error(\"Unknown draw object. Must be a function or plain object\");!function(e,t){for(o in m)m.hasOwnProperty(o)&&p.css(o,m[o][0]+m[o][2]*t+m[o][3])}(0,c)}1===d&&\"function\"==typeof a&&b.proxy(a,p[0])(),d<1&&p.origin(\"animation\",requestAnimationFrame(n))}))),this},stop:function(e,t){b(e).origin(\"animation-stop\",!0===t?2:1)}}),b.fn.extend({animate:function(e,t,n,i){return this.each((function(){return b.animate(this,e,t,n,i)}))},stop:function(e){return this.each((function(){return b.stop(this,e)}))}}),b.extend({hidden:function(e,t,n){return e=b(e)[0],\"string\"==typeof t&&(t=\"true\"===t.toLowerCase()),\"function\"==typeof t&&(n=t,t=!e.hidden),e.hidden=t,\"function\"==typeof n&&(b.bind(n,e),n.call(e,arguments)),this},hide:function(e,t){var n=b(e);return e.style.display&&n.origin(\"display\",e.style.display?e.style.display:getComputedStyle(e,null).display),e.style.display=\"none\",\"function\"==typeof t&&(b.bind(t,e),t.call(e,arguments)),this},show:function(e,n){var i=b(e).origin(\"display\",t,\"block\");return e.style.display=i?\"none\"===i?\"block\":i:\"\",0===parseInt(e.style.opacity)&&(e.style.opacity=\"1\"),\"function\"==typeof n&&(b.bind(n,e),n.call(e,arguments)),this},visible:function(e,n,i){return n===t&&(n=!0),e.style.visibility=n?\"visible\":\"hidden\",\"function\"==typeof i&&(b.bind(i,e),i.call(e,arguments)),this},toggle:function(e,t){var n;return n=\"none\"!==getComputedStyle(e,null).display?\"hide\":\"show\",b[n](e,t)}}),b.fn.extend({hide:function(e){var n=t;return b.each(arguments,(function(){\"function\"==typeof this&&(n=this)})),this.each((function(){b.hide(this,n)}))},show:function(e){var n=t;return b.each(arguments,(function(){\"function\"==typeof this&&(n=this)})),this.each((function(){b.show(this,n)}))},visible:function(e,t){return this.each((function(){b.visible(this,e,t)}))},toggle:function(e){return this.each((function(){b.toggle(this,e)}))},hidden:function(e,t){return this.each((function(){b.hidden(this,e,t)}))}}),b.extend({fx:{off:!1},fadeIn:function(e,n,i,o){var r=b(e);if(!s(r[0])||s(r[0])&&0===parseInt(r.style(\"opacity\"))){a(n)&&a(i)&&a(o)?(o=null,n=1e3):\"function\"==typeof n&&(o=n,n=1e3),\"function\"==typeof i&&(o=i,i=\"linear\");var l=b(e).origin(\"display\",t,\"block\");return e.style.opacity=\"0\",e.style.display=l,this.animate(e,{opacity:1},n,i,(function(){this.style.removeProperty(\"opacity\"),\"function\"==typeof o&&b.proxy(o,this)()}))}return this},fadeOut:function(e,t,n,i){var o=b(e);if(s(o[0]))return a(t)&&a(n)&&a(i)?(i=null,t=1e3):\"function\"==typeof t&&(i=t,t=1e3),\"function\"==typeof n&&(i=n,n=\"linear\"),o.origin(\"display\",b(e).style(\"display\")),this.animate(e,{opacity:0},t,n,(function(){this.style.display=\"none\",this.style.removeProperty(\"opacity\"),\"function\"==typeof i&&b.proxy(i,this)()}))},slideDown:function(e,n,i,s){var o,r,l=b(e);if(isNaN(l.height())||0===l.height())return a(n)&&a(i)&&a(s)?(s=null,n=100):\"function\"==typeof n&&(s=n,n=100),\"function\"==typeof i&&(s=i,i=\"linear\"),l.show().visible(!1),o=l.origin(\"height\",t,l.height()),r=l.origin(\"display\",b(e).style(\"display\"),\"block\"),l.height(0).visible(!0),l.css({overflow:\"hidden\",display:\"none\"===r?\"block\":r}),this.animate(e,(function(t,n){e.style.height=o*n+\"px\",1===t&&b(e).removeStyleProperty(\"overflow, height, visibility\")}),n,i,s)},slideUp:function(e,t,n,i){var s,o=b(e);if(0!==o.height())return a(t)&&a(n)&&a(i)?(i=null,t=100):\"function\"==typeof t&&(i=t,t=100),\"function\"==typeof n&&(i=n,n=\"linear\"),s=o.height(),o.origin(\"height\",s),o.origin(\"display\",b(e).style(\"display\")),o.css({overflow:\"hidden\"}),this.animate(e,(function(t,n){e.style.height=(1-n)*s+\"px\",1===t&&o.hide().removeStyleProperty(\"overflow, height\")}),t,n,i)}}),b.fn.extend({fadeIn:function(e,t,n){return this.each((function(){b.fadeIn(this,e,t,n)}))},fadeOut:function(e,t,n){return this.each((function(){b.fadeOut(this,e,t,n)}))},slideUp:function(e,t,n){return this.each((function(){b.slideUp(this,e,t,n)}))},slideDown:function(e,t,n){return this.each((function(){b.slideDown(this,e,t,n)}))}}),b.init=function(e,n){var i,s;if(this.uid=b.uniqueId(),!e)return this;if(\"function\"==typeof e)return b.ready(e);if(\"object\"==typeof e&&\"undefined\"!=typeof jQuery&&e instanceof jQuery)return b.import(e);if(\"string\"==typeof e&&\"document\"===e&&(e=document),\"string\"==typeof e&&\"body\"===e&&(e=document.body),\"string\"==typeof e&&\"html\"===e&&(e=document.documentElement),\"string\"==typeof e&&\"doctype\"===e&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this[0]=e,this.length=1,this;if(e instanceof b)return s=b(),b.each(e,(function(){s.push(this)})),s;if(Array.isArray(e))return s=b(),b.each(e,(function(){b(this).each((function(){s.push(this)}))})),s;if(\"object\"==typeof e)return e;if(\"string\"==typeof e){if(\"#\"===(e=e.trim())||\".\"===e)throw new Error(\"sel can't be # or .\");1===(i=b.parseHTML(e,n)).length&&3===i[0].nodeType?[].push.apply(this,document.querySelectorAll(e)):b.merge(this,i)}return n!==t&&(n instanceof b||n instanceof HTMLElement)&&this.each((function(){b(n).append(b(this))})),this},b.init.prototype=b.fn;var I=e.$;e.m4q,b.Promise=Promise,e.m4q=b,void 0===e.$&&(e.$=b),m4q.global=function(){I=e.$,e.m4q,e.$=b},m4q.noConflict=function(){return e.$===b&&(e.$=I),b}}(window);var e=m4q;if(\"undefined\"==typeof m4q)throw new Error(\"Metro 4 requires m4q helper!\");if(!1 in window)throw new Error(\"Metro 4 requires MutationObserver!\");var t=e.meta(\"metro4:init\").attr(\"content\"),n=e.meta(\"metro4:init:mode\").attr(\"content\"),s=e.meta(\"metro4:locale\").attr(\"content\"),a=e.meta(\"metro4:week_start\").attr(\"content\"),r=e.meta(\"metro4:date_format\").attr(\"content\"),l=e.meta(\"metro4:date_format_input\").attr(\"content\"),c=e.meta(\"metro4:animation_duration\").attr(\"content\"),d=e.meta(\"metro4:callback_timeout\").attr(\"content\"),h=e.meta(\"metro4:timeout\").attr(\"content\"),u=e.meta(\"metro4:scroll_multiple\").attr(\"content\"),p=e.meta(\"metro4:cloak\").attr(\"content\"),f=e.meta(\"metro4:cloak_duration\").attr(\"content\"),m=e.meta(\"metro4:jquery\").attr(\"content\");window.jquery_present=\"undefined\"!=typeof jQuery,void 0===window.METRO_JQUERY&&(window.METRO_JQUERY=void 0===m||JSON.parse(m));var v=e.meta(\"metro4:about\").attr(\"content\");void 0===window.METRO_SHOW_ABOUT&&(window.METRO_SHOW_ABOUT=void 0===v||JSON.parse(v));var g=e.meta(\"metro4:compile\").attr(\"content\");void 0===window.METRO_SHOW_COMPILE_TIME&&(window.METRO_SHOW_COMPILE_TIME=void 0===g||JSON.parse(g)),void 0===window.METRO_INIT&&(window.METRO_INIT=void 0===t||JSON.parse(t)),void 0===window.METRO_INIT_MODE&&(window.METRO_INIT_MODE=void 0!==n?n:\"contentloaded\"),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_WEEK_START&&(window.METRO_WEEK_START=void 0!==a?parseInt(a):0),void 0===window.METRO_DATE_FORMAT&&(window.METRO_DATE_FORMAT=void 0!==r?r:\"%Y-%m-%d\"),void 0===window.METRO_DATE_FORMAT_INPUT&&(window.METRO_DATE_FORMAT_INPUT=void 0!==l?l:\"%Y-%m-%d\"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE=void 0!==s?s:\"en-US\"),void 0===window.METRO_ANIMATION_DURATION&&(window.METRO_ANIMATION_DURATION=void 0!==c?parseInt(c):100),void 0===window.METRO_CALLBACK_TIMEOUT&&(window.METRO_CALLBACK_TIMEOUT=void 0!==d?parseInt(d):500),void 0===window.METRO_TIMEOUT&&(window.METRO_TIMEOUT=void 0!==h?parseInt(h):2e3),void 0===window.METRO_SCROLL_MULTIPLE&&(window.METRO_SCROLL_MULTIPLE=void 0!==u?parseInt(u):20),void 0===window.METRO_CLOAK_REMOVE&&(window.METRO_CLOAK_REMOVE=void 0!==p?(\"\"+p).toLowerCase():\"fade\"),void 0===window.METRO_CLOAK_DURATION&&(window.METRO_CLOAK_DURATION=void 0!==f?parseInt(f):500),void 0===window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),void 0===window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),void 0===window.METRO_HOTKEYS_FILTER_TEXT_INPUTS&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),void 0===window.METRO_HOTKEYS_BUBBLE_UP&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),void 0===window.METRO_THROWS&&(window.METRO_THROWS=!0),window.METRO_MEDIA=[],\"function\"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),\"function\"!=typeof Object.values&&(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))});var C=\"ontouchstart\"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,b={version:\"4.3.3\",compileTime:\"03/11/2019 19:23:07\",buildNumber:\"741\",isTouchable:C,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:\"inside\",OUTSIDE:\"outside\"},groupMode:{ONE:\"one\",MULTI:\"multi\"},aspectRatio:{HD:\"hd\",SD:\"sd\",CINEMA:\"cinema\"},fullScreenMode:{WINDOW:\"window\",DESKTOP:\"desktop\"},position:{TOP:\"top\",BOTTOM:\"bottom\",LEFT:\"left\",RIGHT:\"right\",TOP_RIGHT:\"top-right\",TOP_LEFT:\"top-left\",BOTTOM_LEFT:\"bottom-left\",BOTTOM_RIGHT:\"bottom-right\",LEFT_BOTTOM:\"left-bottom\",LEFT_TOP:\"left-top\",RIGHT_TOP:\"right-top\",RIGHT_BOTTOM:\"right-bottom\"},popoverEvents:{CLICK:\"click\",HOVER:\"hover\",FOCUS:\"focus\"},stepperView:{SQUARE:\"square\",CYCLE:\"cycle\",DIAMOND:\"diamond\"},listView:{LIST:\"list\",CONTENT:\"content\",ICONS:\"icons\",ICONS_MEDIUM:\"icons-medium\",ICONS_LARGE:\"icons-large\",TILES:\"tiles\",TABLE:\"table\"},events:{click:\"click\",start:C?\"touchstart\":\"mousedown\",stop:C?\"touchend\":\"mouseup\",move:C?\"touchmove\":\"mousemove\",enter:C?\"touchstart\":\"mouseenter\",startAll:\"mousedown touchstart\",stopAll:\"mouseup touchend\",moveAll:\"mousemove touchmove\",leave:\"mouseleave\",focus:\"focus\",blur:\"blur\",resize:\"resize\",keyup:\"keyup\",keydown:\"keydown\",keypress:\"keypress\",dblclick:\"dblclick\",input:\"input\",change:\"change\",cut:\"cut\",paste:\"paste\",scroll:\"scroll\",mousewheel:\"mousewheel\",inputchange:\"change input propertychange cut paste copy drop\",dragstart:\"dragstart\",dragend:\"dragend\",dragenter:\"dragenter\",dragover:\"dragover\",dragleave:\"dragleave\",drop:\"drop\",drag:\"drag\"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:\"(min-width: 0px)\",XS:\"(min-width: 360px)\",SM:\"(min-width: 576px)\",MD:\"(min-width: 768px)\",LG:\"(min-width: 992px)\",XL:\"(min-width: 1200px)\",XXL:\"(min-width: 1452px)\"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:\"fs\",XS:\"xs\",SM:\"sm\",MD:\"md\",LG:\"lg\",XL:\"xl\",XXL:\"xxl\"},media_modes:[\"fs\",\"xs\",\"sm\",\"md\",\"lg\",\"xl\",\"xxl\"],actions:{REMOVE:1,HIDE:2},hotkeys:{},about:function(){console.log(\"Metro 4 - v\"+b.version+\". \"+b.showCompileTime()),console.log(\"m4q - \"+m4q.version)},showCompileTime:function(){return\"Built at: \"+b.compileTime},aboutDlg:function(){alert(\"Metro 4 - v\"+b.version+\". \"+b.showCompileTime())},ver:function(){return b.version},build:function(){return b.build},compile:function(){return b.compileTime},observe:function(){new MutationObserver((function(t){t.map((function(t){if(\"attributes\"===t.type&&\"data-role\"!==t.attributeName)if(\"data-hotkey\"===t.attributeName)b.initHotkeys([t.target],!0);else{var n=e(t.target),i=n.data(\"metroComponent\");void 0!==i&&e.each(i,(function(){var e=b.getPlugin(n,this);e&&e.changeAttribute(t.attributeName)}))}else if(\"childList\"===t.type&&t.addedNodes.length>0){var s,a,o,r=[],l=t.addedNodes;if(l.length){for(s=0;s<l.length;s++)o=l[s],void 0!==(a=e(o)).attr(\"data-role\")&&r.push(o),e.each(a.find(\"[data-role]\"),(function(){-1===r.indexOf(this)&&r.push(this)}));r.length&&b.initWidgets(r,\"observe\")}}}))})).observe(e(\"html\")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var t=e(\"[data-role]\"),n=e(\"[data-hotkey]\"),i=e(\"html\");!0===C?i.addClass(\"metro-touch-device\"):i.addClass(\"metro-no-touch-device\"),b.sheet=H.newCssSheet(),window.METRO_MEDIA=[],e.each(b.media_queries,(function(e,t){H.media(t)&&METRO_MEDIA.push(b.media_mode[e])})),b.observe(),b.initHotkeys(n),b.initWidgets(t,\"init\"),METRO_SHOW_ABOUT&&b.about(!0),\"fade\"!==METRO_CLOAK_REMOVE?e(\".m4-cloak\").removeClass(\"m4-cloak\"):e(\".m4-cloak\").animate({opacity:1},METRO_CLOAK_DURATION,(function(){e(\".m4-cloak\").removeClass(\"m4-cloak\")}))},initHotkeys:function(t,n){e.each(t,(function(){var t=e(this),i=!!t.attr(\"data-hotkey\")&&t.attr(\"data-hotkey\").toLowerCase(),s=!!t.attr(\"data-hotkey-func\")&&t.attr(\"data-hotkey-func\");!1!==i&&(!0!==t.data(\"hotKeyBonded\")||H.bool(n))&&(b.hotkeys[i]=[this,s],t.data(\"hotKeyBonded\",!0))}))},initWidgets:function(t){e.each(t,(function(){var t=e(this);t.data(\"role\").split(/\\s*,\\s*/).map((function(e){var n=H.$();if(void 0!==n.fn[e]&&void 0===t.attr(\"data-role-\"+e))try{n.fn[e].call(t),t.attr(\"data-role-\"+e,!0);var i=t.data(\"metroComponent\");void 0===i?i=[e]:i.push(e),t.data(\"metroComponent\",i)}catch(e){throw console.error(e.message+\" in \"+e.stack),e}}))}))},plugin:function(t,n){e.fn[t]=function(i){return this.each((function(){e.data(this,t,Object.create(n).init(i,this))}))},METRO_JQUERY&&jquery_present&&(jQuery.fn[t]=function(e){return this.each((function(){jQuery.data(this,t,Object.create(n).init(e,this))}))})},destroyPlugin:function(t,n){var i,s,a=e(t);if(i=a.data(n),!H.isValue(i))throw new Error(\"Component can not be destroyed: the element is not a Metro 4 component.\");if(!H.isFunc(i.destroy))throw new Error(\"Component can not be destroyed: method destroy not found.\");i.destroy(),s=a.data(\"metroComponent\"),H.arrayDelete(s,n),a.data(\"metroComponent\",s),e.removeData(a[0],n),a.removeAttr(\"data-role-\"+n)},destroyPluginAll:function(t){var n=e(t),i=n.data(\"metroComponent\");void 0!==i&&i.length>0&&e.each(i,(function(){b.destroyPlugin(n[0],this)}))},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},stop:function(e){e.stopPropagation(),e.preventDefault()},requestFullScreen:function(e){e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullscreen().catch((function(e){console.log(\"Error attempting to enable full-screen mode: \"+e.message+\" \"+e.name)}))},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch((function(e){console.log(\"Error attempting to disable full-screen mode: \"+e.message+\" \"+e.name)}))},inFullScreen:function(){return void 0!==(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},checkRuntime:function(t,n){var i=e(t);i.attr(\"data-role-\"+n)||b.makeRuntime(i,n)},makeRuntime:function(t,n){var i=e(t);i.attr(\"data-role-\"+n,!0),i.attr(\"data-role\",n);var s=i.data(\"metroComponent\");void 0===s?s=[n]:s.push(n),i.data(\"metroComponent\",s)},getPlugin:function(t,n){return H.$()(e(t)[0]).data(n)},makePlugin:function(t,n,i){return H.$()(e(t)[0])[n](i)}};window.Metro=b,e(window).on(b.events.resize,(function(){window.METRO_MEDIA=[],e.each(b.media_queries,(function(e,t){H.media(t)&&METRO_MEDIA.push(b.media_mode[e])}))}));var w={duration:METRO_ANIMATION_DURATION,func:\"linear\",switch:function(e,t){e.hide(),t.css({top:0,left:0}).show()},slideUp:function(e,t,n,i){var s=e.parent().outerHeight(!0);void 0===n&&(n=this.duration),void 0===i&&(i=this.func),e.css(\"z-index\",1).animate({top:-s,opacity:0},n,i),t.css({top:s,left:0,zIndex:2}).animate({top:0,opacity:1},n,i)},slideDown:function(e,t,n,i){var s=e.parent().outerHeight(!0);void 0===n&&(n=this.duration),void 0===i&&(i=this.func),e.css(\"z-index\",1).animate({top:s,opacity:0},n,i),t.css({left:0,top:-s,zIndex:2}).animate({top:0,opacity:1},n,i)},slideLeft:function(e,t,n,i){var s=e.parent().outerWidth(!0);void 0===n&&(n=this.duration),void 0===i&&(i=this.func),e.css(\"z-index\",1).animate({left:-s,opacity:0},n,i),t.css({left:s,zIndex:2}).animate({left:0,opacity:1},n,i)},slideRight:function(e,t,n,i){var s=e.parent().outerWidth(!0);void 0===n&&(n=this.duration),void 0===i&&(i=this.func),e.css(\"z-index\",1).animate({left:s,opacity:0},n,i),t.css({left:-s,zIndex:2}).animate({left:0,opacity:1},n,i)},fade:function(e,t,n){void 0===n&&(n=this.duration),e.animate({opacity:0},n),t.css({top:0,left:0,opacity:0}).animate({opacity:1},n)}};function y(e,t,n){this.r=e||0,this.g=t||0,this.g=n||0}function x(e,t,n){this.h=e||0,this.s=t||0,this.v=n||0}function S(e,t,n,i){this.c=e||0,this.m=t||0,this.y=n||0,this.k=i||0}b.animation=w,\"function\"!=typeof Array.shuffle&&(Array.prototype.shuffle=function(){for(var e,t,n=this.length;0!==n;)t=Math.floor(Math.random()*n),e=this[n-=1],this[n]=this[t],this[t]=e;return this}),\"function\"!=typeof Array.clone&&(Array.prototype.clone=function(){return this.slice(0)}),\"function\"!=typeof Array.unique&&(Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e}),\"function\"!=typeof Array.from&&(Array.from=function(e){var t,n=[];if(void 0===e.length&&\"object\"==typeof e)return Object.values(e);if(void 0!==e.length){for(t=0;t<e.length;t++)n.push(e[t]);return n}throw new Error(\"Value can not be converted to array\")}),\"function\"!=typeof Array.contains&&(Array.prototype.contains=function(e,t){return this.indexOf(e,t)>-1});var T={TYPES:{HEX:\"hex\",RGB:\"rgb\",RGBA:\"rgba\",HSV:\"hsv\",HSL:\"hsl\",CMYK:\"cmyk\",UNKNOWN:\"unknown\"},PALETTES:{ALL:\"colorList\",METRO:\"colorListMetro\",STANDARD:\"colorListStandard\"},colorListMetro:{lime:\"#a4c400\",green:\"#60a917\",emerald:\"#008a00\",blue:\"#00AFF0\",teal:\"#00aba9\",cyan:\"#1ba1e2\",cobalt:\"#0050ef\",indigo:\"#6a00ff\",violet:\"#aa00ff\",pink:\"#dc4fad\",magenta:\"#d80073\",crimson:\"#a20025\",red:\"#CE352C\",orange:\"#fa6800\",amber:\"#f0a30a\",yellow:\"#fff000\",brown:\"#825a2c\",olive:\"#6d8764\",steel:\"#647687\",mauve:\"#76608a\",taupe:\"#87794e\"},colorListStandard:{aliceBlue:\"#f0f8ff\",antiqueWhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedAlmond:\"#ffebcd\",blue:\"#0000ff\",blueViolet:\"#8a2be2\",brown:\"#a52a2a\",burlyWood:\"#deb887\",cadetBlue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerBlue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkBlue:\"#00008b\",darkCyan:\"#008b8b\",darkGoldenRod:\"#b8860b\",darkGray:\"#a9a9a9\",darkGreen:\"#006400\",darkKhaki:\"#bdb76b\",darkMagenta:\"#8b008b\",darkOliveGreen:\"#556b2f\",darkOrange:\"#ff8c00\",darkOrchid:\"#9932cc\",darkRed:\"#8b0000\",darkSalmon:\"#e9967a\",darkSeaGreen:\"#8fbc8f\",darkSlateBlue:\"#483d8b\",darkSlateGray:\"#2f4f4f\",darkTurquoise:\"#00ced1\",darkViolet:\"#9400d3\",deepPink:\"#ff1493\",deepSkyBlue:\"#00bfff\",dimGray:\"#696969\",dodgerBlue:\"#1e90ff\",fireBrick:\"#b22222\",floralWhite:\"#fffaf0\",forestGreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#DCDCDC\",ghostWhite:\"#F8F8FF\",gold:\"#ffd700\",goldenRod:\"#daa520\",gray:\"#808080\",green:\"#008000\",greenYellow:\"#adff2f\",honeyDew:\"#f0fff0\",hotPink:\"#ff69b4\",indianRed:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderBlush:\"#fff0f5\",lawnGreen:\"#7cfc00\",lemonChiffon:\"#fffacd\",lightBlue:\"#add8e6\",lightCoral:\"#f08080\",lightCyan:\"#e0ffff\",lightGoldenRodYellow:\"#fafad2\",lightGray:\"#d3d3d3\",lightGreen:\"#90ee90\",lightPink:\"#ffb6c1\",lightSalmon:\"#ffa07a\",lightSeaGreen:\"#20b2aa\",lightSkyBlue:\"#87cefa\",lightSlateGray:\"#778899\",lightSteelBlue:\"#b0c4de\",lightYellow:\"#ffffe0\",lime:\"#00ff00\",limeGreen:\"#32dc32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumAquaMarine:\"#66cdaa\",mediumBlue:\"#0000cd\",mediumOrchid:\"#ba55d3\",mediumPurple:\"#9370db\",mediumSeaGreen:\"#3cb371\",mediumSlateBlue:\"#7b68ee\",mediumSpringGreen:\"#00fa9a\",mediumTurquoise:\"#48d1cc\",mediumVioletRed:\"#c71585\",midnightBlue:\"#191970\",mintCream:\"#f5fffa\",mistyRose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajoWhite:\"#ffdead\",navy:\"#000080\",oldLace:\"#fdd5e6\",olive:\"#808000\",oliveDrab:\"#6b8e23\",orange:\"#ffa500\",orangeRed:\"#ff4500\",orchid:\"#da70d6\",paleGoldenRod:\"#eee8aa\",paleGreen:\"#98fb98\",paleTurquoise:\"#afeeee\",paleVioletRed:\"#db7093\",papayaWhip:\"#ffefd5\",peachPuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderBlue:\"#b0e0e6\",purple:\"#800080\",rebeccaPurple:\"#663399\",red:\"#ff0000\",rosyBrown:\"#bc8f8f\",royalBlue:\"#4169e1\",saddleBrown:\"#8b4513\",salmon:\"#fa8072\",sandyBrown:\"#f4a460\",seaGreen:\"#2e8b57\",seaShell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",slyBlue:\"#87ceeb\",slateBlue:\"#6a5acd\",slateGray:\"#708090\",snow:\"#fffafa\",springGreen:\"#00ff7f\",steelBlue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whiteSmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowGreen:\"#9acd32\"},colorList:{},options:{angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1},init:function(){return this.colorList=e.extend({},this.colorListStandard,this.colorListMetro),this},setup:function(t){this.options=e.extend({},this.options,t)},color:function(e,t){return void 0!==this[t=t||this.PALETTES.ALL][e]&&this[t][e]},palette:function(e){return e=e||this.PALETTES.ALL,Object.keys(this[e])},colors:function(t){var n=[];return t=t||this.PALETTES.ALL,e.each(this[t],(function(){n.push(this)})),n},hex2rgb:function(e){e=e.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},rgb2hex:function(e){return\"#\"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},rgb2hsv:function(e){var t,n,i,s=new x,a=e.r/255,o=e.g/255,r=e.b/255,l=Math.max(a,o,r),c=Math.min(a,o,r),d=l-c;return i=l,n=0===l?0:1-c/l,t=l===c?0:l===a&&o>=r?(o-r)/d*60:l===a&&o<r?(o-r)/d*60+360:l===o?(r-a)/d*60+120:l===r?(a-o)/d*60+240:0,s.h=t,s.s=n,s.v=i,s},hsv2rgb:function(e){var t,n,i,s=e.h,a=100*e.s,o=100*e.v,r=(100-a)*o/100,l=s%60/60*(o-r),c=r+l,d=o-l;switch(Math.floor(s/60)){case 0:t=o,n=c,i=r;break;case 1:t=d,n=o,i=r;break;case 2:t=r,n=o,i=c;break;case 3:t=r,n=d,i=o;break;case 4:t=c,n=r,i=o;break;case 5:t=o,n=r,i=d}return{r:Math.round(255*t/100),g:Math.round(255*n/100),b:Math.round(255*i/100)}},hsv2hex:function(e){return this.rgb2hex(this.hsv2rgb(e))},hex2hsv:function(e){return this.rgb2hsv(this.hex2rgb(e))},rgb2cmyk:function(e){var t=new S,n=e.r/255,i=e.g/255,s=e.b/255;return t.k=Math.min(1-n,1-i,1-s),t.c=(1-n-t.k)/(1-t.k),t.m=(1-i-t.k)/(1-t.k),t.y=(1-s-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},cmyk2rgb:function(e){var t=new y,n=e.c/100,i=e.m/100,s=e.y/100,a=e.k/100;return t.r=1-Math.min(1,n*(1-a)+a),t.g=1-Math.min(1,i*(1-a)+a),t.b=1-Math.min(1,s*(1-a)+a),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},hsv2hsl:function(e){var t,n,i;return t=e.h,i=(2-e.s)*e.v,n=e.s*e.v,{h:t,s:n/=i<=1?i:2-i,l:i/=2}},hsl2hsv:function(e){var t,n,i,s;return t=e.h,i=((s=2*e.l)+(n=e.s*(s<=1?s:2-s)))/2,{h:t,s:n=2*n/(s+n),l:i}},rgb2websafe:function(e){return{r:51*Math.round(e.r/51),g:51*Math.round(e.g/51),b:51*Math.round(e.b/51)}},rgba2websafe:function(e){return{r:51*Math.round(e.r/51),g:51*Math.round(e.g/51),b:51*Math.round(e.b/51),a:e.a}},hex2websafe:function(e){return this.rgb2hex(this.rgb2websafe(this.toRGB(e)))},hsv2websafe:function(e){return this.rgb2hsv(this.rgb2websafe(this.toRGB(e)))},hsl2websafe:function(e){return this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(e))))},cmyk2websafe:function(e){return this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(e)))},websafe:function(e){return this.isHEX(e)?this.hex2websafe(e):this.isRGB(e)?this.rgb2websafe(e):this.isRGBA(e)?this.rgba2websafe(e):this.isHSV(e)?this.hsv2websafe(e):this.isHSL(e)?this.hsl2websafe(e):this.isCMYK(e)?this.cmyk2websafe(e):e},is:function(e){return this.isHEX(e)?this.TYPES.HEX:this.isRGB(e)?this.TYPES.RGB:this.isRGBA(e)?this.TYPES.RGBA:this.isHSV(e)?this.TYPES.HSV:this.isHSL(e)?this.TYPES.HSL:this.isCMYK(e)?this.TYPES.CMYK:this.TYPES.UNKNOWN},toRGB:function(e){if(this.isHSV(e))return this.hsv2rgb(e);if(this.isHSL(e))return this.hsv2rgb(this.hsl2hsv(e));if(this.isRGB(e))return e;if(this.isHEX(e))return this.hex2rgb(e);if(this.isCMYK(e))return this.cmyk2rgb(e);throw new Error(\"Unknown color format!\")},toRGBA:function(e,t){var n=this.toRGB(e);return n.a=t||1,n},toHSV:function(e){return this.rgb2hsv(this.toRGB(e))},toHSL:function(e){return this.hsv2hsl(this.rgb2hsv(this.toRGB(e)))},toHSLA:function(e,t){var n;return(n=this.hsv2hsl(this.rgb2hsv(this.toRGB(e)))).a=t||this.options.alpha,n},toHEX:function(e){return this.rgb2hex(this.toRGB(e))},toCMYK:function(e){return this.rgb2cmyk(this.toRGB(e))},toHexString:function(e){return this.toHEX(e)},toHsvString:function(e){var t=this.toHSV(e);return\"hsv(\"+[t.h,t.s,t.v].join(\",\")+\")\"},toHslString:function(e){var t=this.toHSL(e);return\"hsl(\"+[Math.round(t.h),Math.round(100*t.s)+\"%\",Math.round(100*t.l)+\"%\"].join(\",\")+\")\"},toHslaString:function(e){var t=this.toHSLA(e);return\"hsl(\"+[Math.round(t.h),Math.round(100*t.s)+\"%\",Math.round(100*t.l)+\"%\",t.a].join(\",\")+\")\"},toCmykString:function(e){var t=this.toCMYK(e);return\"cmyk(\"+[t.c,t.m,t.y,t.k].join(\",\")+\")\"},toRgbString:function(e){var t=this.toRGB(e);return\"rgb(\"+[t.r,t.g,t.b].join(\",\")+\")\"},toRgbaString:function(e){var t=this.toRGBA(e);return\"rgba(\"+[t.r,t.g,t.b,t.a].join(\",\")+\")\"},toString:function(e){if(this.isHEX(e))return this.toHexString(e);if(this.isRGB(e))return this.toRgbString(e);if(this.isRGBA(e))return this.toRgbaString(e);if(this.isHSV(e))return this.toHsvString(e);if(this.isHSL(e))return this.toHslString(e);if(this.isHSLA(e))return this.toHslaString(e);if(this.isCMYK(e))return this.toCmykString(e);throw new Error(\"Unknown color format!\")},grayscale:function(e,t){t=t||\"hex\";var n=this.toRGB(e),i=Math.round(.2125*n.r+.7154*n.g+.0721*n.b),s={r:i,g:i,b:i};return this[\"rgb2\"+t](s)},darken:function(e,t){return void 0===t&&(t=10),this.lighten(e,-1*Math.abs(t))},lighten:function(e,t){var n,i,s=1,a=t>0,o=function(e,t){var n=e.slice(1),s=parseInt(n,16),a=(s>>16)+t;a>255?a=255:a<0&&(a=0);var o=(s>>8&255)+t;o>255?o=255:o<0&&(o=0);var r=(255&s)+t;return r>255?r=255:r<0&&(r=0),i=\"#\"+(r|o<<8|a<<16).toString(16)};void 0===t&&(t=10),(n=this.is(e))===this.TYPES.RGBA&&(s=e.a);do{i=o(this.toHEX(e),t),a?t--:t++}while(i.length<7);switch(n){case\"rgb\":return this.toRGB(i);case\"rgba\":return this.toRGBA(i,s);case\"hsv\":return this.toHSV(i);case\"hsl\":return this.toHSL(i);case\"cmyk\":return this.toCMYK(i);default:return i}},isDark:function(e){var t=this.toRGB(e);return(299*t.r+587*t.g+114*t.b)/1e3<128},isLight:function(e){return!this.isDark(e)},isHSV:function(e){return H.isObject(e)&&\"h\"in e&&\"s\"in e&&\"v\"in e},isHSL:function(e){return H.isObject(e)&&\"h\"in e&&\"s\"in e&&\"l\"in e},isHSLA:function(e){return H.isObject(e)&&\"h\"in e&&\"s\"in e&&\"l\"in e&&\"a\"in e},isRGB:function(e){return H.isObject(e)&&\"r\"in e&&\"g\"in e&&\"b\"in e},isRGBA:function(e){return H.isObject(e)&&\"r\"in e&&\"g\"in e&&\"b\"in e&&\"a\"in e},isCMYK:function(e){return H.isObject(e)&&\"c\"in e&&\"m\"in e&&\"y\"in e&&\"k\"in e},isHEX:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isColor:function(e){return this.isHEX(e)||this.isRGB(e)||this.isRGBA(e)||this.isHSV(e)||this.isHSL(e)||this.isCMYK(e)},hueShift:function(e,t){for(e+=t;e>=360;)e-=360;for(;e<0;)e+=360;return e},getScheme:function(t,n,i,s){var a;this.options=e.extend({},this.options,s);var o,r=[],l=this;if(o=this.toHSV(t),!1===this.isHSV(o))return console.log(\"The value is a not supported color format!\"),!1;function c(e,t,n){return Math.max(t,Math.min(e,n))}function d(e,t,n){return e<t?t:e>n?n:e}var h,u=o.h,p=o.s,f=o.v,m=this.options;switch(n){case\"monochromatic\":case\"mono\":if(1===m.algorithm)(h=this.hsv2rgb(o)).r=d(Math.round(h.r+(255-h.r)*m.tint1),0,255),h.g=d(Math.round(h.g+(255-h.g)*m.tint1),0,255),h.b=d(Math.round(h.b+(255-h.b)*m.tint1),0,255),r.push(this.rgb2hsv(h)),(h=this.hsv2rgb(o)).r=d(Math.round(h.r+(255-h.r)*m.tint2),0,255),h.g=d(Math.round(h.g+(255-h.g)*m.tint2),0,255),h.b=d(Math.round(h.b+(255-h.b)*m.tint2),0,255),r.push(this.rgb2hsv(h)),r.push(o),(h=this.hsv2rgb(o)).r=d(Math.round(h.r*m.shade1),0,255),h.g=d(Math.round(h.g*m.shade1),0,255),h.b=d(Math.round(h.b*m.shade1),0,255),r.push(this.rgb2hsv(h)),(h=this.hsv2rgb(o)).r=d(Math.round(h.r*m.shade2),0,255),h.g=d(Math.round(h.g*m.shade2),0,255),h.b=d(Math.round(h.b*m.shade2),0,255),r.push(this.rgb2hsv(h));else if(2===m.algorithm)for(r.push(o),a=1;a<=m.distance;a++)f=c(f-m.step,0,1),p=c(p-m.step,0,1),r.push({h:u,s:p,v:f});else if(3===m.algorithm)for(r.push(o),a=1;a<=m.distance;a++)f=c(f-m.step,0,1),r.push({h:u,s:p,v:f});else f=c(o.v+2*m.step,0,1),r.push({h:u,s:p,v:f}),f=c(o.v+m.step,0,1),r.push({h:u,s:p,v:f}),r.push(o),p=o.s,f=o.v,f=c(o.v-m.step,0,1),r.push({h:u,s:p,v:f}),f=c(o.v-2*m.step,0,1),r.push({h:u,s:p,v:f});break;case\"complementary\":case\"complement\":case\"comp\":r.push(o),u=this.hueShift(o.h,180),r.push({h:u,s:p,v:f});break;case\"double-complementary\":case\"double-complement\":case\"double\":r.push(o),u=this.hueShift(u,180),r.push({h:u,s:p,v:f}),u=this.hueShift(u,m.angle),r.push({h:u,s:p,v:f}),u=this.hueShift(u,180),r.push({h:u,s:p,v:f});break;case\"analogous\":case\"analog\":u=this.hueShift(u,m.angle),r.push({h:u,s:p,v:f}),r.push(o),u=this.hueShift(o.h,0-m.angle),r.push({h:u,s:p,v:f});break;case\"triadic\":case\"triad\":for(r.push(o),a=1;a<3;a++)u=this.hueShift(u,120),r.push({h:u,s:p,v:f});break;case\"tetradic\":case\"tetra\":r.push(o),u=this.hueShift(o.h,180),r.push({h:u,s:p,v:f}),u=this.hueShift(o.h,-1*m.angle),r.push({h:u,s:p,v:f}),u=this.hueShift(u,180),r.push({h:u,s:p,v:f});break;case\"square\":for(r.push(o),a=1;a<4;a++)u=this.hueShift(u,90),r.push({h:u,s:p,v:f});break;case\"split-complementary\":case\"split-complement\":case\"split\":u=this.hueShift(u,180-m.angle),r.push({h:u,s:p,v:f}),r.push(o),u=this.hueShift(o.h,180+m.angle),r.push({h:u,s:p,v:f});break;default:console.log(\"Unknown scheme name\")}return function(e,t){var n=[],i=l.options;switch(t){case\"hex\":n=e.map((function(e){return T.toHEX(e)}));break;case\"rgb\":n=e.map((function(e){return T.toRGB(e)}));break;case\"rgba\":n=e.map((function(e){return T.toRGBA(e,i.alpha)}));break;case\"hsl\":n=e.map((function(e){return T.toHSL(e)}));break;case\"cmyk\":n=e.map((function(e){return T.toCMYK(e)}));break;default:n=e}return n}(r,i)}};b.colors=T.init(),Date.prototype.getWeek=function(e){var t,n,i,s,a;return e=H.isValue(e)?\"number\"==typeof e?parseInt(e):0:METRO_WEEK_START,i=(i=(n=new Date(this.getFullYear(),0,1)).getDay()-e)>=0?i:i+7,s=Math.floor((this.getTime()-n.getTime()-6e4*(this.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1,i<4?(a=Math.floor((s+i-1)/7)+1)>52&&(a=(t=(t=new Date(this.getFullYear()+1,0,1).getDay()-e)>=0?t:t+7)<4?1:53):a=Math.floor((s+i-1)/7),a},Date.prototype.getYear=function(){return this.getFullYear().toString().substr(-2)},Date.prototype.format=function(e,t){void 0===t&&(t=\"en-US\");var n=(void 0!==b.locales&&void 0!==b.locales[t]?b.locales[t]:b.locales[\"en-US\"]).calendar,i=this,s=i.getDay(),a=i.getDate(),o=i.getMonth(),r=i.getFullYear(),l=i.getHours(),c=n.days,d=n.months,h=[0,31,59,90,120,151,181,212,243,273,304,334],u=function(){var e=new Date(i);return e.setDate(a-(s+6)%7+3),e},p=function(e,t){return(\"\"+(Math.pow(10,t)+e)).slice(1)};return e.replace(/(%[a-z])/gi,(function(e){return{\"%a\":c[s].slice(0,3),\"%A\":c[s],\"%b\":d[o].slice(0,3),\"%B\":d[o],\"%c\":i.toUTCString(),\"%C\":Math.floor(r/100),\"%d\":p(a,2),dd:p(a,2),\"%e\":a,\"%F\":i.toISOString().slice(0,10),\"%G\":u().getFullYear(),\"%g\":(\"\"+u().getFullYear()).slice(2),\"%H\":p(l,2),\"%I\":p((l+11)%12+1,2),\"%j\":p(h[o]+a+(o>1&&(r%4==0&&r%100!=0||r%400==0)?1:0),3),\"%k\":\"\"+l,\"%l\":(l+11)%12+1,\"%m\":p(o+1,2),\"%M\":p(i.getMinutes(),2),\"%p\":l<12?\"AM\":\"PM\",\"%P\":l<12?\"am\":\"pm\",\"%s\":Math.round(i.getTime()/1e3),\"%S\":p(i.getSeconds(),2),\"%u\":s||7,\"%V\":function(){var e=u(),t=e.valueOf();e.setMonth(0,1);var n=e.getDay();return 4!==n&&e.setMonth(0,1+(4-n+7)%7),p(1+Math.ceil((t-e)/6048e5),2)}(),\"%w\":\"\"+s,\"%x\":i.toLocaleDateString(),\"%X\":i.toLocaleTimeString(),\"%y\":(\"\"+r).slice(2),\"%Y\":r,\"%z\":i.toTimeString().replace(/.+GMT([+-]\\d+).+/,\"$1\"),\"%Z\":i.toTimeString().replace(/.+\\((.+?)\\)$/,\"$1\")}[e]||e}))},Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this},Date.prototype.addDays=function(e){return this.setDate(this.getDate()+e),this},Date.prototype.addMonths=function(e){return this.setMonth(this.getMonth()+e),this},Date.prototype.addYears=function(e){return this.setFullYear(this.getFullYear()+e),this};var k={init:function(){return this},options:{csvDelimiter:\"\\t\",csvNewLine:\"\\r\\n\",includeHeader:!0},setup:function(t){return this.options=e.extend({},this.options,t),this},base64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64toBlob:function(e,t,n){t=t||\"\",n=n||512;var i,s=window.atob(e),a=[];for(i=0;i<s.length;i+=n){var o,r=s.slice(i,i+n),l=new Array(r.length);for(o=0;o<r.length;o+=1)l[o]=r.charCodeAt(o);var c=new window.Uint8Array(l);a.push(c)}return new Blob(a,{type:t})},tableToCSV:function(t,n,i){var s,a,o,r,l,c,d=this.options,h=\"\";if(d=e.extend({},d,i),t=e(t)[0],H.bool(d.includeHeader))for(a=t.querySelectorAll(\"thead\")[0],o=0;o<a.rows.length;o++){for(l=a.rows[o],r=0;r<l.cells.length;r++)c=l.cells[r],h+=(r?d.csvDelimiter:\"\")+c.textContent.trim();h+=d.csvNewLine}for(s=t.querySelectorAll(\"tbody\")[0],o=0;o<s.rows.length;o++){for(l=s.rows[o],r=0;r<l.cells.length;r++)c=l.cells[r],h+=(r?d.csvDelimiter:\"\")+c.textContent.trim();h+=d.csvNewLine}return H.isValue(n)?this.createDownload(this.base64(\"\\ufeff\"+h),\"application/csv\",n):h},createDownload:function(e,t,n){var i,s,a;return(s=document.createElement(\"a\")).style.display=\"none\",document.body.appendChild(s),i=this.b64toBlob(e,t),a=window.URL.createObjectURL(i),s.href=a,s.download=n||H.elementId(\"download\"),s.click(),window.URL.revokeObjectURL(a),document.body.removeChild(s),!0}};b.export=k.init();var _={\"en-US\":{calendar:{months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\",\"Sun\",\"Mon\",\"Tus\",\"Wen\",\"Thu\",\"Fri\",\"Sat\"],time:{days:\"DAYS\",hours:\"HOURS\",minutes:\"MINS\",seconds:\"SECS\",month:\"MON\",day:\"DAY\",year:\"YEAR\"}},buttons:{ok:\"OK\",cancel:\"Cancel\",done:\"Done\",today:\"Today\",now:\"Now\",clear:\"Clear\",help:\"Help\",yes:\"Yes\",no:\"No\",random:\"Random\",save:\"Save\",reset:\"Reset\"}},\"tw-ZH\":{calendar:{months:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\",\"1月\",\"2月\",\"3月\",\"4月\",\"5月\",\"6月\",\"7月\",\"8月\",\"9月\",\"10月\",\"11月\",\"12月\"],days:[\"星期日\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\",\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"週日\",\"週一\",\"週二\",\"週三\",\"週四\",\"週五\",\"週六\"],time:{days:\"天\",hours:\"時\",minutes:\"分\",seconds:\"秒\",month:\"月\",day:\"日\",year:\"年\"}},buttons:{ok:\"確認\",cancel:\"取消\",done:\"完成\",today:\"今天\",now:\"現在\",clear:\"清除\",help:\"幫助\",yes:\"是\",no:\"否\",random:\"隨機\",save:\"保存\",reset:\"重啟\"}},\"cn-ZH\":{calendar:{months:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\",\"1月\",\"2月\",\"3月\",\"4月\",\"5月\",\"6月\",\"7月\",\"8月\",\"9月\",\"10月\",\"11月\",\"12月\"],days:[\"星期日\",\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\",\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\"],time:{days:\"天\",hours:\"时\",minutes:\"分\",seconds:\"秒\",month:\"月\",day:\"日\",year:\"年\"}},buttons:{ok:\"确认\",cancel:\"取消\",done:\"完成\",today:\"今天\",now:\"现在\",clear:\"清除\",help:\"帮助\",yes:\"是\",no:\"否\",random:\"随机\",save:\"保存\",reset:\"重啟\"}},\"de-DE\":{calendar:{months:[\"Januar\",\"Februar\",\"März\",\"April\",\"Mai\",\"Juni\",\"Juli\",\"August\",\"September\",\"Oktober\",\"November\",\"Dezember\",\"Jan\",\"Feb\",\"Mär\",\"Apr\",\"Mai\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Okt\",\"Nov\",\"Dez\"],days:[\"Sonntag\",\"Montag\",\"Dienstag\",\"Mittwoch\",\"Donnerstag\",\"Freitag\",\"Samstag\",\"Sn\",\"Mn\",\"Di\",\"Mi\",\"Do\",\"Fr\",\"Sa\",\"Son\",\"Mon\",\"Die\",\"Mit\",\"Don\",\"Fre\",\"Sam\"],time:{days:\"TAGE\",hours:\"UHR\",minutes:\"MIN\",seconds:\"SEK\"}},buttons:{ok:\"OK\",cancel:\"Abbrechen\",done:\"Fertig\",today:\"Heute\",now:\"Jetzt\",clear:\"Reinigen\",help:\"Hilfe\",yes:\"Ja\",no:\"Nein\",random:\"Zufällig\",save:\"Sparen\",reset:\"Zurücksetzen\"}},\"hu-HU\":{calendar:{months:[\"Január\",\"Február\",\"Március\",\"Április\",\"Május\",\"Június\",\"Július\",\"Augusztus\",\"Szeptember\",\"Október\",\"November\",\"December\",\"Jan\",\"Feb\",\"Már\",\"Ápr\",\"Máj\",\"Jún\",\"Júl\",\"Aug\",\"Szep\",\"Okt\",\"Nov\",\"Dec\"],days:[\"Vasárnap\",\"Hétfő\",\"Kedd\",\"Szerda\",\"Csütörtök\",\"Péntek\",\"Szombat\",\"V\",\"H\",\"K\",\"Sz\",\"Cs\",\"P\",\"Sz\",\"Vas\",\"Hét\",\"Ke\",\"Sze\",\"Csü\",\"Pén\",\"Szom\"],time:{days:\"NAP\",hours:\"ÓRA\",minutes:\"PERC\",seconds:\"MP\"}},buttons:{ok:\"OK\",cancel:\"Mégse\",done:\"Kész\",today:\"Ma\",now:\"Most\",clear:\"Törlés\",help:\"Segítség\",yes:\"Igen\",no:\"Nem\",random:\"Véletlen\",save:\"Mentés\",reset:\"Visszaállítás\"}},\"ru-RU\":{calendar:{months:[\"Январь\",\"Февраль\",\"Март\",\"Апрель\",\"Май\",\"Июнь\",\"Июль\",\"Август\",\"Сентябрь\",\"Октябрь\",\"Ноябрь\",\"Декабрь\",\"Янв\",\"Фев\",\"Мар\",\"Апр\",\"Май\",\"Июн\",\"Июл\",\"Авг\",\"Сен\",\"Окт\",\"Ноя\",\"Дек\"],days:[\"Воскресенье\",\"Понедельник\",\"Вторник\",\"Среда\",\"Четверг\",\"Пятница\",\"Суббота\",\"Вс\",\"Пн\",\"Вт\",\"Ср\",\"Чт\",\"Пт\",\"Сб\",\"Вос\",\"Пон\",\"Вто\",\"Сре\",\"Чет\",\"Пят\",\"Суб\"],time:{days:\"ДНИ\",hours:\"ЧАСЫ\",minutes:\"МИН\",seconds:\"СЕК\"}},buttons:{ok:\"ОК\",cancel:\"Отмена\",done:\"Готово\",today:\"Сегодня\",now:\"Сейчас\",clear:\"Очистить\",help:\"Помощь\",yes:\"Да\",no:\"Нет\",random:\"Случайно\",save:\"Сохранить\",reset:\"Сброс\"}},\"uk-UA\":{calendar:{months:[\"Січень\",\"Лютий\",\"Березень\",\"Квітень\",\"Травень\",\"Червень\",\"Липень\",\"Серпень\",\"Вересень\",\"Жовтень\",\"Листопад\",\"Грудень\",\"Січ\",\"Лют\",\"Бер\",\"Кві\",\"Тра\",\"Чер\",\"Лип\",\"Сер\",\"Вер\",\"Жов\",\"Лис\",\"Гру\"],days:[\"Неділя\",\"Понеділок\",\"Вівторок\",\"Середа\",\"Четвер\",\"П’ятниця\",\"Субота\",\"Нд\",\"Пн\",\"Вт\",\"Ср\",\"Чт\",\"Пт\",\"Сб\",\"Нед\",\"Пон\",\"Вiв\",\"Сер\",\"Чет\",\"Пят\",\"Суб\"],time:{days:\"ДНІ\",hours:\"ГОД\",minutes:\"ХВИЛ\",seconds:\"СЕК\"}},buttons:{ok:\"ОК\",cancel:\"Відміна\",done:\"Готово\",today:\"Сьогодні\",now:\"Зараз\",clear:\"Очистити\",help:\"Допомога\",yes:\"Так\",no:\"Ні\",random:\"Випадково\",save:\"Зберегти\",reset:\"Скинути\"}},\"es-MX\":{calendar:{months:[\"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayo\",\"Junio\",\"Julio\",\"Agosto\",\"Septiembre\",\"Octubre\",\"Noviembre\",\"Diciembre\",\"Ene\",\"Feb\",\"Mar\",\"Abr\",\"May\",\"Jun\",\"Jul\",\"Ago\",\"Sep\",\"Oct\",\"Nov\",\"Dic\"],days:[\"Domingo\",\"Lunes\",\"Martes\",\"Miércoles\",\"Jueves\",\"Viernes\",\"Sábado\",\"Do\",\"Lu\",\"Ma\",\"Mi\",\"Ju\",\"Vi\",\"Sa\",\"Dom\",\"Lun\",\"Mar\",\"Mié\",\"Jue\",\"Vie\",\"Sáb\"],time:{days:\"DÍAS\",hours:\"HORAS\",minutes:\"MINS\",seconds:\"SEGS\",month:\"MES\",day:\"DÍA\",year:\"AÑO\"}},buttons:{ok:\"Aceptar\",cancel:\"Cancelar\",done:\"Hecho\",today:\"Hoy\",now:\"Ahora\",clear:\"Limpiar\",help:\"Ayuda\",yes:\"Si\",no:\"No\",random:\"Aleatorio\",save:\"Salvar\",reset:\"Reiniciar\"}},\"fr-FR\":{calendar:{months:[\"Janvier\",\"Février\",\"Mars\",\"Avril\",\"Mai\",\"Juin\",\"Juillet\",\"Août\",\"Septembre\",\"Octobre\",\"Novembre\",\"Décembre\",\"Janv\",\"Févr\",\"Mars\",\"Avr\",\"Mai\",\"Juin\",\"Juil\",\"Août\",\"Sept\",\"Oct\",\"Nov\",\"Déc\"],days:[\"Dimanche\",\"Lundi\",\"Mardi\",\"Mercredi\",\"Jeudi\",\"Vendredi\",\"Samedi\",\"De\",\"Du\",\"Ma\",\"Me\",\"Je\",\"Ve\",\"Sa\",\"Dim\",\"Lun\",\"Mar\",\"Mer\",\"Jeu\",\"Ven\",\"Sam\"],time:{days:\"JOURS\",hours:\"HEURES\",minutes:\"MINS\",seconds:\"SECS\",month:\"MOIS\",day:\"JOUR\",year:\"ANNEE\"}},buttons:{ok:\"OK\",cancel:\"Annulé\",done:\"Fait\",today:\"Aujourd'hui\",now:\"Maintenant\",clear:\"Effacé\",help:\"Aide\",yes:\"Oui\",no:\"Non\",random:\"Aléatoire\",save:\"Sauvegarder\",reset:\"Réinitialiser\"}},\"it-IT\":{calendar:{months:[\"Gennaio\",\"Febbraio\",\"Marzo\",\"Aprile\",\"Maggio\",\"Giugno\",\"Luglio\",\"Agosto\",\"Settembre\",\"Ottobre\",\"Novembre\",\"Dicembre\",\"Gen\",\"Feb\",\"Mar\",\"Apr\",\"Mag\",\"Giu\",\"Lug\",\"Ago\",\"Set\",\"Ott\",\"Nov\",\"Dic\"],days:[\"Domenica\",\"Lunedì\",\"Martedì\",\"Mercoledì\",\"Giovedì\",\"Venerdì\",\"Sabato\",\"Do\",\"Lu\",\"Ma\",\"Me\",\"Gi\",\"Ve\",\"Sa\",\"Dom\",\"Lun\",\"Mar\",\"Mer\",\"Gio\",\"Ven\",\"Sab\"],time:{days:\"GIORNI\",hours:\"ORE\",minutes:\"MIN\",seconds:\"SEC\",month:\"MESE\",day:\"GIORNO\",year:\"ANNO\"}},buttons:{ok:\"OK\",cancel:\"Annulla\",done:\"Fatto\",today:\"Oggi\",now:\"Adesso\",clear:\"Cancella\",help:\"Aiuto\",yes:\"Sì\",no:\"No\",random:\"Random\",save:\"Salvare\",reset:\"Reset\"}}};b.locales=_;var O=0;function I(e){return E(P(A(e),8*e.length))}function M(e){for(var t,n=O?\"0123456789ABCDEF\":\"0123456789abcdef\",i=\"\",s=0;s<e.length;s++)t=e.charCodeAt(s),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function D(e){for(var t,n,i=\"\",s=-1;++s<e.length;)t=e.charCodeAt(s),n=s+1<e.length?e.charCodeAt(s+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),s++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function A(e){var t,n=new Array(e.length>>2);for(t=0;t<n.length;t++)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function E(e){for(var t=\"\",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function P(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,s=-1732584194,a=271733878,o=0;o<e.length;o+=16){var r=n,l=i,c=s,d=a;n=R(n,i,s,a,e[o],7,-680876936),a=R(a,n,i,s,e[o+1],12,-389564586),s=R(s,a,n,i,e[o+2],17,606105819),i=R(i,s,a,n,e[o+3],22,-1044525330),n=R(n,i,s,a,e[o+4],7,-176418897),a=R(a,n,i,s,e[o+5],12,1200080426),s=R(s,a,n,i,e[o+6],17,-1473231341),i=R(i,s,a,n,e[o+7],22,-45705983),n=R(n,i,s,a,e[o+8],7,1770035416),a=R(a,n,i,s,e[o+9],12,-1958414417),s=R(s,a,n,i,e[o+10],17,-42063),i=R(i,s,a,n,e[o+11],22,-1990404162),n=R(n,i,s,a,e[o+12],7,1804603682),a=R(a,n,i,s,e[o+13],12,-40341101),s=R(s,a,n,i,e[o+14],17,-1502002290),n=F(n,i=R(i,s,a,n,e[o+15],22,1236535329),s,a,e[o+1],5,-165796510),a=F(a,n,i,s,e[o+6],9,-1069501632),s=F(s,a,n,i,e[o+11],14,643717713),i=F(i,s,a,n,e[o],20,-373897302),n=F(n,i,s,a,e[o+5],5,-701558691),a=F(a,n,i,s,e[o+10],9,38016083),s=F(s,a,n,i,e[o+15],14,-660478335),i=F(i,s,a,n,e[o+4],20,-405537848),n=F(n,i,s,a,e[o+9],5,568446438),a=F(a,n,i,s,e[o+14],9,-1019803690),s=F(s,a,n,i,e[o+3],14,-187363961),i=F(i,s,a,n,e[o+8],20,1163531501),n=F(n,i,s,a,e[o+13],5,-1444681467),a=F(a,n,i,s,e[o+2],9,-51403784),s=F(s,a,n,i,e[o+7],14,1735328473),n=L(n,i=F(i,s,a,n,e[o+12],20,-1926607734),s,a,e[o+5],4,-378558),a=L(a,n,i,s,e[o+8],11,-2022574463),s=L(s,a,n,i,e[o+11],16,1839030562),i=L(i,s,a,n,e[o+14],23,-35309556),n=L(n,i,s,a,e[o+1],4,-1530992060),a=L(a,n,i,s,e[o+4],11,1272893353),s=L(s,a,n,i,e[o+7],16,-155497632),i=L(i,s,a,n,e[o+10],23,-1094730640),n=L(n,i,s,a,e[o+13],4,681279174),a=L(a,n,i,s,e[o],11,-358537222),s=L(s,a,n,i,e[o+3],16,-722521979),i=L(i,s,a,n,e[o+6],23,76029189),n=L(n,i,s,a,e[o+9],4,-640364487),a=L(a,n,i,s,e[o+12],11,-421815835),s=L(s,a,n,i,e[o+15],16,530742520),n=V(n,i=L(i,s,a,n,e[o+2],23,-995338651),s,a,e[o],6,-198630844),a=V(a,n,i,s,e[o+7],10,1126891415),s=V(s,a,n,i,e[o+14],15,-1416354905),i=V(i,s,a,n,e[o+5],21,-57434055),n=V(n,i,s,a,e[o+12],6,1700485571),a=V(a,n,i,s,e[o+3],10,-1894986606),s=V(s,a,n,i,e[o+10],15,-1051523),i=V(i,s,a,n,e[o+1],21,-2054922799),n=V(n,i,s,a,e[o+8],6,1873313359),a=V(a,n,i,s,e[o+15],10,-30611744),s=V(s,a,n,i,e[o+6],15,-1560198380),i=V(i,s,a,n,e[o+13],21,1309151649),n=V(n,i,s,a,e[o+4],6,-145523070),a=V(a,n,i,s,e[o+11],10,-1120210379),s=V(s,a,n,i,e[o+2],15,718787259),i=V(i,s,a,n,e[o+9],21,-343485551),n=B(n,r),i=B(i,l),s=B(s,c),a=B(a,d)}return[n,i,s,a]}function N(e,t,n,i,s,a){return B((o=B(B(t,e),B(i,a)))<<(r=s)|o>>>32-r,n);var o,r}function R(e,t,n,i,s,a,o){return N(t&n|~t&i,e,t,s,a,o)}function F(e,t,n,i,s,a,o){return N(t&i|n&~i,e,t,s,a,o)}function L(e,t,n,i,s,a,o){return N(t^n^i,e,t,s,a,o)}function V(e,t,n,i,s,a,o){return N(n^(t|~i),e,t,s,a,o)}function B(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}Number.prototype.format=function(e,t,n,i){var s=\"\\\\d(?=(\\\\d{\"+(t||3)+\"})+\"+(e>0?\"\\\\D\":\"$\")+\")\",a=this.toFixed(Math.max(0,~~e));return(i?a.replace(\".\",i):a).replace(new RegExp(s,\"g\"),\"$&\"+(n||\",\"))},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.contains=function(){return!!~String.prototype.indexOf.apply(this,arguments)},String.prototype.toDate=function(e,t){var n,i,s,a,o,r,l,c,d,h,u,p,f,m,v,g;if(t=t||\"en-US\",null==e||\"\"===e)return new Date(this);if(n=this.replace(/[\\/,.:\\s]/g,\"-\"),i=e.toLowerCase().replace(/[^a-zA-Z0-9%]/g,\"-\").split(\"-\"),s=n.split(\"-\"),\"\"===n.replace(/\\-/g,\"\").trim())return\"Invalid Date\";if(a=i.indexOf(\"mm\")>-1?i.indexOf(\"mm\"):i.indexOf(\"%m\"),o=i.indexOf(\"dd\")>-1?i.indexOf(\"dd\"):i.indexOf(\"%d\"),r=i.indexOf(\"yyyy\")>-1?i.indexOf(\"yyyy\"):i.indexOf(\"yy\")>-1?i.indexOf(\"yy\"):i.indexOf(\"%y\"),l=i.indexOf(\"hh\")>-1?i.indexOf(\"hh\"):i.indexOf(\"%h\"),c=i.indexOf(\"ii\")>-1?i.indexOf(\"ii\"):i.indexOf(\"mi\")>-1?i.indexOf(\"mi\"):i.indexOf(\"%i\"),d=i.indexOf(\"ss\")>-1?i.indexOf(\"ss\"):i.indexOf(\"%s\"),!(a>-1&&\"\"!==s[a]))return\"Invalid Date\";if(isNaN(parseInt(s[a]))){if(s[a]=function(e){var n,i,s,a;if(!H.isValue(e))return-1;if(e=e.substr(0,3),void 0!==t&&\"en-US\"!==t&&void 0!==_&&void 0!==_[t]&&void 0!==_[t].calendar&&void 0!==_[t].calendar.months){for(i=_[t].calendar.months,a=12;a<i.length;a++)if(i[a].toLowerCase()===e.toLowerCase()){s=a-12;break}e=_[\"en-US\"].calendar.months[s]}return n=Date.parse(e+\" 1, 1972\"),isNaN(n)?-1:new Date(n).getMonth()+1}(s[a]),-1===s[a])return\"Invalid Date\"}else if((g=parseInt(s[a]))<1||g>12)return\"Invalid Date\";return h=r>-1&&\"\"!==s[r]?s[r]:null,u=a>-1&&\"\"!==s[a]?s[a]:null,p=o>-1&&\"\"!==s[o]?s[o]:null,f=l>-1&&\"\"!==s[l]?s[l]:null,m=c>-1&&\"\"!==s[c]?s[c]:null,v=d>-1&&\"\"!==s[d]?s[d]:null,new Date(h,u-1,p,f,m,v)},String.prototype.toArray=function(e,t,n){return t=t||\"string\",n=null!=n&&n,(\"\"+this).split(e=e||\",\").map((function(e){var i;switch(t){case\"int\":case\"integer\":i=parseInt(e);break;case\"number\":case\"float\":i=parseFloat(e);break;case\"date\":i=n?e.toDate(n):new Date(e);break;default:i=e.trim()}return i}))},b.template=function(e,t,n){var i,s,a,o=\"<%(.+?)%>\",r=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,l=\"with(obj) { var r=[];\\n\",c=0,d=function(e,t){return l+=t?e.match(r)?e+\"\\n\":\"r.push(\"+e+\");\\n\":\"\"!==e?'r.push(\"'+e.replace(/\"/g,'\\\\\"')+'\");\\n':\"\",d};for(H.isValue(n)&&(n.hasOwnProperty(\"beginToken\")&&(o=o.replace(\"<%\",n.beginToken)),n.hasOwnProperty(\"endToken\")&&(o=o.replace(\"%>\",n.endToken))),a=(i=new RegExp(o,\"g\")).exec(e);a;)d(e.slice(c,a.index))(a[1],!0),c=a.index+a[0].length,a=i.exec(e);d(e.substr(c,e.length-c)),l=(l+'return r.join(\"\"); }').replace(/[\\r\\t\\n]/g,\" \");try{s=new Function(\"obj\",l).apply(t,[t])}catch(e){console.error(\"'\"+e.message+\"'\",\" in \\n\\nCode:\\n\",l,\"\\n\")}return s};var H={isUrl:function(e){return/^(\\.\\/|\\.\\.\\/|ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@\\-\\/]))?/.test(e)},isTag:function(e){return/^<\\/?[\\w\\s=\"/.':;#-\\/\\?]+>/gi.test(e)},isColor:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isEmbedObject:function(t){var n=!1;return e.each([\"iframe\",\"object\",\"embed\",\"video\"],(function(){\"string\"==typeof t&&t.toLowerCase()===this?n=!0:void 0!==t.nodeType&&t.tagName.toLowerCase()===this&&(n=!0)})),n},isVideoUrl:function(e){return/youtu\\.be|youtube|vimeo/gi.test(e)},isDate:function(e,t){return!(\"object\"!=typeof e||!H.isFunc(e.getMonth))||\"Invalid Date\"!==(H.isValue(t)?String(e).toDate(t):String(new Date(e)))},isDateObject:function(e){return\"object\"==typeof e&&void 0!==e.getMonth},isInt:function(e){return!isNaN(e)&&+e%1==0},isFloat:function(e){return!isNaN(e)&&+e%1!=0},isTouchDevice:function(){return\"ontouchstart\"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},isFunc:function(e){return H.isType(e,\"function\")},isObject:function(e){return H.isType(e,\"object\")},isArray:function(e){return Array.isArray(e)},isType:function(e,t){if(!H.isValue(e))return!1;if(typeof e===t)return e;if(H.isTag(e)||H.isUrl(e))return!1;if(typeof window[e]===t)return window[e];if(\"string\"==typeof e&&-1===e.indexOf(\".\"))return!1;if(\"string\"==typeof e&&-1!==e.indexOf(\"/\"))return!1;if(\"string\"==typeof e&&-1!==e.indexOf(\" \"))return!1;if(\"string\"==typeof e&&-1!==e.indexOf(\"(\"))return!1;if(\"string\"==typeof e&&-1!==e.indexOf(\"[\"))return!1;if(\"number\"==typeof e&&\"number\"!==t.toLowerCase())return!1;var n,i=e.split(\".\"),s=window;for(n=0;n<i.length;n++)s=s[i[n]];return typeof s===t&&s},$:function(){return METRO_JQUERY&&jquery_present?jQuery:m4q},isMetroObject:function(t,n){var i=e(t),s=b.getPlugin(t,n);return 0===i.length?(console.warn(n+\" \"+t+\" not found!\"),!1):void 0!==s||(console.warn(\"Element not contain role \"+n+'! Please add attribute data-role=\"'+n+'\" to element '+t),!1)},isJQuery:function(e){return\"undefined\"!=typeof jQuery&&e instanceof jQuery},isM4Q:function(e){return\"undefined\"!=typeof m4q&&e instanceof m4q},isQ:function(e){return H.isJQuery(e)||H.isM4Q(e)},embedObject:function(t){return\"<div class='embed-container'>\"+e(t)[0].outerHTML+\"</div>\"},embedUrl:function(e){return-1!==e.indexOf(\"youtu.be\")&&(e=\"https://www.youtube.com/embed/\"+e.split(\"/\").pop()),\"<div class='embed-container'><iframe src='\"+e+\"'></iframe></div>\"},secondsToTime:function(e){var t=e%3600,n=t%60;return{h:Math.floor(e/3600),m:Math.floor(t/60),s:Math.ceil(n)}},hex2rgba:function(e,t){var n;if(t=isNaN(t)?1:t,/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3===(n=e.substring(1).split(\"\")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),\"rgba(\"+[(n=\"0x\"+n.join(\"\"))>>16&255,n>>8&255,255&n].join(\",\")+\",\"+t+\")\";throw new Error(\"Hex2rgba error. Bad Hex value\")},random:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},uniqueId:function(){var e=(new Date).getTime();return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(\"x\"===t?n:3&n|8).toString(16)}))},elementId:function(e){return e+\"-\"+(new Date).getTime()+H.random(1,1e3)},secondsToFormattedString:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),s=t-3600*n-60*i;return n<10&&(n=\"0\"+n),i<10&&(i=\"0\"+i),s<10&&(s=\"0\"+s),[n,i,s].join(\":\")},callback:function(e,t,n){return H.exec(e,t,n)},func:function(e){return new Function(\"a\",e)},exec:function(e,t,n){var i;if(null==e)return!1;var s=H.isFunc(e);!1===s&&(s=H.func(e));try{i=s.apply(n,t)}catch(e){if(i=null,!0===METRO_THROWS)throw e}return i},isOutsider:function(t){var n,i=e(t),s=i.clone();return s.removeAttr(\"data-role\").css({visibility:\"hidden\",position:\"absolute\",display:\"block\"}),i.parent().append(s),n=s[0].getBoundingClientRect(),s.remove(),n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},inViewport:function(e){var t=H.rect(e);return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},rect:function(e){return e.getBoundingClientRect()},getCursorPosition:function(e,t){var n=H.rect(e);return{x:H.pageXY(t).x-n.left-window.pageXOffset,y:H.pageXY(t).y-n.top-window.pageYOffset}},getCursorPositionX:function(e,t){return H.getCursorPosition(e,t).x},getCursorPositionY:function(e,t){return H.getCursorPosition(e,t).y},objectLength:function(e){return Object.keys(e).length},percent:function(e,t,n){if(0===e)return 0;var i=100*t/e;return!0===n?Math.round(i):Math.round(100*i)/100},camelCase:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},dashedName:function(e){return e.replace(/([A-Z])/g,(function(e){return\"-\"+e.toLowerCase()}))},objectShift:function(t){var n=0;return e.each(t,(function(e){0===n?n=e:n>e&&(n=e)})),delete t[n],t},objectDelete:function(e,t){void 0!==e[t]&&delete e[t]},arrayDeleteByMultipleKeys:function(e,t){return t.forEach((function(t){delete e[t]})),e.filter((function(e){return void 0!==e}))},arrayDelete:function(e,t){e.indexOf(t)>-1&&e.splice(e.indexOf(t),1)},arrayDeleteByKey:function(e,t){e.splice(t,1)},nvl:function(e,t){return null==e?t:e},objectClone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},github:function(t,n){e.json(\"https://api.github.com/repos/\"+t).then((function(e){H.exec(n,[e])}))},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf(\"MSIE \");if(t>0)return parseInt(e.substring(t+5,e.indexOf(\".\",t)),10);if(e.indexOf(\"Trident/\")>0){var n=e.indexOf(\"rv:\");return parseInt(e.substring(n+3,e.indexOf(\".\",n)),10)}var i=e.indexOf(\"Edge/\");return i>0&&parseInt(e.substring(i+5,e.indexOf(\".\",i)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},md5:function(e){return function(e){return M(I(D(e)))}(e)},encodeURI:function(e){return encodeURI(e).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\")},pageHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},cleanPreCode:function(e){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach((function(e){var t=e.textContent.replace(/^[\\r\\n]+/,\"\").replace(/\\s+$/g,\"\");if(/^\\S/gm.test(t))e.textContent=t;else{for(var n,i,s,a=/^[\\t ]+/gm,o=1e3;n=a.exec(t);)(s=n[0].length)<o&&(o=s,i=n[0]);1e3!==o&&(e.textContent=t.replace(new RegExp(\"^\"+i,\"gm\"),\"\").trim())}}))},coords:function(t){var n=e(t)[0].getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}},positionXY:function(e,t){switch(t){case\"client\":return H.clientXY(e);case\"screen\":return H.screenXY(e);case\"page\":return H.pageXY(e);default:return{x:0,y:0}}},clientXY:function(e){return{x:e.changedTouches?e.changedTouches[0].clientX:e.clientX,y:e.changedTouches?e.changedTouches[0].clientY:e.clientY}},screenXY:function(e){return{x:e.changedTouches?e.changedTouches[0].screenX:e.screenX,y:e.changedTouches?e.changedTouches[0].screenY:e.screenY}},pageXY:function(e){return{x:e.changedTouches?e.changedTouches[0].pageX:e.pageX,y:e.changedTouches?e.changedTouches[0].pageY:e.pageY}},isRightMouse:function(e){return\"which\"in e?3===e.which:\"button\"in e?2===e.button:void 0},hiddenElementSize:function(t,n){var i,s,a=e(t).clone(!0);return a.removeAttr(\"data-role\").css({visibility:\"hidden\",position:\"absolute\",display:\"block\"}),e(\"body\").append(a),H.isValue(n)||(n=!1),i=a.outerWidth(n),s=a.outerHeight(n),a.remove(),{width:i,height:s}},getStyle:function(t,n){var i=e(t)[0];return window.getComputedStyle(i,n)},getStyleOne:function(e,t){return H.getStyle(e).getPropertyValue(t)},getTransformMatrix:function(e,t){var n=H.getStyleOne(e,\"transform\").replace(\"matrix(\",\"\").slice(0,-1).split(\",\");return!0!==t?{a:n[0],b:n[1],c:n[2],d:n[3],tx:n[4],ty:n[5]}:n},computedRgbToHex:function(e){var t,n=e.replace(/[^\\d,]/g,\"\").split(\",\"),i=\"#\";for(t=0;t<3;t++){var s=parseInt(n[t]).toString(16);i+=1===s.length?\"0\"+s:s}return i},computedRgbToRgba:function(e,t){var n=e.replace(/[^\\d,]/g,\"\").split(\",\");return void 0===t&&(t=1),n.push(t),\"rgba(\"+n.join(\",\")+\")\"},computedRgbToArray:function(e){return e.replace(/[^\\d,]/g,\"\").split(\",\")},hexColorToArray:function(e){var t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(3===(t=e.substring(1).split(\"\")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),[(t=\"0x\"+t.join(\"\"))>>16&255,t>>8&255,255&t]):[0,0,0]},hexColorToRgbA:function(e,t){var n;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(3===(n=e.substring(1).split(\"\")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),\"rgba(\"+[(n=\"0x\"+n.join(\"\"))>>16&255,n>>8&255,255&n,t||1].join(\",\")+\")\"):\"rgba(0,0,0,1)\"},getInlineStyles:function(t){var n,i,s={},a=e(t)[0];for(n=0,i=a.style.length;n<i;n++){var o=a.style[n];s[o]=a.style[o]}return s},updateURIParameter:function(e,t,n){var i=new RegExp(\"([?&])\"+t+\"=.*?(&|$)\",\"i\"),s=-1!==e.indexOf(\"?\")?\"&\":\"?\";return e.match(i)?e.replace(i,\"$1\"+t+\"=\"+n+\"$2\"):e+s+t+\"=\"+n},getURIParameter:function(e,t){e||(e=window.location.href),t=t.replace(/[\\[\\]]/g,\"\\\\$&\");var n=new RegExp(\"[?&]\"+t+\"(=([^&#]*)|&|#|$)\").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\\+/g,\" \")):\"\":null},getLocales:function(){return Object.keys(b.locales)},addLocale:function(t){b.locales=e.extend({},b.locales,t)},strToArray:function(e,t,n,i){return H.isValue(t)||(t=\",\"),H.isValue(n)||(n=\"string\"),(\"\"+e).split(t).map((function(e){var t;switch(n){case\"int\":case\"integer\":t=parseInt(e);break;case\"number\":case\"float\":t=parseFloat(e);break;case\"date\":t=H.isValue(i)?e.toDate(i):new Date(e);break;default:t=e.trim()}return t}))},aspectRatioH:function(e,t){return\"16/9\"===t?9*e/16:\"21/9\"===t?9*e/21:\"4/3\"===t?3*e/4:void 0},aspectRatioW:function(e,t){return\"16/9\"===t?16*e/9:\"21/9\"===t?21*e/9:\"4/3\"===t?4*e/3:void 0},valueInObject:function(e,t){return Object.values(e).indexOf(t)>-1},keyInObject:function(e,t){return Object.keys(e).indexOf(t)>-1},inObject:function(e,t,n){return void 0!==e[t]&&e[t]===n},newCssSheet:function(e){var t=document.createElement(\"style\");return void 0!==e&&t.setAttribute(\"media\",e),t.appendChild(document.createTextNode(\"\")),document.head.appendChild(t),t.sheet},addCssRule:function(e,t,n,i){\"insertRule\"in e?e.insertRule(t+\"{\"+n+\"}\",i):\"addRule\"in e&&e.addRule(t,n,i)},media:function(e){return window.matchMedia(e).matches},mediaModes:function(){return METRO_MEDIA},mediaExist:function(e){return METRO_MEDIA.indexOf(e)>-1},inMedia:function(e){return METRO_MEDIA.indexOf(e)>-1&&METRO_MEDIA.indexOf(e)===METRO_MEDIA.length-1},isValue:function(e){return null!=e&&\"\"!==e},isNull:function(e){return null==e},isNegative:function(e){return parseFloat(e)<0},isPositive:function(e){return parseFloat(e)>0},isZero:function(e){return 0===parseFloat(e.toFixed(2))},between:function(e,t,n,i){return!0===i?e>=t&&e<=n:e>t&&e<n},parseMoney:function(e){return Number(parseFloat(e.replace(/[^0-9-.]/g,\"\")))},parseCard:function(e){return e.replace(/[^0-9]/g,\"\")},parsePhone:function(e){return H.parseCard(e)},isVisible:function(t){var n=e(t)[0];return\"none\"!==H.getStyleOne(n,\"display\")&&\"hidden\"!==H.getStyleOne(n,\"visibility\")&&null!==n.offsetParent},parseNumber:function(e,t,n){return e.replace(new RegExp(\"\\\\\"+t,\"g\"),\"\").replace(new RegExp(\"\\\\\"+n,\"g\"),\".\")},nearest:function(e,t,n){return e/=t,e=Math[!0===n?\"floor\":\"ceil\"](e)*t},bool:function(e){switch(e){case!0:case\"true\":case 1:case\"1\":case\"on\":case\"yes\":return!0;default:return!1}},copy:function(t){var n,i,s=document.body,a=e(t)[0];if(document.createRange&&window.getSelection){n=document.createRange(),(i=window.getSelection()).removeAllRanges();try{n.selectNodeContents(a),i.addRange(n)}catch(e){n.selectNode(a),i.addRange(n)}}else s.createTextRange&&((n=s.createTextRange()).moveToElementText(a),n.select());document.execCommand(\"Copy\"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},isLocalhost:function(e){return e=e||\".local\",\"localhost\"===location.hostname||\"127.0.0.1\"===location.hostname||\"[::1]\"===location.hostname||\"\"===location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)||-1!==location.hostname.indexOf(e)},formData:function(t){var n,i,s=e(t)[0],a={};if(s&&\"FORM\"===s.nodeName){for(n=s.elements.length-1;n>=0;n-=1)if(\"\"!==s.elements[n].name)switch(s.elements[n].nodeName){case\"INPUT\":switch(s.elements[n].type){case\"text\":case\"hidden\":case\"password\":case\"button\":case\"reset\":case\"submit\":a[s.elements[n].name]=s.elements[n].value;break;case\"checkbox\":case\"radio\":s.elements[n].checked&&(a[s.elements[n].name]=s.elements[n].value)}break;case\"TEXTAREA\":a[s.elements[n].name]=s.elements[n].value;break;case\"SELECT\":switch(s.elements[n].type){case\"select-one\":a[s.elements[n].name]=s.elements[n].value;break;case\"select-multiple\":for(a[s.elements[n].name]=[],i=s.elements[n].options.length-1;i>=0;i-=1)s.elements[n].options[i].selected&&a[s.elements[n].name].push(s.elements[n].options[i].value)}break;case\"BUTTON\":switch(s.elements[n].type){case\"reset\":case\"submit\":case\"button\":a[s.elements[n].name]=s.elements[n].value}}return a}},decCount:function(e){return e%1==0?0:e.toString().split(\".\")[1].length}};b.utils=H;var z={showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:\"\",activeHeadingClass:\"\",activeContentClass:\"\",onFrameOpen:b.noop,onFrameBeforeOpen:b.noop_true,onFrameClose:b.noop,onFrameBeforeClose:b.noop_true,onAccordionCreate:b.noop};b.accordionSetup=function(t){z=e.extend({},z,t)},void 0!==typeof window.metroAccordionSetup&&b.accordionSetup(window.metroAccordionSetup);var j={init:function(t,n){return this.options=e.extend({},z,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"accordion\"),this._createStructure(),this._createEvents(),H.exec(t.onAccordionCreate,[e]),e.fire(\"accordioncreate\")},_createStructure:function(){var t,n=this,i=this.element,s=this.options,a=i.children(\".frame\"),o=i.children(\".frame.active\");i.addClass(\"accordion\"),!0===s.showMarker&&i.addClass(\"marker-on\"),!0===s.material&&i.addClass(\"material\"),t=0===o.length?a[0]:o[0],this._hideAll(),!0===s.showActive&&(!0===s.oneFrame?this._openFrame(t):e.each(o,(function(){n._openFrame(this)})))},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.children(\".frame.active\");n.on(b.events.click,\".heading\",(function(){var a=e(this),o=a.parent();if(a.closest(\".accordion\")[0]!==n[0])return!1;o.hasClass(\"active\")?1===s.length&&i.oneFrame||t._closeFrame(o):t._openFrame(o)}))},_openFrame:function(t){var n=this.element,i=this.options,s=e(t);if(!1===H.exec(i.onFrameBeforeOpen,[s[0]],n[0]))return!1;!0===i.oneFrame&&this._closeAll(s[0]),s.addClass(\"active \"+i.activeFrameClass),s.children(\".heading\").addClass(i.activeHeadingClass),s.children(\".content\").addClass(i.activeContentClass).slideDown(i.duration),H.exec(i.onFrameOpen,[s[0]],n[0]),n.fire(\"frameopen\",{frame:s[0]})},_closeFrame:function(t){var n=this.element,i=this.options,s=e(t);s.hasClass(\"active\")&&!1!==H.exec(i.onFrameBeforeClose,[s[0]],n[0])&&(s.removeClass(\"active \"+i.activeFrameClass),s.children(\".heading\").removeClass(i.activeHeadingClass),s.children(\".content\").removeClass(i.activeContentClass).slideUp(i.duration),H.callback(i.onFrameClose,[s[0]],n[0]),n.fire(\"frameclose\",{frame:s[0]}))},_closeAll:function(t){var n=this,i=this.element.children(\".frame\");e.each(i,(function(){t!==this&&n._closeFrame(this)}))},_hideAll:function(){var t=this.element.children(\".frame\");e.each(t,(function(){e(this).children(\".content\").hide()}))},_openAll:function(){var t=this,n=this.element.children(\".frame\");e.each(n,(function(){t._openFrame(this)}))},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.click,\".heading\"),e}};b.plugin(\"accordion\",j);var U={type:\"ring\",style:\"light\",size:64,radius:20,onActivityCreate:b.noop};b.activitySetup=function(t){U=e.extend({},U,t)},void 0!==typeof window.metroActivitySetup&&b.activitySetup(window.metroActivitySetup);var W={init:function(t,n){return this.options=e.extend({},U,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t,n,i=this.element,s=this.options;switch(b.checkRuntime(i,\"activity\"),i.html(\"\").addClass(s.style+\"-style\").addClass(\"activity-\"+s.type),s.type){case\"metro\":!function(){for(t=0;t<5;t++)e(\"<div/>\").addClass(\"circle\").appendTo(i)}();break;case\"square\":!function(){for(t=0;t<4;t++)e(\"<div/>\").addClass(\"square\").appendTo(i)}();break;case\"cycle\":e(\"<div/>\").addClass(\"cycle\").appendTo(i);break;case\"simple\":e('<svg class=\"circular\"><circle class=\"path\" cx=\"'+s.size/2+'\" cy=\"'+s.size/2+'\" r=\"'+s.radius+'\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"/></svg>').appendTo(i);break;default:!function(){for(t=0;t<5;t++)n=e(\"<div/>\").addClass(\"wrap\").appendTo(i),e(\"<div/>\").addClass(\"circle\").appendTo(n)}()}H.exec(this.options.onActivityCreate,[this.element]),i.fire(\"activitycreate\")},changeAttribute:function(e){},destroy:function(){return this.element}};b.plugin(\"activity\",W),b.activity={open:function(e){var t=e||{},n='<div data-role=\"activity\" data-type=\"'+(t.type?t.type:\"cycle\")+'\" data-style=\"'+(t.style?t.style:\"color\")+'\"></div>',i=t.text?'<div class=\"text-center\">'+t.text+\"</div>\":\"\";return b.dialog.create({content:n+i,defaultAction:!1,clsContent:\"d-flex flex-column flex-justify-center flex-align-center bg-transparent no-shadow w-auto\",clsDialog:\"no-border no-shadow bg-transparent global-dialog\",autoHide:t.autoHide?t.autoHide:0,overlayClickClose:!0===t.overlayClickClose,overlayColor:t.overlayColor?t.overlayColor:\"#000000\",overlayAlpha:t.overlayAlpha?t.overlayAlpha:.5,clsOverlay:\"global-overlay\"})},close:function(e){b.dialog.close(e)}};var Y={expand:!1,expandPoint:null,duration:100,onAppBarCreate:b.noop};b.appBarSetup=function(t){Y=e.extend({},Y,t)},void 0!==typeof window.metroAppBarSetup&&b.appBarSetup(window.metroAppBarSetup);var J={init:function(t,n){return this.options=e.extend({},Y,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"appbar\"),this._createStructure(),this._createEvents(),H.exec(t.onAppBarCreate,[e]),e.fire(\"appbarcreate\")},_createStructure:function(){var t,n,i=this.element,s=this.options,a=H.elementId(\"app-bar\");if(i.addClass(\"app-bar\"),0===(t=i.find(\".hamburger\")).length){t=e(\"<button>\").attr(\"type\",\"button\").addClass(\"hamburger menu-down\");for(var o=0;o<3;o++)e(\"<span>\").addClass(\"line\").appendTo(t);!0===T.isLight(H.computedRgbToHex(H.getStyleOne(i,\"background-color\")))&&t.addClass(\"dark\")}i.prepend(t),0===(n=i.find(\".app-bar-menu\")).length?t.css(\"display\",\"none\"):H.addCssRule(b.sheet,\".app-bar-menu li\",\"list-style: none!important;\"),0==!!i.attr(\"id\")&&i.attr(\"id\",a),\"block\"===t.css(\"display\")?(n.hide().addClass(\"collapsed\"),t.removeClass(\"hidden\")):t.addClass(\"hidden\"),!0===s.expand?(i.addClass(\"app-bar-expand\"),t.addClass(\"hidden\")):H.isValue(s.expandPoint)&&H.mediaExist(s.expandPoint)&&(i.addClass(\"app-bar-expand\"),t.addClass(\"hidden\"))},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.find(\".app-bar-menu\"),a=n.find(\".hamburger\");n.on(b.events.click,\".hamburger\",(function(){0!==s.length&&(s.hasClass(\"collapsed\")?t.open():t.close())})),e(window).on(b.events.resize,(function(){!0!==i.expand&&(H.isValue(i.expandPoint)&&H.mediaExist(i.expandPoint)?n.addClass(\"app-bar-expand\"):n.removeClass(\"app-bar-expand\")),0!==s.length&&(\"block\"!==a.css(\"display\")?(s.show(),a.addClass(\"hidden\")):(a.removeClass(\"hidden\"),a.hasClass(\"active\")?s.show().removeClass(\"collapsed\"):s.hide().addClass(\"collapsed\")))}),{ns:n.attr(\"id\")})},close:function(){var e=this.element,t=this.options,n=e.find(\".app-bar-menu\"),i=e.find(\".hamburger\");n.slideUp(t.duration,(function(){n.addClass(\"collapsed\").removeClass(\"opened\"),i.removeClass(\"active\")}))},open:function(){var e=this.element,t=this.options,n=e.find(\".app-bar-menu\"),i=e.find(\".hamburger\");n.slideDown(t.duration,(function(){n.removeClass(\"collapsed\").addClass(\"opened\"),i.addClass(\"active\")}))},changeAttribute:function(e){},destroy:function(){var t=this.element;return t.off(b.events.click,\".hamburger\"),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"appbar\",J);var G={playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:\"<span class='default-icon-loop'></span>\",stopIcon:\"<span class='default-icon-stop'></span>\",playIcon:\"<span class='default-icon-play'></span>\",pauseIcon:\"<span class='default-icon-pause'></span>\",muteIcon:\"<span class='default-icon-mute'></span>\",volumeLowIcon:\"<span class='default-icon-low-volume'></span>\",volumeMediumIcon:\"<span class='default-icon-medium-volume'></span>\",volumeHighIcon:\"<span class='default-icon-high-volume'></span>\",playlistIcon:\"<span class='default-icon-playlist'></span>\",nextIcon:\"<span class='default-icon-next'></span>\",prevIcon:\"<span class='default-icon-prev'></span>\",firstIcon:\"<span class='default-icon-first'></span>\",lastIcon:\"<span class='default-icon-last'></span>\",forwardIcon:\"<span class='default-icon-forward'></span>\",backwardIcon:\"<span class='default-icon-backward'></span>\",shuffleIcon:\"<span class='default-icon-shuffle'></span>\",randomIcon:\"<span class='default-icon-random'></span>\",onPlay:b.noop,onPause:b.noop,onStop:b.noop,onEnd:b.noop,onMetadata:b.noop,onTime:b.noop,onAudioCreate:b.noop};b.audioSetup=function(t){G=e.extend({},G,t)},void 0!==typeof window.metroAudioSetup&&b.audioSetup(window.metroAudioSetup);var K={init:function(t,n){return this.options=e.extend({},G,t),this.elem=n,this.element=e(n),this.preloader=null,this.player=null,this.audio=n,this.stream=null,this.volume=null,this.volumeBackup=0,this.muted=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"audio\"),this._createPlayer(),this._createControls(),this._createEvents(),!0===t.autoplay&&this.play(),H.exec(t.onAudioCreate,[e,this.player],e[0]),e.fire(\"audiocreate\")},_createPlayer:function(){var t=this.element,n=this.options,i=this.audio,s=t.prev(),a=t.parent(),o=e(\"<div>\").addClass(\"media-player audio-player \"+t[0].className);0===s.length?a.prepend(o):o.insertAfter(s),t.appendTo(o),e.each([\"muted\",\"autoplay\",\"controls\",\"height\",\"width\",\"loop\",\"poster\",\"preload\"],(function(){t.removeAttr(this)})),t.attr(\"preload\",\"auto\"),i.volume=n.volume,null!==n.src&&this._setSource(n.src),t[0].className=\"\",this.player=o},_setSource:function(t){var n=this.element;n.find(\"source\").remove(),n.removeAttr(\"src\"),Array.isArray(t)?e.each(t,(function(){void 0!==this.src&&e(\"<source>\").attr(\"src\",this.src).attr(\"type\",void 0!==this.type?this.type:\"\").appendTo(n)})):n.attr(\"src\",t)},_createControls:function(){var t,n=this,i=this.element,s=this.options,a=this.elem,o=e(\"<div>\").addClass(\"controls\").addClass(s.clsControls).insertAfter(i),r=e(\"<div>\").addClass(\"stream\").appendTo(o),l=e(\"<input>\").addClass(\"stream-slider ultra-thin cycle-marker\").appendTo(r),c=e(\"<div>\").addClass(\"load-audio\").appendTo(r),d=e(\"<div>\").addClass(\"volume\").appendTo(o),h=e(\"<input>\").addClass(\"volume-slider ultra-thin cycle-marker\").appendTo(d),u=e(\"<div>\").addClass(\"info-box\").appendTo(o);!0!==s.showInfo&&u.hide(),c.activity({type:\"metro\",style:\"color\"}),c.hide(0),this.preloader=c,b.makePlugin(l,\"slider\",{clsMarker:\"bg-red\",clsHint:\"bg-cyan fg-white\",clsComplete:\"bg-cyan\",hint:!0,onStart:function(){a.paused||a.pause()},onStop:function(e){a.seekable.length>0&&(a.currentTime=(n.duration*e/100).toFixed(0)),a.paused&&a.currentTime>0&&a.play()}}),this.stream=l,!0!==s.showStream&&r.hide(),b.makePlugin(h,\"slider\",{clsMarker:\"bg-red\",clsHint:\"bg-cyan fg-white\",hint:!0,value:100*s.volume,onChangeValue:function(e){a.volume=e/100}}),this.volume=h,!0!==s.showVolume&&d.hide(),!0===s.showLoop&&(t=e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square loop\").html(s.loopIcon).appendTo(o)),!0===s.showPlay&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square play\").html(s.playIcon).appendTo(o),!0===s.showStop&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square stop\").html(s.stopIcon).appendTo(o),!0===s.showMute&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square mute\").html(s.muteIcon).appendTo(o),!0===s.loop&&(t.addClass(\"active\"),i.attr(\"loop\",\"loop\")),this._setVolume(),s.muted&&(n.volumeBackup=a.volume,b.getPlugin(n.volume,\"slider\").val(0),a.volume=0),u.html(\"00:00 / 00:00\")},_createEvents:function(){var e=this,t=this.element,n=this.options,i=this.elem,s=this.player;t.on(\"loadstart\",(function(){e.preloader.fadeIn()})),t.on(\"loadedmetadata\",(function(){e.duration=i.duration.toFixed(0),e._setInfo(0,e.duration),H.exec(n.onMetadata,[i,s],t[0])})),t.on(\"canplay\",(function(){e._setBuffer(),e.preloader.fadeOut()})),t.on(\"progress\",(function(){e._setBuffer()})),t.on(\"timeupdate\",(function(){var a=Math.round(100*i.currentTime/e.duration);e._setInfo(i.currentTime,e.duration),b.getPlugin(e.stream,\"slider\").val(a),H.exec(n.onTime,[i.currentTime,e.duration,i,s],t[0])})),t.on(\"waiting\",(function(){e.preloader.fadeIn()})),t.on(\"loadeddata\",(function(){})),t.on(\"play\",(function(){s.find(\".play\").html(n.pauseIcon),H.exec(n.onPlay,[i,s],t[0])})),t.on(\"pause\",(function(){s.find(\".play\").html(n.playIcon),H.exec(n.onPause,[i,s],t[0])})),t.on(\"stop\",(function(){b.getPlugin(e.stream,\"slider\").val(0),H.exec(n.onStop,[i,s],t[0])})),t.on(\"ended\",(function(){b.getPlugin(e.stream,\"slider\").val(0),H.exec(n.onEnd,[i,s],t[0])})),t.on(\"volumechange\",(function(){e._setVolume()})),s.on(b.events.click,\".play\",(function(){i.paused?e.play():e.pause()})),s.on(b.events.click,\".stop\",(function(){e.stop()})),s.on(b.events.click,\".mute\",(function(){e._toggleMute()})),s.on(b.events.click,\".loop\",(function(){e._toggleLoop()}))},_toggleLoop:function(){var e=this.player.find(\".loop\");0!==e.length&&(e.toggleClass(\"active\"),e.hasClass(\"active\")?this.element.attr(\"loop\",\"loop\"):this.element.removeAttr(\"loop\"))},_toggleMute:function(){this.muted=!this.muted,!1===this.muted?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),b.getPlugin(this.volume,\"slider\").val(!1===this.muted?100*this.volumeBackup:0)},_setInfo:function(e,t){this.player.find(\".info-box\").html(H.secondsToFormattedString(Math.round(e))+\" / \"+H.secondsToFormattedString(Math.round(t)))},_setBuffer:function(){var e=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;b.getPlugin(this.stream,\"slider\").buff(e)},_setVolume:function(){var e=this.audio,t=this.player,n=this.options,i=t.find(\".mute\"),s=100*e.volume;s>1&&s<30?i.html(n.volumeLowIcon):s>=30&&s<60?i.html(n.volumeMediumIcon):s>=60&&s<=100?i.html(n.volumeHighIcon):i.html(n.muteIcon)},play:function(e){void 0!==e&&this._setSource(e),void 0===this.element.attr(\"src\")&&0===this.element.find(\"source\").length||this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,b.getPlugin(this.stream,\"slider\").val(0)},volume:function(e){if(void 0===e)return this.audio.volume;e>1&&(e/=100),this.audio.volume=e,b.getPlugin(this.volume,\"slider\").val(100*e)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var e=JSON.parse(this.element.attr(\"data-src\"));this.play(e)},changeVolume:function(){var e=this.element.attr(\"data-volume\");this.volume(e)},changeAttribute:function(e){switch(e){case\"data-src\":this.changeSource();break;case\"data-volume\":this.changeVolume()}},destroy:function(){var e=this.element,t=this.player;return e.off(\"all\"),t.off(\"all\"),b.getPlugin(this.stream[0],\"slider\").destroy(),b.getPlugin(this.volume[0],\"slider\").destroy(),e}};b.plugin(\"audio\",K);var q={mode:\"list\",toggle:null,onOpen:b.noop,onClose:b.noop,onBottomSheetCreate:b.noop};b.bottomSheetSetup=function(t){q=e.extend({},q,t)},void 0!==typeof window.metroBottomSheetSetup&&b.bottomSheetSetup(window.metroBottomSheetSetup);var Q={init:function(t,n){return this.options=e.extend({},q,t),this.elem=n,this.element=e(n),this.toggle=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"bottomsheet\"),this._createStructure(),this._createEvents(),H.exec(t.onBottomSheetCreate,[e],e[0]),e.fire(\"bottomsheetcreate\")},_createStructure:function(){var t=this.element,n=this.options;t.addClass(\"bottom-sheet\").addClass(n.mode+\"-list\"),H.isValue(n.toggle)&&e(n.toggle).length>0&&(this.toggle=e(n.toggle))},_createEvents:function(){var e=this,t=this.element;H.isValue(this.toggle)&&this.toggle.on(b.events.click,(function(){e.toggle()})),t.on(b.events.click,\"li\",(function(){e.close()}))},isOpen:function(){return this.element.hasClass(\"opened\")},open:function(e){var t=this.element,n=this.options;H.isValue(e)&&t.removeClass(\"list-style grid-style\").addClass(e+\"-style\"),this.element.addClass(\"opened\"),H.exec(n.onOpen,[t],t[0]),t.fire(\"open\")},close:function(){var e=this.element,t=this.options;e.removeClass(\"opened\"),H.exec(t.onClose,[e],e[0]),e.fire(\"close\")},toggle:function(e){this.isOpen()?this.close():this.open(e)},changeAttribute:function(e){},destroy:function(){var e=this.element;return H.isValue(this.toggle)&&this.toggle.off(b.events.click),e.off(b.events.click,\"li\"),e}};b.plugin(\"bottomsheet\",Q),b.bottomsheet={isBottomSheet:function(e){return H.isMetroObject(e,\"bottomsheet\")},open:function(t,n){if(!this.isBottomSheet(t))return!1;b.getPlugin(e(t)[0],\"bottomsheet\").open(n)},close:function(t){if(!this.isBottomSheet(t))return!1;b.getPlugin(e(t)[0],\"bottomsheet\").close()},toggle:function(e,t){if(!this.isBottomSheet(e))return!1;this.isOpen(e)?this.close(e):this.open(e,t)},isOpen:function(t){return!!this.isBottomSheet(t)&&b.getPlugin(e(t)[0],\"bottomsheet\").isOpen()}};var X={targets:\"button\",clsActive:\"active\",requiredButton:!1,mode:b.groupMode.ONE,onButtonClick:b.noop,onButtonsGroupCreate:b.noop};b.buttonGroupSetup=function(t){X=e.extend({},X,t)},void 0!==typeof window.metroButtonGroupSetup&&b.buttonGroupSetup(window.metroButtonGroupSetup);var $={init:function(t,n){return this.options=e.extend({},X,t),this.elem=n,this.element=e(n),this.active=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"buttongroup\"),this._createGroup(),this._createEvents(),H.exec(t.onButtonsGroupCreate,[e]),e.fire(\"buttongroupcreate\")},_createGroup:function(){var t,n,i=this.element,s=this.options,a=H.elementId(\"button-group\");void 0===i.attr(\"id\")&&i.attr(\"id\",a),i.addClass(\"button-group\"),t=i.find(s.targets),n=i.find(\".\"+s.clsActive),s.mode===b.groupMode.ONE&&0===n.length&&!0===s.requiredButton&&e(t[0]).addClass(s.clsActive),s.mode===b.groupMode.ONE&&n.length>1&&(t.removeClass(s.clsActive),e(t[0]).addClass(s.clsActive)),i.find(\".\"+s.clsActive).addClass(\"js-active\")},_createEvents:function(){var t=this.element,n=this.options;t.on(b.events.click,n.targets,(function(){var i=e(this);H.exec(n.onButtonClick,[i],this),t.fire(\"buttonclick\",{button:this}),n.mode===b.groupMode.ONE&&i.hasClass(n.clsActive)||(n.mode===b.groupMode.ONE?(t.find(n.targets).removeClass(n.clsActive).removeClass(\"js-active\"),i.addClass(n.clsActive).addClass(\"js-active\")):i.toggleClass(n.clsActive).toggleClass(\"js-active\"))}))},changeAttribute:function(e){},destroy:function(){var e=this.element,t=this.options;return e.off(b.events.click,t.targets),e}};b.plugin(\"buttongroup\",$);var Z={dayBorder:!1,excludeDay:null,prevMonthIcon:\"<span class='default-icon-chevron-left'></span>\",nextMonthIcon:\"<span class='default-icon-chevron-right'></span>\",prevYearIcon:\"<span class='default-icon-chevron-left'></span>\",nextYearIcon:\"<span class='default-icon-chevron-right'></span>\",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,locale:METRO_LOCALE,weekStart:METRO_WEEK_START,outside:!0,buttons:\"cancel, today, clear, done\",yearsBefore:100,yearsAfter:100,headerFormat:\"%A, %b %e\",showHeader:!0,showFooter:!0,showTimeField:!0,showWeekNumber:!1,clsCalendar:\"\",clsCalendarHeader:\"\",clsCalendarContent:\"\",clsCalendarFooter:\"\",clsCalendarMonths:\"\",clsCalendarYears:\"\",clsToday:\"\",clsSelected:\"\",clsExcluded:\"\",clsCancelButton:\"\",clsTodayButton:\"\",clsClearButton:\"\",clsDoneButton:\"\",isDialog:!1,ripple:!1,rippleColor:\"#cccccc\",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,onCancel:b.noop,onToday:b.noop,onClear:b.noop,onDone:b.noop,onDayClick:b.noop,onDayDraw:b.noop,onWeekDayClick:b.noop,onWeekNumberClick:b.noop,onMonthChange:b.noop,onYearChange:b.noop,onCalendarCreate:b.noop};b.calendarSetup=function(t){Z=e.extend({},Z,t)},void 0!==typeof window.metroCalendarSetup&&b.calendarSetup(window.metroCalendarSetup);var ee={init:function(t,n){return this.options=e.extend({},Z,t),this.elem=n,this.element=e(n),this.today=new Date,this.today.setHours(0,0,0,0),this.show=new Date,this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()},this.preset=[],this.selected=[],this.exclude=[],this.special=[],this.excludeDay=[],this.min=null,this.max=null,this.locale=null,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,this.offset=(new Date).getTimezoneOffset()/60+1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"calendar\"),e.attr(\"id\")||e.attr(\"id\",H.elementId(\"calendar\")),e.html(\"\").addClass(\"calendar \"+(!0===t.compact?\"compact\":\"\")).addClass(t.clsCalendar),!0===t.dayBorder&&e.addClass(\"day-border\"),H.isValue(t.excludeDay)&&(this.excludeDay=(\"\"+t.excludeDay).toArray(\",\",\"int\")),H.isValue(t.preset)&&this._dates2array(t.preset,\"selected\"),H.isValue(t.exclude)&&this._dates2array(t.exclude,\"exclude\"),H.isValue(t.special)&&this._dates2array(t.special,\"special\"),!1!==t.buttons&&!1===Array.isArray(t.buttons)&&(t.buttons=t.buttons.split(\",\").map((function(e){return e.trim()}))),null!==t.minDate&&H.isDate(t.minDate,t.inputFormat)&&(this.min=H.isValue(t.inputFormat)?t.minDate.toDate(t.inputFormat):new Date(t.minDate)),null!==t.maxDate&&H.isDate(t.maxDate,t.inputFormat)&&(this.max=H.isValue(t.inputFormat)?t.maxDate.toDate(t.inputFormat):new Date(t.maxDate)),null!==t.show&&H.isDate(t.show,t.inputFormat)&&(this.show=H.isValue(t.inputFormat)?t.show.toDate(t.inputFormat):new Date(t.show),this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()}),this.locale=void 0!==b.locales[t.locale]?b.locales[t.locale]:b.locales[\"en-US\"],this._drawCalendar(),this._createEvents(),!0===t.wide?e.addClass(\"calendar-wide\"):!H.isNull(t.widePoint)&&H.mediaExist(t.widePoint)&&e.addClass(\"calendar-wide\"),!0===t.ripple&&!1!==H.isFunc(e.ripple)&&e.ripple({rippleTarget:\".button, .prev-month, .next-month, .prev-year, .next-year, .day\",rippleColor:this.options.rippleColor}),H.exec(this.options.onCalendarCreate,[this.element]),e.fire(\"calendarcreate\")},_dates2array:function(t,n){var i,s=this,a=this.options;H.isNull(t)||(i=\"string\"==typeof t?H.strToArray(t):t,e.each(i,(function(){var e;if(H.isDateObject(this))e=this;else{if(e=H.isValue(a.inputFormat)?this.toDate(a.inputFormat):new Date(this),!1===H.isDate(e))return;e.setHours(0,0,0,0)}s[n].push(e.getTime())})))},_createEvents:function(){var t=this,n=this.element,i=this.options;e(window).on(b.events.resize,(function(){!0!==i.wide&&(!H.isNull(i.widePoint)&&H.mediaExist(i.widePoint)?n.addClass(\"calendar-wide\"):n.removeClass(\"calendar-wide\"))}),{ns:n.attr(\"id\")}),n.on(b.events.click,(function(e){var t=n.find(\".calendar-months\"),i=n.find(\".calendar-years\");t.hasClass(\"open\")&&t.removeClass(\"open\"),i.hasClass(\"open\")&&i.removeClass(\"open\")})),n.on(b.events.click,\".prev-month, .next-month, .prev-year, .next-year\",(function(s){var a,o=e(this);o.hasClass(\"prev-month\")&&(a=new Date(t.current.year,t.current.month-1,1)).getFullYear()<t.minYear||o.hasClass(\"next-month\")&&(a=new Date(t.current.year,t.current.month+1,1)).getFullYear()>t.maxYear||o.hasClass(\"prev-year\")&&(a=new Date(t.current.year-1,t.current.month,1)).getFullYear()<t.minYear||o.hasClass(\"next-year\")&&(a=new Date(t.current.year+1,t.current.month,1)).getFullYear()>t.maxYear||(t.current={year:a.getFullYear(),month:a.getMonth(),day:a.getDate()},setTimeout((function(){t._drawContent(),(o.hasClass(\"prev-month\")||o.hasClass(\"next-month\"))&&(H.exec(i.onMonthChange,[t.current,n],n[0]),n.fire(\"monthchange\",{current:t.current})),(o.hasClass(\"prev-year\")||o.hasClass(\"next-year\"))&&(H.exec(i.onYearChange,[t.current,n],n[0]),n.fire(\"yearchange\",{current:t.current}))}),i.ripple?300:1))})),n.on(b.events.click,\".button.today\",(function(e){t.toDay(),H.exec(i.onToday,[t.today,n]),n.fire(\"today\",{today:t.today})})),n.on(b.events.click,\".button.clear\",(function(e){t.selected=[],t._drawContent(),H.exec(i.onClear,[n]),n.fire(\"clear\")})),n.on(b.events.click,\".button.cancel\",(function(e){t._drawContent(),H.exec(i.onCancel,[n]),n.fire(\"cancel\")})),n.on(b.events.click,\".button.done\",(function(e){t._drawContent(),H.exec(i.onDone,[t.selected,n]),n.fire(\"done\")})),!0===i.weekDayClick&&n.on(b.events.click,\".week-days .day\",(function(s){var a,o,r;o=(a=e(this)).index(),!0===i.multiSelect&&(r=!0===i.outside?n.find(\".days-row .day:nth-child(\"+(o+1)+\")\"):n.find(\".days-row .day:not(.outside):nth-child(\"+(o+1)+\")\"),e.each(r,(function(){var n=e(this),s=n.data(\"day\");n.hasClass(\"disabled\")||n.hasClass(\"excluded\")||(t.selected.contains(s)||t.selected.push(s),n.addClass(\"selected\").addClass(i.clsSelected))}))),H.exec(i.onWeekDayClick,[t.selected,a],n[0]),n.fire(\"weekdayclick\",{day:a,selected:t.selected}),s.preventDefault(),s.stopPropagation()})),i.weekNumberClick&&n.on(b.events.click,\".days-row .week-number\",(function(s){var a,o,r;o=(a=e(this)).text(),!0===i.multiSelect&&(r=e(this).siblings(\".day\"),e.each(r,(function(){var n=e(this),s=n.data(\"day\");n.hasClass(\"disabled\")||n.hasClass(\"excluded\")||(t.selected.contains(s)||t.selected.push(s),n.addClass(\"selected\").addClass(i.clsSelected))}))),H.exec(i.onWeekNumberClick,[t.selected,o,a],n[0]),n.fire(\"weeknumberclick\",{el:this,num:o,selected:t.selected}),s.preventDefault(),s.stopPropagation()})),n.on(b.events.click,\".days-row .day\",(function(s){var a,o,r=e(this);if(o=r.data(\"day\"),a=t.selected.indexOf(o),r.hasClass(\"outside\"))return o=new Date(o),t.current={year:o.getFullYear(),month:o.getMonth(),day:o.getDate()},void t._drawContent();r.hasClass(\"disabled\")||(!0===i.pickerMode?(t.selected=[o],t.today=new Date(o),t.current.year=t.today.getFullYear(),t.current.month=t.today.getMonth(),t.current.day=t.today.getDate(),t._drawHeader(),t._drawContent()):-1===a?(!1===i.multiSelect&&(n.find(\".days-row .day\").removeClass(\"selected\").removeClass(i.clsSelected),t.selected=[]),t.selected.push(o),r.addClass(\"selected\").addClass(i.clsSelected)):(r.removeClass(\"selected\").removeClass(i.clsSelected),H.arrayDelete(t.selected,o))),H.exec(i.onDayClick,[t.selected,r,n]),n.fire(\"dayclick\",{day:r,selected:t.selected}),s.preventDefault(),s.stopPropagation()})),n.on(b.events.click,\".curr-month\",(function(e){var i,s=n.find(\".months-list\");console.log(\"ku\"),s.find(\".active\").removeClass(\"active\"),s.scrollTop(0),n.find(\".calendar-months\").addClass(\"open\"),i=s.find(\".js-month-\"+t.current.month).addClass(\"active\"),setTimeout((function(){s.animate({scrollTop:i.position().top-(s.height()-i.height())/2},200)}),300),e.preventDefault(),e.stopPropagation()})),n.on(b.events.click,\".calendar-months li\",(function(s){t.current.month=e(this).index(),t._drawContent(),H.exec(i.onMonthChange,[t.current,n],n[0]),n.fire(\"monthchange\",{current:t.current}),n.find(\".calendar-months\").removeClass(\"open\"),s.preventDefault(),s.stopPropagation()})),n.on(b.events.click,\".curr-year\",(function(e){var i,s=n.find(\".years-list\");s.find(\".active\").removeClass(\"active\"),s.scrollTop(0),n.find(\".calendar-years\").addClass(\"open\"),i=s.find(\".js-year-\"+t.current.year).addClass(\"active\"),setTimeout((function(){s.animate({scrollTop:i.position().top-(s.height()-i.height())/2},200)}),300),e.preventDefault(),e.stopPropagation()})),n.on(b.events.click,\".calendar-years li\",(function(s){t.current.year=e(this).text(),t._drawContent(),H.exec(i.onYearChange,[t.current,n],n[0]),n.fire(\"yearchange\",{current:t.current}),n.find(\".calendar-years\").removeClass(\"open\"),s.preventDefault(),s.stopPropagation()}))},_drawHeader:function(){var t=this.element,n=this.options,i=t.find(\".calendar-header\");0===i.length&&(i=e(\"<div>\").addClass(\"calendar-header\").addClass(n.clsCalendarHeader).appendTo(t)),i.html(\"\"),e(\"<div>\").addClass(\"header-year\").html(this.today.getFullYear()).appendTo(i),e(\"<div>\").addClass(\"header-day\").html(this.today.format(n.headerFormat,n.locale)).appendTo(i),!1===n.showHeader&&i.hide()},_drawFooter:function(){var t=this.element,n=this.options,i=this.locale.buttons,s=t.find(\".calendar-footer\");!1!==n.buttons&&(0===s.length&&(s=e(\"<div>\").addClass(\"calendar-footer\").addClass(n.clsCalendarFooter).appendTo(t)),s.html(\"\"),e.each(n.buttons,(function(){var t=e(\"<button>\").attr(\"type\",\"button\").addClass(\"button \"+this+\" \"+n[\"cls\"+this.capitalize()+\"Button\"]).html(i[this]).appendTo(s);\"cancel\"!==this&&\"done\"!==this||t.addClass(\"js-dialog-close\")})),!1===n.showFooter&&s.hide())},_drawMonths:function(){var t,n=this.element,i=this.options,s=e(\"<div>\").addClass(\"calendar-months\").addClass(i.clsCalendarMonths).appendTo(n),a=e(\"<ul>\").addClass(\"months-list\").appendTo(s),o=this.locale.calendar;for(t=0;t<12;t++)e(\"<li>\").addClass(\"js-month-\"+t).html(o.months[t]).appendTo(a)},_drawYears:function(){var t,n=this.element,i=this.options,s=e(\"<div>\").addClass(\"calendar-years\").addClass(i.clsCalendarYears).appendTo(n),a=e(\"<ul>\").addClass(\"years-list\").appendTo(s);for(t=this.minYear;t<=this.maxYear;t++)e(\"<li>\").addClass(\"js-year-\"+t).html(t).appendTo(a)},_drawContent:function(){var t,n,i,s,a,o,r,l,c=this.element,d=this.options,h=c.find(\".calendar-content\"),u=this.locale.calendar,p=0,f=new Date(this.current.year,this.current.month,1),m=new Date(this.current.year,this.current.month,0).getDate();0===h.length&&(h=e(\"<div>\").addClass(\"calendar-content\").addClass(d.clsCalendarContent).appendTo(c)),h.html(\"\"),t=e(\"<div>\").addClass(\"calendar-toolbar\").appendTo(h),e(\"<span>\").addClass(\"prev-month\").html(d.prevMonthIcon).appendTo(t),e(\"<span>\").addClass(\"curr-month\").html(u.months[this.current.month]).appendTo(t),e(\"<span>\").addClass(\"next-month\").html(d.nextMonthIcon).appendTo(t),e(\"<span>\").addClass(\"prev-year\").html(d.prevYearIcon).appendTo(t),e(\"<span>\").addClass(\"curr-year\").html(this.current.year).appendTo(t),e(\"<span>\").addClass(\"next-year\").html(d.nextYearIcon).appendTo(t);var v=e(\"<div>\").addClass(\"week-days\").appendTo(h),g=\"day\";for(!0===d.showWeekNumber&&(e(\"<span>\").addClass(\"week-number\").html(\"#\").appendTo(v),g+=\" and-week-number\"),n=0;n<7;n++)0===d.weekStart?i=n:7===(i=n+1)&&(i=0),e(\"<span>\").addClass(g).html(u.days[i+7]).appendTo(v);var C=e(\"<div>\").addClass(\"days\").appendTo(h),b=e(\"<div>\").addClass(\"days-row\").appendTo(C);for(o=0===d.weekStart?f.getDay():0===f.getDay()?6:f.getDay()-1,this.current.month-1<0?(l=11,r=this.current.year-1):(l=this.current.month-1,r=this.current.year),!0===d.showWeekNumber&&e(\"<div>\").addClass(\"week-number\").html(new Date(r,l,m-o+1).getWeek(d.weekStart)).appendTo(b),n=0;n<o;n++){var w=m-o+n+1;s=e(\"<div>\").addClass(g+\" outside\").appendTo(b),(a=new Date(r,l,w)).setHours(0,0,0,0),s.data(\"day\",a.getTime()),!0===d.outside&&(s.html(w),this.excludeDay.length>0&&this.excludeDay.indexOf(a.getDay())>-1&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded),H.exec(d.onDayDraw,[a],s[0]),c.fire(\"daydraw\",{cell:s[0],date:a})),p++}for(f.setHours(0,0,0,0);f.getMonth()===this.current.month;)(s=e(\"<div>\").addClass(g).html(f.getDate()).appendTo(b)).data(\"day\",f.getTime()),this.show.getTime()===f.getTime()&&s.addClass(\"showed\"),this.today.getTime()===f.getTime()&&s.addClass(\"today\").addClass(d.clsToday),0===this.special.length?(-1!==this.selected.indexOf(f.getTime())&&s.addClass(\"selected\").addClass(d.clsSelected),-1!==this.exclude.indexOf(f.getTime())&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded),null!==this.min&&f.getTime()<this.min.getTime()&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded),null!==this.max&&f.getTime()>this.max.getTime()&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded),this.excludeDay.length>0&&this.excludeDay.indexOf(f.getDay())>-1&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded)):-1===this.special.indexOf(f.getTime())&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded),H.exec(d.onDayDraw,[f],s[0]),c.fire(\"daydraw\",{cell:s[0],date:f}),++p%7==0&&(b=e(\"<div>\").addClass(\"days-row\").appendTo(C),!0===d.showWeekNumber&&e(\"<div>\").addClass(\"week-number\").html(new Date(f.getFullYear(),f.getMonth(),f.getDate()+1).getWeek(d.weekStart)).appendTo(b)),f.setDate(f.getDate()+1),f.setHours(0,0,0,0);if(o=0===d.weekStart?f.getDay():0===f.getDay()?6:f.getDay()-1,this.current.month+1>11?(l=0,r=this.current.year+1):(l=this.current.month+1,r=this.current.year),o>0)for(n=0;n<7-o;n++)s=e(\"<div>\").addClass(g+\" outside\").appendTo(b),(a=new Date(r,l,n+1)).setHours(0,0,0,0),s.data(\"day\",a.getTime()),!0===d.outside&&(s.html(n+1),this.excludeDay.length>0&&this.excludeDay.indexOf(a.getDay())>-1&&s.addClass(\"disabled excluded\").addClass(d.clsExcluded),H.exec(d.onDayDraw,[a],s[0]),c.fire(\"daydraw\",{cell:s[0],date:a}))},_drawCalendar:function(){var e=this;setTimeout((function(){e.element.html(\"\"),e._drawHeader(),e._drawContent(),e._drawFooter(),e._drawMonths(),e._drawYears()}),0)},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){this.today=new Date,this.today.setHours(0,0,0,0),this.current={year:this.today.getFullYear(),month:this.today.getMonth(),day:this.today.getDate()},this._drawHeader(),this._drawContent()},setExclude:function(e){var t=this.element,n=this.options;H.isNull(e)&&H.isNull(t.attr(\"data-exclude\"))||(n.exclude=H.isNull(e)?t.attr(\"data-exclude\"):e,this._dates2array(n.exclude,\"exclude\"),this._drawContent())},setPreset:function(e){var t=this.element,n=this.options;H.isNull(e)&&H.isNull(t.attr(\"data-preset\"))||(n.preset=H.isNull(e)?t.attr(\"data-preset\"):e,this._dates2array(n.preset,\"selected\"),this._drawContent())},setSpecial:function(e){var t=this.element,n=this.options;H.isNull(e)&&H.isNull(t.attr(\"data-special\"))||(n.special=H.isNull(e)?t.attr(\"data-special\"):e,this._dates2array(n.exclude,\"special\"),this._drawContent())},setShow:function(e){var t=this.element,n=this.options;H.isNull(e)&&H.isNull(t.attr(\"data-show\"))||(n.show=H.isNull(e)?t.attr(\"data-show\"):e,this.show=H.isDateObject(e)?e:H.isValue(n.inputFormat)?n.show.toDate(n.inputFormat):new Date(n.show),this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()},this._drawContent())},setMinDate:function(e){var t=this.element,n=this.options;n.minDate=H.isValue(e)?e:t.attr(\"data-min-date\"),H.isValue(n.minDate)&&H.isDate(n.minDate,n.inputFormat)&&(this.min=H.isValue(n.inputFormat)?n.minDate.toDate(n.inputFormat):new Date(n.minDate)),this._drawContent()},setMaxDate:function(e){var t=this.element,n=this.options;n.maxDate=H.isValue(e)?e:t.attr(\"data-max-date\"),H.isValue(n.maxDate)&&H.isDate(n.maxDate,n.inputFormat)&&(this.max=H.isValue(n.inputFormat)?n.maxDate.toDate(n.inputFormat):new Date(n.maxDate)),this._drawContent()},setToday:function(e){var t=this.options;H.isValue(e)||(e=new Date),this.today=H.isDateObject(e)?e:H.isValue(t.inputFormat)?e.toDate(t.inputFormat):new Date(e),this.today.setHours(0,0,0,0),this._drawHeader(),this._drawContent()},i18n:function(e){var t=this.options;return void 0===e?t.locale:void 0!==b.locales[e]&&(t.locale=e,this.locale=b.locales[t.locale],void this._drawCalendar())},changeAttrLocale:function(){var e=this.element;this.options,this.i18n(e.attr(\"data-locale\"))},changeAttribute:function(e){switch(e){case\"data-exclude\":this.setExclude();break;case\"data-preset\":this.setPreset();break;case\"data-special\":this.setSpecial();break;case\"data-show\":this.setShow();break;case\"data-min-date\":this.setMinDate();break;case\"data-max-date\":this.setMaxDate();break;case\"data-locale\":this.changeAttrLocale()}},destroy:function(){var e=this.element,t=this.options;return e.off(b.events.click,\".prev-month, .next-month, .prev-year, .next-year\"),e.off(b.events.click,\".button.today\"),e.off(b.events.click,\".button.clear\"),e.off(b.events.click,\".button.cancel\"),e.off(b.events.click,\".button.done\"),e.off(b.events.click,\".week-days .day\"),e.off(b.events.click,\".days-row .day\"),e.off(b.events.click,\".curr-month\"),e.off(b.events.click,\".calendar-months li\"),e.off(b.events.click,\".curr-year\"),e.off(b.events.click,\".calendar-years li\"),e.off(b.events.click),!0===t.ripple&&e.data(\"ripple\").destroy(),e}};e(document).on(b.events.click,(function(t){e(\".calendar .calendar-years\").each((function(){e(this).removeClass(\"open\")})),e(\".calendar .calendar-months\").each((function(){e(this).removeClass(\"open\")}))})),b.plugin(\"calendar\",ee);var te={nullValue:!0,useNow:!1,prepend:\"\",calendarWide:!1,calendarWidePoint:null,dialogMode:!1,dialogPoint:360,dialogOverlay:!0,overlayColor:\"#000000\",overlayAlpha:.5,locale:METRO_LOCALE,size:\"100%\",format:METRO_DATE_FORMAT,inputFormat:null,headerFormat:\"%A, %b %e\",clearButton:!1,calendarButtonIcon:\"<span class='default-icon-calendar'></span>\",clearButtonIcon:\"<span class='default-icon-cross'></span>\",copyInlineStyles:!1,clsPicker:\"\",clsInput:\"\",yearsBefore:100,yearsAfter:100,weekStart:METRO_WEEK_START,outside:!0,ripple:!1,rippleColor:\"#cccccc\",exclude:null,minDate:null,maxDate:null,special:null,showHeader:!0,showWeekNumber:!1,clsCalendar:\"\",clsCalendarHeader:\"\",clsCalendarContent:\"\",clsCalendarMonths:\"\",clsCalendarYears:\"\",clsToday:\"\",clsSelected:\"\",clsExcluded:\"\",onDayClick:b.noop,onCalendarPickerCreate:b.noop,onCalendarShow:b.noop,onCalendarHide:b.noop,onChange:b.noop,onMonthChange:b.noop,onYearChange:b.noop};b.calendarPickerSetup=function(t){te=e.extend({},te,t)},void 0!==typeof window.metroCalendarPickerSetup&&b.calendarPickerSetup(window.metroCalendarPickerSetup);var ne={init:function(t,n){return this.options=e.extend({},te,t),this.elem=n,this.element=e(n),this.value=null,this.value_date=null,this.calendar=null,this.overlay=null,this._setOptionsFromDOM(),this._create(),H.exec(this.options.onCalendarPickerCreate,[this.element],this.elem),e(n).fire(\"calendarpickercreate\"),this},dependencies:[\"calendar\"],_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){b.checkRuntime(this.element,\"calendarpicker\"),this._createStructure(),this._createEvents()},_createStructure:function(){var t=this,n=this.element,i=this.options,s=e(\"<div>\").addClass(\"input \"+n[0].className+\" calendar-picker\"),a=e(\"<div>\").addClass(\"button-group\"),o=e(\"<div>\").addClass(\"drop-shadow\"),r=n.val().trim(),l=H.elementId(\"calendarpicker\"),c=e(\"body\");s.attr(\"id\",l),void 0===n.attr(\"type\")&&n.attr(\"type\",\"text\"),H.isValue(r)?this.value=H.isValue(i.inputFormat)?r.toDate(i.inputFormat,i.locale):new Date(r):i.useNow&&(this.value=new Date),H.isValue(this.value)&&this.value.setHours(0,0,0,0),n.val(H.isValue(r)||!0!==i.nullValue?this.value.format(i.format,i.locale):\"\"),s.insertBefore(n),n.appendTo(s),a.appendTo(s),o.appendTo(i.dialogMode?c:s),b.makePlugin(o,\"calendar\",{wide:i.calendarWide,widePoint:i.calendarWidePoint,format:i.format,inputFormat:i.inputFormat,pickerMode:!0,show:i.value,locale:i.locale,weekStart:i.weekStart,outside:i.outside,buttons:!1,headerFormat:i.headerFormat,clsCalendar:[i.clsCalendar,\"calendar-for-picker\",i.dialogMode?\"dialog-mode\":\"\"].join(\" \"),clsCalendarHeader:i.clsCalendarHeader,clsCalendarContent:i.clsCalendarContent,clsCalendarFooter:\"d-none\",clsCalendarMonths:i.clsCalendarMonths,clsCalendarYears:i.clsCalendarYears,clsToday:i.clsToday,clsSelected:i.clsSelected,clsExcluded:i.clsExcluded,ripple:i.ripple,rippleColor:i.rippleColor,exclude:i.exclude,minDate:i.minDate,maxDate:i.maxDate,yearsBefore:i.yearsBefore,yearsAfter:i.yearsAfter,special:i.special,showHeader:i.showHeader,showFooter:!1,showWeekNumber:i.showWeekNumber,onDayClick:function(e,s,a){var r=new Date(e[0]);r.setHours(0,0,0,0),t._removeOverlay(),t.value=r,n.val(r.format(i.format,i.locale)),n.trigger(\"change\"),o.removeClass(\"open open-up\"),o.hide(),H.exec(i.onChange,[t.value],n[0]),n.fire(\"change\",{val:t.value}),H.exec(i.onDayClick,[e,s,a],n[0]),n.fire(\"dayclick\",{sel:e,day:s,el:a})},onMonthChange:i.onMonthChange,onYearChange:i.onYearChange}),this.calendar=o,!0===i.clearButton&&e(\"<button>\").addClass(\"button input-clear-button\").attr(\"tabindex\",-1).attr(\"type\",\"button\").html(i.clearButtonIcon).appendTo(a),e(\"<button>\").addClass(\"button\").attr(\"tabindex\",-1).attr(\"type\",\"button\").html(i.calendarButtonIcon).appendTo(a),\"\"!==i.prepend&&e(\"<div>\").html(i.prepend).addClass(\"prepend\").addClass(i.clsPrepend).appendTo(s),\"rtl\"===n.attr(\"dir\")&&s.addClass(\"rtl\"),String(i.size).indexOf(\"%\")>-1?s.css({width:i.size}):s.css({width:parseInt(i.size)+\"px\"}),n[0].className=\"\",n.attr(\"readonly\",!0),!0===i.copyInlineStyles&&e.each(H.getInlineStyles(n),(function(e,t){s.css(e,t)})),s.addClass(i.clsPicker),n.addClass(i.clsInput),!0===i.dialogOverlay&&(this.overlay=t._overlay()),!0===i.dialogMode?s.addClass(\"dialog-mode\"):H.media(\"(max-width: \"+i.dialogPoint+\"px)\")&&s.addClass(\"dialog-mode\"),n.is(\":disabled\")?this.disable():this.enable()},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.parent(),a=s.find(\".input-clear-button\"),o=this.calendar,r=b.getPlugin(o[0],\"calendar\");e(window).on(b.events.resize,(function(){!0!==i.dialogMode&&(H.media(\"(max-width: \"+i.dialogPoint+\"px)\")?s.addClass(\"dialog-mode\"):s.removeClass(\"dialog-mode\"))}),{ns:s.attr(\"id\")}),a.length>0&&a.on(b.events.click,(function(e){n.val(\"\").trigger(\"change\").blur(),t.value=null,e.preventDefault(),e.stopPropagation()})),s.on(b.events.click,\"button, input\",(function(a){var l=H.isValue(t.value)?t.value:new Date;l.setHours(0,0,0,0),!1===o.hasClass(\"open\")&&!1===o.hasClass(\"open-up\")?(e(\".calendar-picker .calendar\").removeClass(\"open open-up\").hide(),r.setPreset([l]),r.setShow(l),r.setToday(l),s.hasClass(\"dialog-mode\")&&t.overlay.appendTo(e(\"body\")),o.addClass(\"open\"),!1===H.isOutsider(o)&&o.addClass(\"open-up\"),H.exec(i.onCalendarShow,[n,o],o),n.fire(\"calendarshow\",{calendar:o})):(t._removeOverlay(),o.removeClass(\"open open-up\"),H.exec(i.onCalendarHide,[n,o],o),n.fire(\"calendarhide\",{calendar:o})),a.preventDefault(),a.stopPropagation()})),n.on(b.events.blur,(function(){s.removeClass(\"focused\")})),n.on(b.events.focus,(function(){s.addClass(\"focused\")})),n.on(b.events.change,(function(){H.exec(i.onChange,[t.value],n[0])})),s.on(b.events.click,(function(e){e.preventDefault(),e.stopPropagation()}))},_overlay:function(){var t=this.options,n=e(\"<div>\");return n.addClass(\"overlay for-calendar-picker\").addClass(t.clsOverlay),\"transparent\"===t.overlayColor?n.addClass(\"transparent\"):n.css({background:H.hex2rgba(t.overlayColor,t.overlayAlpha)}),n},_removeOverlay:function(){e(\"body\").find(\".overlay.for-calendar-picker\").remove()},val:function(e){var t=this.element,n=this.options;if(H.isNull(e))return this.value;!0===H.isDate(e,n.inputFormat)&&(b.getPlugin(this.calendar[0],\"calendar\").clearSelected(),this.value=\"string\"==typeof e?e.toDate(n.inputFormat,n.locale):e,t.val(this.value.format(n.format)),t.trigger(\"change\"))},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},i18n:function(e){var t,n=this.options,i=this.calendar;return void 0===e?n.locale:void 0!==b.locales[e]&&((t=i[0].hidden)&&i.css({visibility:\"hidden\",display:\"block\"}),b.getPlugin(i[0],\"calendar\").i18n(e),void(t&&i.css({visibility:\"visible\",display:\"none\"})))},changeAttribute:function(e){var t=this,n=this.element,i=b.getPlugin(this.calendar[0],\"calendar\");switch(e){case\"value\":t.val(n.attr(\"value\"));break;case\"disabled\":this.toggleState();break;case\"data-locale\":t.i18n(n.attr(\"data-locale\"));break;case\"data-special\":i.setSpecial(n.attr(\"data-special\"));break;case\"data-exclude\":i.setExclude(n.attr(\"data-exclude\"));break;case\"data-min-date\":i.setMinDate(n.attr(\"data-min-date\"));break;case\"data-max-date\":i.setMaxDate(n.attr(\"data-max-date\"))}},destroy:function(){var t=this.element,n=t.parent(),i=n.find(\".input-clear-button\");return e(window).off(b.events.resize,{ns:n.attr(\"id\")}),i.off(b.events.click),n.off(b.events.click,\"button, input\"),t.off(b.events.blur),t.off(b.events.focus),t.off(b.events.change),b.getPlugin(this.calendar,\"calendar\").destroy(),t}};b.plugin(\"calendarpicker\",ne),e(document).on(b.events.click,\".overlay.for-calendar-picker\",(function(){e(this).remove()})),e(document).on(b.events.click,(function(){e(\".calendar-picker .calendar\").removeClass(\"open open-up\")}));var ie={autoStart:!1,width:\"100%\",height:\"16/9\",effect:\"slide\",effectFunc:\"linear\",direction:\"left\",duration:METRO_ANIMATION_DURATION,period:5e3,stopOnMouse:!0,controls:!0,bullets:!0,bulletsStyle:\"square\",bulletsSize:\"default\",controlsOnMouse:!1,controlsOutside:!1,bulletsPosition:\"default\",controlPrev:\"&#x23F4\",controlNext:\"&#x23F5\",clsCarousel:\"\",clsSlides:\"\",clsSlide:\"\",clsControls:\"\",clsControlNext:\"\",clsControlPrev:\"\",clsBullets:\"\",clsBullet:\"\",clsBulletOn:\"\",clsThumbOn:\"\",onStop:b.noop,onStart:b.noop,onPlay:b.noop,onSlideClick:b.noop,onBulletClick:b.noop,onThumbClick:b.noop,onMouseEnter:b.noop,onMouseLeave:b.noop,onNextClick:b.noop,onPrevClick:b.noop,onSlideShow:b.noop,onSlideHide:b.noop,onCarouselCreate:b.noop};b.carouselSetup=function(t){ie=e.extend({},ie,t)},void 0!==typeof window.metroCarouselSetup&&b.carouselSetup(window.metroCarouselSetup);var se={init:function(t,n){return this.options=e.extend({},ie,t),this.elem=n,this.element=e(n),this.height=0,this.width=0,this.slides=[],this.current=null,this.currentIndex=null,this.dir=this.options.direction,this.interval=!1,this.isAnimate=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options,i=t.find(\".slide\"),s=t.find(\".slides\"),a=H.elementId(\"carousel\");b.checkRuntime(t,\"carousel\"),void 0===t.attr(\"id\")&&t.attr(\"id\",a),t.addClass(\"carousel\").addClass(n.clsCarousel),!0===n.controlsOutside&&t.addClass(\"controls-outside\"),0===s.length&&(s=e(\"<div>\").addClass(\"slides\").appendTo(t),i.appendTo(s)),i.addClass(n.clsSlides),0===i.length||(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),!0===n.controlsOnMouse&&(t.find(\"[class*=carousel-switch]\").fadeOut(0),t.find(\".carousel-bullets\").fadeOut(0)),!0===n.autoStart?this._start():(H.exec(n.onSlideShow,[this.slides[this.currentIndex][0],void 0],this.slides[this.currentIndex][0]),t.fire(\"slideshow\",{current:this.slides[this.currentIndex][0],prev:void 0}))),H.exec(n.onCarouselCreate,[t]),t.fire(\"carouselcreate\")},_start:function(){var e=this,t=this.element,n=this.options,i=n.period,s=this.slides[this.currentIndex];void 0!==s.data(\"period\")&&(i=s.data(\"period\")),this.slides.length<=1||(!1===this.interval&&(this.interval=setTimeout((function(){var t=\"left\"===n.direction?\"next\":\"prior\";e._slideTo(t,!0)}),i)),H.exec(n.onStart,[t],t[0]),t.fire(\"start\"))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){var t,n=this.element,i=this.options,s=n.outerWidth(),a=[];[\"16/9\",\"21/9\",\"4/3\"].indexOf(i.height)>-1?t=H.aspectRatioH(s,i.height):String(i.height).indexOf(\"@\")>-1?(a=H.strToArray(i.height.substr(1),\"|\"),e.each(a,(function(){var e=H.strToArray(this,\",\");window.matchMedia(e[0]).matches&&(t=[\"16/9\",\"21/9\",\"4/3\"].indexOf(e[1])>-1?H.aspectRatioH(s,e[1]):parseInt(e[1]))}))):t=parseInt(i.height),n.css({height:t})},_createSlides:function(){var t=this,n=this.element,i=this.options,s=n.find(\".slide\");e.each(s,(function(n){var s=e(this);if(void 0!==s.data(\"cover\")&&s.css({backgroundImage:\"url(\"+s.data(\"cover\")+\")\"}),0!==n)switch(i.effect){case\"switch\":case\"slide\":s.css(\"left\",\"100%\");break;case\"slide-v\":s.css(\"top\",\"100%\");break;case\"fade\":s.css(\"opacity\",\"0\")}s.addClass(i.clsSlide),t.slides.push(s)})),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){var t,n,i=this.element,s=this.options;!1!==s.controls&&(t=e(\"<span/>\").addClass(\"carousel-switch-next\").addClass(s.clsControls).addClass(s.clsControlNext).html(\">\"),n=e(\"<span/>\").addClass(\"carousel-switch-prev\").addClass(s.clsControls).addClass(s.clsControlPrev).html(\"<\"),s.controlNext&&t.html(s.controlNext),s.controlPrev&&n.html(s.controlPrev),t.appendTo(i),n.appendTo(i))},_createBullets:function(){var t,n,i=this.element,s=this.options;if(!1!==s.bullets){for(t=e(\"<div>\").addClass(\"carousel-bullets\").addClass(s.bulletsSize+\"-size\").addClass(\"bullet-style-\"+s.bulletsStyle).addClass(s.clsBullets),\"default\"===s.bulletsPosition||\"center\"===s.bulletsPosition?t.addClass(\"flex-justify-center\"):\"left\"===s.bulletsPosition?t.addClass(\"flex-justify-start\"):t.addClass(\"flex-justify-end\"),n=0;n<this.slides.length;n++){var a=e(\"<span>\").addClass(\"carousel-bullet\").addClass(s.clsBullet).data(\"slide\",n);0===n&&a.addClass(\"bullet-on\").addClass(s.clsBulletOn),a.appendTo(t)}t.appendTo(i)}},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".carousel-bullet\",(function(s){var a=e(this);!1===t.isAnimate&&(t._slideToSlide(a.data(\"slide\")),H.exec(i.onBulletClick,[a,n,s]),n.fire(\"bulletclick\",{bullet:a}))})),n.on(b.events.click,\".carousel-switch-next\",(function(e){!1===t.isAnimate&&(t._slideTo(\"next\",!1),H.exec(i.onNextClick,[n,e]),n.fire(\"nextclick\",{button:this}))})),n.on(b.events.click,\".carousel-switch-prev\",(function(e){!1===t.isAnimate&&(t._slideTo(\"prev\",!1),H.exec(i.onPrevClick,[n,e]),n.fire(\"prevclick\",{button:this}))})),!0===i.stopOnMouse&&!0===i.autoStart&&(n.on(b.events.enter,(function(e){t._stop(),H.exec(i.onMouseEnter,[n,e])})),n.on(b.events.leave,(function(e){t._start(),H.exec(i.onMouseLeave,[n,e])}))),!0===i.controlsOnMouse&&(n.on(b.events.enter,(function(){n.find(\"[class*=carousel-switch]\").fadeIn(),n.find(\".carousel-bullets\").fadeIn()})),n.on(b.events.leave,(function(){n.find(\"[class*=carousel-switch]\").fadeOut(),n.find(\".carousel-bullets\").fadeOut()}))),n.on(b.events.click,\".slide\",(function(t){var s=e(this);H.exec(i.onSlideClick,[s,n,t]),n.fire(\"slideclick\",{slide:s})})),e(window).on(b.events.resize,(function(){t._resize()}),{ns:n.attr(\"id\")})},_slideToSlide:function(e){var t,n,i,s=this.element,a=this.options;void 0!==this.slides[e]&&this.currentIndex!==e&&(i=e>this.currentIndex?\"next\":\"prev\",t=this.slides[this.currentIndex],n=this.slides[e],this.currentIndex=e,this._effect(t,n,a.effect,i),s.find(\".carousel-bullet\").removeClass(\"bullet-on\").removeClass(a.clsBulletOn),s.find(\".carousel-bullet:nth-child(\"+(this.currentIndex+1)+\")\").addClass(\"bullet-on\").addClass(a.clsBulletOn))},_slideTo:function(e,t){var n,i,s=this.element,a=this.options;void 0===e&&(e=\"next\"),n=this.slides[this.currentIndex],\"next\"===e?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1)),i=this.slides[this.currentIndex],this._effect(n,i,a.effect,e,t),s.find(\".carousel-bullet\").removeClass(\"bullet-on\").removeClass(a.clsBulletOn),s.find(\".carousel-bullet:nth-child(\"+(this.currentIndex+1)+\")\").addClass(\"bullet-on\").addClass(a.clsBulletOn)},_effect:function(e,t,n,i,s){var a,o=this,r=this.element,l=this.options,c=l.duration,d=l.effectFunc,h=l.period;switch(void 0!==t.data(\"duration\")&&(c=t.data(\"duration\")),void 0!==t.data(\"effectFunc\")&&(d=t.data(\"effectFunc\")),\"switch\"===n&&(c=0),e.stop(!0),t.stop(!0),this.isAnimate=!0,setTimeout((function(){o.isAnimate=!1}),c),\"slide\"===n&&(a=\"next\"===i?\"slideLeft\":\"slideRight\"),\"slide-v\"===n&&(a=\"next\"===i?\"slideUp\":\"slideDown\"),n){case\"slide\":case\"slide-v\":w[a](e,t,c,d);break;case\"fade\":w.fade(e,t,c,d);break;default:w.switch(e,t)}setTimeout((function(){H.exec(l.onSlideShow,[t[0],e[0]],t[0]),r.fire(\"slideshow\",{current:t[0],prev:e[0]})}),c),setTimeout((function(){H.exec(l.onSlideHide,[e[0],t[0]],e[0]),r.fire(\"slidehide\",{current:e[0],next:t[0]})}),c),!0===s&&(void 0!==t.data(\"period\")&&(h=t.data(\"period\")),this.interval=setTimeout((function(){var e=\"left\"===l.direction?\"next\":\"prior\";o._slideTo(e,!0)}),h))},toSlide:function(e){this._slideToSlide(e)},next:function(){this._slideTo(\"next\")},prev:function(){this._slideTo(\"prev\")},stop:function(){clearInterval(this.interval),H.exec(this.options.onStop,[this.element]),this.element.fire(\"stop\")},play:function(){this._start(),H.exec(this.options.onPlay,[this.element]),this.element.fire(\"play\")},changeAttribute:function(e){},destroy:function(){var t=this.element,n=this.options;return t.off(b.events.click,\".carousel-bullet\"),t.off(b.events.click,\".carousel-switch-next\"),t.off(b.events.click,\".carousel-switch-prev\"),!0===n.stopOnMouse&&!0===n.autoStart&&(t.off(b.events.enter),t.off(b.events.leave)),!0===n.controlsOnMouse&&(t.off(b.events.enter),t.off(b.events.leave)),t.off(b.events.click,\".slide\"),e(window).off(b.events.resize+\"-\"+t.attr(\"id\")),t}};b.plugin(\"carousel\",se);var ae={position:\"right\",opacity:1,clsCharms:\"\",onCharmCreate:b.noop,onOpen:b.noop,onClose:b.noop,onToggle:b.noop};b.charmsSetup=function(t){ae=e.extend({},ae,t)},void 0!==typeof window.metroCharmsSetup&&b.charmsSetup(window.metroCharmsSetup);var oe={init:function(t,n){return this.options=e.extend({},ae,t),this.elem=n,this.element=e(n),this.origin={background:\"\"},this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"charms\"),this._createStructure(),this._createEvents(),H.exec(t.onCharmCreate,[e]),e.fire(\"charmcreate\")},_createStructure:function(){var e=this.element,t=this.options;e.addClass(\"charms\").addClass(t.position+\"-side\").addClass(t.clsCharms),this.origin.background=e.css(\"background-color\"),e.css({backgroundColor:H.computedRgbToRgba(H.getStyleOne(e,\"background-color\"),t.opacity)})},_createEvents:function(){},open:function(){var e=this.element,t=this.options;e.addClass(\"open\"),H.exec(t.onOpen,null,e[0]),e.fire(\"open\")},close:function(){var e=this.element,t=this.options;e.removeClass(\"open\"),H.exec(t.onClose,null,e[0]),e.fire(\"close\")},toggle:function(){var e=this.element,t=this.options;!0===e.hasClass(\"open\")?this.close():this.open(),H.exec(t.onToggle,null,e[0]),e.fire(\"toggle\")},opacity:function(e){var t=this.element,n=this.options;if(void 0===e)return n.opacity;var i=Math.abs(parseFloat(e));i<0||i>1||(n.opacity=i,t.css({backgroundColor:H.computedRgbToRgba(H.getStyleOne(t,\"background-color\"),i)}))},changeOpacity:function(){var e=this.element;this.opacity(e.attr(\"data-opacity\"))},changeAttribute:function(e){switch(e){case\"data-opacity\":this.changeOpacity()}},destroy:function(){return this.element}};b.plugin(\"charms\",oe),b.charms={check:function(e){return!1!==H.isMetroObject(e,\"charms\")||(console.warn(\"Element is not a charms component\"),!1)},isOpen:function(t){if(!1!==this.check(t))return e(t).hasClass(\"open\")},open:function(t){!1!==this.check(t)&&b.getPlugin(e(t)[0],\"charms\").open()},close:function(t){!1!==this.check(t)&&b.getPlugin(e(t)[0],\"charms\").close()},toggle:function(t){!1!==this.check(t)&&b.getPlugin(e(t)[0],\"charms\").toggle()},closeAll:function(){e(\"[data-role*=charms]\").each((function(){b.getPlugin(this,\"charms\").close()}))},opacity:function(t,n){!1!==this.check(t)&&b.getPlugin(e(t)[0],\"charms\").opacity(n)}};var re=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAUABQAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t+KKPxo/GgA70Yo/Gj8aADFH4VesdC1HUl3WtjcXCf344yV/PGKW+0HUtNXddWNzbp/fkjIX88YoAofhR+FH40fjQAfhR+FH40fjQAUUUUAFepeAPh5D9li1LVYhK8g3Q27j5VXszDuT6f5HA+FtOXVvEWn2rjMcko3j1UckfkDX0MBgYHAoARVCKFUBVHAA6ClZQwKkZBGCDS0UAec+Pvh3BJay6lpUQimjBeW3QYVx3Kjsfbv/PyqvpuvnvxfpqaT4l1C1QbY0lJUDsrfMB+RoAyKKKKACiiigDa8GXq6f4p02eQgIJQpJ7Bvlz+tfQP4V8yDg17P4A8cw65ZxWV5IE1KMbfmP+uA7j39R+NAHaUfhSUUAL+FeA+OL1NQ8WalNGQU83YCO+0Bf6V6b498cQ6BZyWlrIJNSkXaApz5QP8AEff0FeKk5OTyTQAUUUUAH40fjRU1naTX93DbQIXmlYIijuTQBc0Dw/eeI74W1mm49XkbhUHqTXsHhz4eaXoCpI8YvbscmaYZAP8Asr0H8/etHwv4cg8M6XHaxANIfmllxy7dz9PStigA/Gk/GlooA5bxJ8PdL19XkWMWd43PnwjGT/tL0P8AP3rx/X/D954cvjbXibT1SReVceoNfRFZHijw5B4m0uS1lAWQfNFLjlG7H6etAHz5+NH41NeWk1hdzW06FJonKMp7EGoaACvQfhBowudTudRkXK2y7I8j+Nup/Afzrz6vafhRaCDwmkgHM8zufwO3/wBloA7Kiij8KACkpaSgBaSj8KKAPJvi/owttTttRjXC3K7JMf3l6H8R/KvPq9p+K1qJ/CbyEcwTI4P1O3/2avFqAP/Z\",le={inputTimeFormat:\"%m-%d-%y\",timeFormat:\"%d %b %l:%M %p\",name:\"John Doe\",avatar:re,welcome:null,title:null,width:\"100%\",height:\"auto\",randomColor:!1,messages:null,sendButtonTitle:\"Send\",readonly:!1,clsChat:\"\",clsName:\"\",clsTime:\"\",clsInput:\"\",clsSendButton:\"\",clsMessageLeft:\"default\",clsMessageRight:\"default\",onMessage:b.noop,onSend:b.noop,onSendButtonClick:b.noop,onChatCreate:b.noop};b.chatSetup=function(t){le=e.extend({},le,t)},void 0!==typeof window.metroChatSetup&&b.chatSetup(window.metroChatSetup);var ce={init:function(t,n){return this.options=e.extend({},le,t),this.elem=n,this.element=e(n),this.input=null,this.classes=\"primary secondary success alert warning yellow info dark light\".split(\" \"),this.lastMessage=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"chat\"),this._createStructure(),this._createEvents(),H.exec(t.onChatCreate,[e]),e.fire(\"chatcreate\")},_createStructure:function(){var t,n,i=this,s=this.element,a=this.options,o=[{html:a.sendButtonTitle,cls:a.clsSendButton+\" js-chat-send-button\",onclick:a.onSendButtonClick}];s.addClass(\"chat\").addClass(a.clsChat),s.css({width:a.width,height:a.height}),H.isValue(a.title)&&e(\"<div>\").addClass(\"title\").html(a.title).appendTo(s),e(\"<div>\").addClass(\"messages\").appendTo(s),t=e(\"<div>\").addClass(\"message-input\").appendTo(s),(n=e(\"<input type='text'>\")).appendTo(t),n.input({customButtons:o,clsInput:a.clsInput}),a.welcome&&this.add({text:a.welcome,time:new Date,position:\"left\",name:\"Welcome\",avatar:re}),H.isValue(a.messages)&&\"string\"==typeof a.messages&&(a.messages=H.isObject(a.messages)),!H.isNull(a.messages)&&\"object\"==typeof a.messages&&H.objectLength(a.messages)>0&&e.each(a.messages,(function(){i.add(this)})),s.find(\".message-input\")[a.readonly?\"addClass\":\"removeClass\"](\"disabled\")},_createEvents:function(){var e=this,t=this.element,n=this.options,i=t.find(\".js-chat-send-button\"),s=t.find(\"input[type=text]\"),a=function(){var i,a=\"\"+s.val();if(\"\"===a.trim())return!1;i={id:H.elementId(\"\"),name:n.name,avatar:n.avatar,text:a,position:\"right\",time:new Date},e.add(i),H.exec(n.onSend,[i],t[0]),t.fire(\"send\",{msg:i}),s.val(\"\")};i.on(b.events.click,(function(){a()})),s.on(b.events.keyup,(function(e){e.keyCode===b.keyCode.ENTER&&a()}))},add:function(t){var n,s,a,o,r,l,c,d,h=this.element,u=this.options,p=h.find(\".messages\");return d=\"string\"==typeof t.time?t.time.toDate(u.inputTimeFormat):t.time,s=e(\"<div>\").addClass(\"message\").addClass(t.position).appendTo(p),a=e(\"<div>\").addClass(\"message-sender\").addClass(u.clsName).html(t.name).appendTo(s),o=e(\"<div>\").addClass(\"message-time\").addClass(u.clsTime).html(d.format(u.timeFormat)).appendTo(s),r=e(\"<div>\").addClass(\"message-item\").appendTo(s),l=e(\"<img>\").attr(\"src\",t.avatar).addClass(\"message-avatar\").appendTo(r),c=e(\"<div>\").addClass(\"message-text\").html(t.text).appendTo(r),H.isValue(t.id)&&s.attr(\"id\",t.id),!0===u.randomColor?(n=H.random(0,this.classes.length-1),c.addClass(this.classes[n])):(\"left\"===t.position&&H.isValue(u.clsMessageLeft)&&c.addClass(u.clsMessageLeft),\"right\"===t.position&&H.isValue(u.clsMessageRight)&&c.addClass(u.clsMessageRight)),H.exec(u.onMessage,[t,{message:s,sender:a,time:o,item:r,avatar:l,text:c}],s[0]),h.fire(\"message\",{msg:t,el:{message:s,sender:a,time:o,item:r,avatar:l,text:c}}),i((function(){h.fire(\"onmessage\",{message:t,element:s[0]})})),p.animate({scrollTop:p[0].scrollHeight},1e3),this.lastMessage=t,this},addMessages:function(t){var n=this;return H.isValue(t)&&\"string\"==typeof t&&(t=H.isObject(t)),\"object\"==typeof t&&H.objectLength(t)>0&&e.each(t,(function(){n.add(this)})),this},delMessage:function(e){return this.element.find(\".messages\").find(\"#\"+e).remove(),this},updMessage:function(e){var t=this.element.find(\".messages\").find(\"#\"+e.id);return 0===t.length?this:(t.find(\".message-text\").html(e.text),t.find(\".message-time\").html(e.time),this)},clear:function(){this.element.find(\".messages\").html(\"\"),this.lastMessage=null},toggleReadonly:function(e){var t=this.element,n=this.options;n.readonly=void 0===e?!n.readonly:e,t.find(\".message-input\")[n.readonly?\"addClass\":\"removeClass\"](\"disabled\")},changeAttribute:function(e){switch(e){case\"data-readonly\":this.toggleReadonly()}},destroy:function(){var e=this.element,t=e.find(\".js-chat-send-button\"),n=e.find(\"input[type=text]\");return t.off(b.events.click),n.off(b.events.keyup),e}};b.plugin(\"chat\",ce);var de={transition:!0,style:1,caption:\"\",captionPosition:\"right\",indeterminate:!1,clsCheckbox:\"\",clsCheck:\"\",clsCaption:\"\",onCheckboxCreate:b.noop};b.checkboxSetup=function(t){de=e.extend({},de,t)},void 0!==typeof window.metroCheckboxSetup&&b.checkboxSetup(window.metroCheckboxSetup);var he={init:function(t,n){return this.options=e.extend({},de,t),this.elem=n,this.element=e(n),this.origin={className:\"\"},this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options,i=e(\"<label>\").addClass(\"checkbox \"+t[0].className).addClass(2===n.style?\"style2\":\"\"),s=e(\"<span>\").addClass(\"check\"),a=e(\"<span>\").addClass(\"caption\").html(n.caption);b.checkRuntime(t,\"checkbox\"),void 0===t.attr(\"id\")&&t.attr(\"id\",H.elementId(\"checkbox\")),i.attr(\"for\",t.attr(\"id\")),t.attr(\"type\",\"checkbox\"),i.insertBefore(t),t.appendTo(i),s.appendTo(i),a.appendTo(i),!0===n.transition&&i.addClass(\"transition-on\"),\"left\"===n.captionPosition&&i.addClass(\"caption-left\"),this.origin.className=t[0].className,t[0].className=\"\",i.addClass(n.clsCheckbox),a.addClass(n.clsCaption),s.addClass(n.clsCheck),n.indeterminate&&(t[0].indeterminate=!0),t.is(\":disabled\")?this.disable():this.enable(),H.exec(n.onCheckboxCreate,[t]),t.fire(\"checkboxcreate\")},indeterminate:function(e){H.isNull(e)&&(e=!0),this.element[0].indeterminate=e},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,n=this.element,i=this.options,s=n.parent();switch(e){case\"disabled\":this.toggleState();break;case\"data-indeterminate\":n[0].indeterminate=!0===JSON.parse(n.attr(\"data-indeterminate\"));break;case\"data-style\":t=parseInt(n.attr(\"data-style\")),H.isInt(t)&&(i.style=t,s.removeClass(\"style1 style2\").addClass(\"style\"+t))}},destroy:function(){return this.element}};b.plugin(\"checkbox\",he);var ue={showTime:!0,showDate:!0,timeFormat:\"24\",dateFormat:\"american\",divider:\"&nbsp;&nbsp;\",leadingZero:!0,dateDivider:\"-\",timeDivider:\":\",onClockCreate:b.noop};b.clockSetup=function(t){ue=e.extend({},ue,t)},void 0!==typeof window.metroClockSetup&&b.clockSetup(window.metroClockSetup);var pe={init:function(t,n){return this.options=e.extend({},ue,t),this.elem=n,this.element=e(n),this._clockInterval=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this,t=this.element;b.checkRuntime(t,\"clock\"),this._tick(),H.exec(this.options.onClockCreate,[this.element]),t.fire(\"clockcreate\"),this._clockInterval=setInterval((function(){e._tick()}),500)},_addLeadingZero:function(e){return e<10&&(e=\"0\"+e),e},_tick:function(){var e=this.element,t=this.options,n=new Date,i=\"\",s=n.getHours(),a=n.getMinutes(),o=n.getSeconds(),r=n.getDate(),l=n.getMonth()+1,c=n.getFullYear(),d=\"\";12===parseInt(t.timeFormat)&&(d=\" AM\",s>11&&(d=\" PM\"),s>12&&(s-=12),0===s&&(s=12)),a=this._addLeadingZero(a),o=this._addLeadingZero(o),t.leadingZero&&(s=this._addLeadingZero(s),l=this._addLeadingZero(l),r=this._addLeadingZero(r)),t.showDate&&(\"american\"===t.dateFormat?(i+=\"<span class='date-month'>\"+l+\"</span>\",i+=\"<span class='date-divider'>\"+t.dateDivider+\"</span>\",i+=\"<span class='date-day'>\"+r+\"</span>\",i+=\"<span class='date-divider'>\"+t.dateDivider+\"</span>\",i+=\"<span class='date-year'>\"+c+\"</span>\"):(i+=\"<span class='date-day'>\"+r+\"</span>\",i+=\"<span class='date-divider'>\"+t.dateDivider+\"</span>\",i+=\"<span class='date-month'>\"+l+\"</span>\",i+=\"<span class='date-divider'>\"+t.dateDivider+\"</span>\",i+=\"<span class='date-year'>\"+c+\"</span>\"),i+=t.divider),t.showTime&&(i+=\"<span class='clock-hour'>\"+s+\"</span>\",i+=\"<span class='clock-divider'>\"+t.timeDivider+\"</span>\",i+=\"<span class='clock-minute'>\"+a+\"</span>\",i+=\"<span class='clock-divider'>\"+t.timeDivider+\"</span>\",i+=\"<span class='clock-second'>\"+o+\"</span>\",i+=\"<span class='clock-suffix'>\"+d+\"</span>\"),e.html(i)},changeAttribute:function(e){},destroy:function(){return clearInterval(this._clockInterval),this._clockInterval=null,this.element}};b.plugin(\"clock\",pe);var fe={collapsed:!1,toggleElement:!1,duration:100,onExpand:b.noop,onCollapse:b.noop,onCollapseCreate:b.noop};b.collapseSetup=function(t){fe=e.extend({},fe,t)},void 0!==typeof window.metroCollapseSetup&&b.collapseSetup(window.metroCollapseSetup);var me={init:function(t,n){return this.options=e.extend({},fe,t),this.elem=n,this.element=e(n),this.toggle=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t,n=this,i=this.element,s=this.options;b.checkRuntime(i,\"collapse\"),t=!1!==s.toggleElement?e(s.toggleElement):i.siblings(\".collapse-toggle\").length>0?i.siblings(\".collapse-toggle\"):i.siblings(\"a:nth-child(1)\"),!0!==s.collapsed&&!0!==i.attr(\"collapsed\")||i.hide(0),t.on(b.events.click,(function(e){\"block\"!==i.css(\"display\")||i.hasClass(\"keep-open\")?n._open(i):n._close(i),-1===[\"INPUT\"].indexOf(e.target.tagName)&&e.preventDefault(),e.stopPropagation()})),this.toggle=t,H.exec(this.options.onCollapseCreate,[this.element]),i.fire(\"collapsecreate\")},_close:function(t,n){var i=e(t),s=b.getPlugin(i[0],\"collapse\").options,a=n?\"show\":\"slideUp\",o=n?0:s.duration;this.toggle.removeClass(\"active-toggle\"),i[a](o,(function(){t.trigger(\"onCollapse\",null,t),t.data(\"collapsed\",!0),t.addClass(\"collapsed\"),H.exec(s.onCollapse,null,i[0]),i.fire(\"collapse\")}))},_open:function(t,n){var i=e(t),s=b.getPlugin(i[0],\"collapse\").options,a=n?\"show\":\"slideDown\",o=n?0:s.duration;this.toggle.addClass(\"active-toggle\"),i[a](o,(function(){t.trigger(\"onExpand\",null,t),t.data(\"collapsed\",!1),t.removeClass(\"collapsed\"),H.exec(s.onExpand,null,i[0]),i.fire(\"expand\")}))},collapse:function(e){this._close(this.element,e)},expand:function(e){this._open(this.element,e)},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},isCollapsed:function(){return this.element.data(\"collapsed\")},toggleState:function(){var e=this.element;!0===e.attr(\"collapsed\")||!0===e.data(\"collapsed\")?this.collapse():this.expand()},changeAttribute:function(e){switch(e){case\"collapsed\":case\"data-collapsed\":this.toggleState()}},destroy:function(){return this.toggle.off(b.events.click),this.element}};b.plugin(\"collapse\",me);var ve={stopOnBlur:!0,animate:\"none\",animationFunc:\"line\",inputFormat:null,locale:METRO_LOCALE,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,clsCountdown:\"\",clsPart:\"\",clsZero:\"\",clsAlarm:\"\",clsDays:\"\",clsHours:\"\",clsMinutes:\"\",clsSeconds:\"\",onAlarm:b.noop,onTick:b.noop,onZero:b.noop,onBlink:b.noop,onCountdownCreate:b.noop};b.countdownSetup=function(t){ve=e.extend({},ve,t)},void 0!==typeof window.metroCountdownSetup&&b.countdownSetup(window.metroCountdownSetup);var ge={init:function(t,n){return this.options=e.extend({},ve,t),this.elem=n,this.element=e(n),this.breakpoint=(new Date).getTime(),this.blinkInterval=null,this.tickInterval=null,this.zeroDaysFired=!1,this.zeroHoursFired=!1,this.zeroMinutesFired=!1,this.zeroSecondsFired=!1,this.fontSize=parseInt(H.getStyleOne(n,\"font-size\")),this.current={d:0,h:0,m:0,s:0},this.locale=null,this.inactiveTab=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;this.locale=void 0!==b.locales[t.locale]?b.locales[t.locale]:b.locales[\"en-US\"],b.checkRuntime(e,\"countdown\"),this._build(),this._createEvents()},_setBreakpoint:function(){var e=this.options;this.breakpoint=(new Date).getTime(),H.isValue(e.date)&&H.isDate(e.date,e.inputFormat)&&(this.breakpoint=H.isValue(e.inputFormat)?e.date.toDate(e.inputFormat).getTime():new Date(e.date).getTime()),parseInt(e.days)>0&&(this.breakpoint+=864e5*parseInt(e.days)),parseInt(e.hours)>0&&(this.breakpoint+=36e5*parseInt(e.hours)),parseInt(e.minutes)>0&&(this.breakpoint+=6e4*parseInt(e.minutes)),parseInt(e.seconds)>0&&(this.breakpoint+=1e3*parseInt(e.seconds))},_build:function(){var t,n,i=this,s=this.element,a=this.options,o=(new Date).getTime();s.attr(\"id\")||s.attr(\"id\",H.elementId(\"countdown\")),H.isValue(s.attr(\"id\"))||s.attr(\"id\",H.elementId(\"countdown\")),s.addClass(\"countdown\").addClass(a.clsCountdown),this._setBreakpoint(),t=Math.round((i.breakpoint-o)/864e5),e.each([\"days\",\"hours\",\"minutes\",\"seconds\"],(function(){var n=e(\"<div>\").addClass(\"part \"+this).addClass(a.clsPart).attr(\"data-label\",i.locale.calendar.time[this]).appendTo(s);if(\"days\"===this&&n.addClass(a.clsDays),\"hours\"===this&&n.addClass(a.clsHours),\"minutes\"===this&&n.addClass(a.clsMinutes),\"seconds\"===this&&n.addClass(a.clsSeconds),e(\"<div>\").addClass(\"digit\").appendTo(n),e(\"<div>\").addClass(\"digit\").appendTo(n),\"days\"===this&&t>=100)for(var o=0;o<String(Math.round(t/100)).length;o++)e(\"<div>\").addClass(\"digit\").appendTo(n)})),(n=s.find(\".digit\")).append(e(\"<span class='digit-placeholder'>\").html(\"0\")),n.append(e(\"<span class='digit-value'>\").html(\"0\")),H.exec(a.onCountdownCreate,[s],s[0]),s.fire(\"countdowncreate\"),!0===a.start?this.start():this.tick()},_createEvents:function(){var t=this,n=this.element;this.options,e(document).on(\"visibilitychange\",(function(){document.hidden?t.pause():t.resume()}),{ns:n.attr(\"id\")})},blink:function(){var e=this.element,t=this.options;e.toggleClass(\"blink\"),H.exec(t.onBlink,[this.current],e[0]),e.fire(\"blink\",{time:this.current})},tick:function(){var e,t,n,i,s,a=this.element,o=this.options,r=(new Date).getTime(),l=a.find(\".days\"),c=a.find(\".hours\"),d=a.find(\".minutes\"),h=a.find(\".seconds\");if((e=Math.floor((this.breakpoint-r)/1e3))<=-1)return this.stop(),a.addClass(o.clsAlarm),H.exec(o.onAlarm,[r],a[0]),void a.fire(\"alarm\",{time:r});e-=86400*(t=Math.floor(e/86400)),this.current.d!==t&&(this.current.d=t,this.draw(\"days\",t)),0===t&&!1===this.zeroDaysFired&&(this.zeroDaysFired=!0,l.addClass(o.clsZero),H.exec(o.onZero,[\"days\",l],a[0]),a.fire(\"zero\",{parts:[\"days\",l]})),e-=3600*(n=Math.floor(e/3600)),this.current.h!==n&&(this.current.h=n,this.draw(\"hours\",n)),0===t&&0===n&&!1===this.zeroHoursFired&&(this.zeroHoursFired=!0,c.addClass(o.clsZero),H.exec(o.onZero,[\"hours\",c],a[0]),a.fire(\"zero\",{parts:[\"hours\",c]})),e-=60*(i=Math.floor(e/60)),this.current.m!==i&&(this.current.m=i,this.draw(\"minutes\",i)),0===t&&0===n&&0===i&&!1===this.zeroMinutesFired&&(this.zeroMinutesFired=!0,d.addClass(o.clsZero),H.exec(o.onZero,[\"minutes\",d],a[0]),a.fire(\"zero\",{parts:[\"minutes\",d]})),s=Math.floor(e/1),this.current.s!==s&&(this.current.s=s,this.draw(\"seconds\",s)),0===t&&0===n&&0===i&&0===s&&!1===this.zeroSecondsFired&&(this.zeroSecondsFired=!0,h.addClass(o.clsZero),H.exec(o.onZero,[\"seconds\",h],a[0]),a.fire(\"zero\",{parts:[\"seconds\",h]})),H.exec(o.onTick,[{days:t,hours:n,minutes:i,seconds:s}],a[0]),a.fire(\"tick\",{days:t,hours:n,minutes:i,seconds:s})},draw:function(t,n){var i,s,a,o,r,l,c=this.element,d=this.options,h=function(t){var n,i=t.height();t.siblings(\".-old-digit\").remove(),(n=t.clone().appendTo(t.parent())).css({top:-1*i+\"px\"}),t.addClass(\"-old-digit\").animate((function(t,n){e(this).css({top:i*n+\"px\",opacity:1-n})}),900,d.animationFunc,(function(){e(this).remove()})),n.html(a).animate((function(t,n){e(this).css({top:i*n-i+\"px\",opacity:n})}),900,d.animationFunc)},u=function(t){var n;t.siblings(\".-old-digit\").remove(),(n=t.clone().appendTo(t.parent())).css({opacity:0}),t.addClass(\"-old-digit\").animate((function(t,n){e(this).css({opacity:1-n})}),450,d.animationFunc,(function(){e(this).remove()})),n.html(a).animate((function(t,n){e(this).css({opacity:n})}),900,d.animationFunc)},p=function(t){var n,i=t.height(),s=parseInt(t.style(\"font-size\"));t.siblings(\".-old-digit\").remove(),(n=t.clone().appendTo(t.parent())).css({top:0,left:0}),t.addClass(\"-old-digit\").animate((function(t,n){e(this).css({top:i*n+\"px\",opacity:1-n,fontSize:s*(1-n)+\"px\"})}),900,d.animationFunc,(function(){e(this).remove()})),n.html(a).animate((function(t,n){e(this).css({top:i*n-i+\"px\",opacity:n,fontSize:s*n+\"px\"})}),900,d.animationFunc)};for(1===(n=\"\"+n).length&&(n=\"0\"+n),r=n.length,s=(i=c.find(\".\"+t+\" .digit:not(-old-digit)\")).length,l=0;l<r;l++)if(o=i.eq(s-1).find(\".digit-value\"),a=Math.floor(parseInt(n)/Math.pow(10,l))%10,parseInt(o.text())!==a){switch((\"\"+d.animate).toLowerCase()){case\"slide\":h(o);break;case\"fade\":u(o);break;case\"zoom\":p(o);break;default:o.html(a)}s--}},start:function(){var e=this,t=this.element;!1!==t.data(\"paused\")&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data(\"paused\",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval((function(){e.blink()}),500),this.tickInterval=setInterval((function(){e.tick()}),1e3))},stop:function(){var e=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data(\"paused\",!0),e.find(\".digit\").html(\"0\"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data(\"paused\",!0)},resume:function(){var e=this;this.element.data(\"paused\",!1),this.blinkInterval=setInterval((function(){e.blink()}),500),this.tickInterval=setInterval((function(){e.tick()}),1e3)},reset:function(){var e=this,t=this.element,n=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.find(\".part\").removeClass(n.clsZero),t.find(\".digit\").html(\"0\"),this._setBreakpoint(),t.data(\"paused\",!1),this.tick(),this.blinkInterval=setInterval((function(){e.blink()}),500),this.tickInterval=setInterval((function(){e.tick()}),1e3)},togglePlay:function(){!0===this.element.attr(\"data-pause\")?this.pause():this.start()},isPaused:function(){return this.element.data(\"paused\")},getBreakpoint:function(e){return!0===e?new Date(this.breakpoint):this.breakpoint},getLeft:function(){var e=(new Date).getTime(),t=Math.floor(this.breakpoint-e);return{days:Math.round(t/864e5),hours:Math.round(t/36e5),minutes:Math.round(t/6e4),seconds:Math.round(t/1e3)}},i18n:function(t){var n=this,i=this.element,s=this.options;return void 0===t?s.locale:void 0!==b.locales[t]&&(s.locale=t,this.locale=b.locales[s.locale],void e.each([\"days\",\"hours\",\"minutes\",\"seconds\"],(function(){var e=\".part.\"+this;i.find(e).attr(\"data-label\",n.locale.calendar.time[this])})))},changeAttrLocale:function(){var e=this.element.attr(\"data-locale\");this.i18n(e)},changeAttribute:function(e){switch(e){case\"data-pause\":this.togglePlay();break;case\"data-locale\":this.changeAttrLocale()}},destroy:function(){return clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e(document).off(\"visibilitychange\",{ns:element.attr(\"id\")}),this.element}};b.plugin(\"countdown\",ge);var Ce={delay:10,step:1,value:0,timeout:null,delimiter:\",\",onStart:b.noop,onStop:b.noop,onTick:b.noop,onCounterCreate:b.noop};b.counterSetup=function(t){Ce=e.extend({},Ce,t)},void 0!==typeof window.metroCounterSetup&&b.counterSetup(window.metroCounterSetup);var be={init:function(t,n){return this.options=e.extend({},Ce,t),this.elem=n,this.element=e(n),this.numbers=[],this.html=this.element.html(),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this,t=this.element,n=this.options;b.checkRuntime(t,\"counter\"),this._calcArray(),H.exec(n.onCounterCreate,[t],this.elem),t.fire(\"countercreate\"),null!==n.timeout&&H.isInt(n.timeout)&&setTimeout((function(){e.start()}),n.timeout)},_calcArray:function(){var e,t=this.options;for(this.numbers=[],e=0;e<=t.value;e+=t.step)this.numbers.push(e);this.numbers[this.numbers.length-1]!==t.value&&this.numbers.push(t.value)},start:function(){var e=this,t=this.element,n=this.options,i=function(){if(0===e.numbers.length)return H.exec(n.onStop,[t],t[0]),void t.fire(\"stop\");var s=e.numbers.shift();H.exec(n.onTick,[s,t],t[0]),t.fire(\"tick\"),t.html(Number(s).format(0,0,n.delimiter)),e.numbers.length>0?setTimeout(i,n.delay):(H.exec(n.onStop,[t],t[0]),t.fire(\"stop\"))};H.exec(n.onStart,[t],t[0]),t.fire(\"start\"),setTimeout(i,n.delay)},reset:function(){this._calcArray(),this.element.html(this.html)},setValueAttribute:function(){this.options.value=this.element.attr(\"data-value\"),this._calcArray()},changeAttribute:function(e){\"data-value\"===e&&this.setValueAttribute()},destroy:function(){return this.element}};b.plugin(\"counter\",be);var we={rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:\"arrow\",cellClick:!1,autoRestart:5e3,clsCube:\"\",clsCell:\"\",clsSide:\"\",clsSideLeft:\"\",clsSideRight:\"\",clsSideTop:\"\",clsSideLeftCell:\"\",clsSideRightCell:\"\",clsSideTopCell:\"\",clsAxis:\"\",clsAxisX:\"\",clsAxisY:\"\",clsAxisZ:\"\",custom:b.noop,onTick:b.noop,onCubeCreate:b.noop};b.cubeSetup=function(t){we=e.extend({},we,t)},void 0!==typeof window.metroCubeSetup&&b.cubeSetup(window.metroCubeSetup);var ye={init:function(t,n){return this.options=e.extend({},we,t),this.elem=n,this.element=e(n),this.id=null,this.rules=null,this.interval=!1,this.ruleInterval=!1,this.running=!1,this.intervals=[],this._setOptionsFromDOM(),this._create(),this},default_rules:[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"cube\"),null===t.rules?this.rules=this.default_rules:this._parseRules(t.rules),this._createCube(),this._createEvents(),H.exec(t.onCubeCreate,[e]),e.fire(\"cubecreate\")},_parseRules:function(e){if(null==e)return!1;if(H.isObject(e))return this.rules=H.isObject(e),!0;try{return this.rules=JSON.parse(e),!0}catch(e){return console.log(\"Unknown or empty rules for cell flashing!\"),!1}},_createCube:function(){var t=this.element,n=this.options,i=H.elementId(\"cube\"),s=Math.pow(n.cells,2);t.addClass(\"cube\").addClass(n.clsCube),t.attr(\"id\")||t.attr(\"id\",i),this.id=t.attr(\"id\"),this._createCssForFlashColor(),this._createCssForCellSize(),e.each([\"left\",\"right\",\"top\"],(function(){var i,a,o;for(i=e(\"<div>\").addClass(\"side \"+this+\"-side\").addClass(n.clsSide).appendTo(t),\"left\"===this&&i.addClass(n.clsSideLeft),\"right\"===this&&i.addClass(n.clsSideRight),\"top\"===this&&i.addClass(n.clsSideTop),o=0;o<s;o++)(a=e(\"<div>\").addClass(\"cube-cell\").addClass(\"cell-id-\"+(o+1)).addClass(n.clsCell)).data(\"id\",o+1).data(\"side\",this),a.appendTo(i),!0===n.numbers&&a.html(o+1)}));var a=t.find(\".cube-cell\");null!==n.color&&(H.isColor(n.color)?a.css({backgroundColor:n.color,borderColor:n.color}):a.addClass(n.color)),e.each([\"x\",\"y\",\"z\"],(function(){var i=e(\"<div>\").addClass(\"axis \"+n.axisStyle).addClass(\"axis-\"+this).addClass(n.clsAxis);\"x\"===this&&i.addClass(n.clsAxisX),\"y\"===this&&i.addClass(n.clsAxisY),\"z\"===this&&i.addClass(n.clsAxisZ),i.appendTo(t)})),!1===n.showAxis&&t.find(\".axis\").hide(),this._run()},_run:function(){var e=this,t=this.element,n=this.options,i=0;clearInterval(this.interval),t.find(\".cube-cell\").removeClass(\"light\"),n.custom!==b.noop?H.exec(n.custom,[t]):(t.find(\".cube-cell\").removeClass(\"light\"),e._start(),i=H.isObject(this.rules)?H.objectLength(this.rules):0,this.interval=setInterval((function(){e._start()}),i*n.flashInterval))},_createCssForCellSize:function(){var e,t,n=this.element,i=this.options,s=b.sheet;8===i.margin&&4===i.cells||(e=parseInt(H.getStyleOne(n,\"width\")),t=Math.ceil((e/2-i.margin*i.cells*2)/i.cells),H.addCssRule(s,\"#\"+n.attr(\"id\")+\" .side .cube-cell\",\"width: \"+t+\"px!important; height: \"+t+\"px!important; margin: \"+i.margin+\"px!important;\"))},_createCssForFlashColor:function(){var e,t,n,i=this.element,s=this.options,a=b.sheet,o=[],r=[];if(null!==s.flashColor){for(e=\"0 0 10px \"+H.hexColorToRgbA(s.flashColor,1),t=\"0 0 10px \"+H.hexColorToRgbA(s.flashColor,s.attenuation),n=0;n<3;n++)o.push(e),r.push(t);H.addCssRule(a,\"@keyframes pulsar-cell-\"+i.attr(\"id\"),\"0%, 100% { box-shadow: \"+o.join(\",\")+\"} 50% { box-shadow: \"+r.join(\",\")+\" }\"),H.addCssRule(a,\"#\"+i.attr(\"id\")+\" .side .cube-cell.light\",\"animation: pulsar-cell-\"+i.attr(\"id\")+\" 2.5s 0s ease-out infinite; background-color: \"+s.flashColor+\"!important; border-color: \"+s.flashColor+\"!important;\")}},_createEvents:function(){var t=this,n=this.element,i=this.options;e(window).on(b.events.blur,(function(){!0===i.stopOnBlur&&!0===t.running&&t._stop()}),{ns:n.attr(\"id\")}),e(window).on(b.events.focus,(function(){!0===i.stopOnBlur&&!1===t.running&&t._start()}),{ns:n.attr(\"id\")}),n.on(b.events.click,\".cube-cell\",(function(){!0===i.cellClick&&e(this).toggleClass(\"light\")}))},_start:function(){var t=this;this.element.find(\".cube-cell\").removeClass(\"light\"),this.running=!0,e.each(this.rules,(function(e,n){t._execRule(e,n)}))},_stop:function(){this.running=!1,clearInterval(this.interval),e.each(this.intervals,(function(){clearInterval(this)}))},_tick:function(e,t){var n=this,i=this.element,s=this.options;void 0===t&&(t=s.flashInterval*e);var a=setTimeout((function(){H.exec(s.onTick,[e],i[0]),i.fire(\"tick\",{index:e}),clearInterval(a),H.arrayDelete(n.intervals,a)}),t);this.intervals.push(a)},_toggle:function(e,t,n,i){var s=this;void 0===i&&(i=this.options.flashInterval*n);var a=setTimeout((function(){e[\"on\"===t?\"addClass\":\"removeClass\"](\"light\"),clearInterval(a),H.arrayDelete(s.intervals,a)}),i);this.intervals.push(a)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(e,t){var n=this,i=this.element,s=this.options,a=this.rules;if(null!=a&&void 0!==a[e]){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),i.find(\".cube-cell\").removeClass(\"light\");for(var o=0;o<=e;o++)this._execRule(o,a[o],t);H.isInt(s.autoRestart)&&s.autoRestart>0&&(this.ruleInterval=setTimeout((function(){n._run()}),s.autoRestart))}},_execRule:function(t,n,i){var s=this,a=this.element;this._tick(t,i),e.each([\"left\",\"right\",\"top\"],(function(){var o=\".\"+this+\"-side\",r=void 0!==n.on&&void 0!==n.on[this]&&n.on[this],l=void 0!==n.off&&void 0!==n.off[this]&&n.off[this];!1!==r&&e.each(r,(function(){var e=a.find(o+\" .cell-id-\"+this);s._toggle(e,\"on\",t,i)})),!1!==l&&e.each(l,(function(){var e=a.find(o+\" .cell-id-\"+this);s._toggle(e,\"off\",t,i)}))}))},rule:function(e){if(void 0===e)return this.rules;!0===this._parseRules(e)&&(this.options.rules=e,this.stop(),this.element.find(\".cube-cell\").removeClass(\"light\"),this._run())},axis:function(e){var t=!0===e?\"show\":\"hide\";this.element.find(\".axis\")[t]()},changeRules:function(){var e=this.element,t=this.options,n=e.attr(\"data-rules\");!0===this._parseRules(n)&&(this.stop(),e.find(\".cube-cell\").removeClass(\"light\"),t.rules=n,this._run())},changeAxisVisibility:function(){var e=this.element,t=!0===JSON.parse(e.attr(\"data-show-axis\"))?\"show\":\"hide\";e.find(\".axis\")[t]()},changeAxisStyle:function(){var e=this.element,t=e.attr(\"data-axis-style\");e.find(\".axis\").removeClass(\"arrow line no-style\").addClass(t)},changeAttribute:function(e){switch(e){case\"data-rules\":this.changeRules();break;case\"data-show-axis\":this.changeAxisVisibility();break;case\"data-axis-style\":this.changeAxisStyle()}},destroy:function(){var t=this.element;return clearInterval(this.interval),this.interval=null,e(window).off(b.events.blur,{ns:t.attr(\"id\")}),e(window).off(b.events.focus,{ns:t.attr(\"id\")}),t.off(b.events.click,\".cube-cell\"),t}};b.plugin(\"cube\",ye);var xe={gmt:0,format:\"%Y-%m-%d\",inputFormat:null,locale:METRO_LOCALE,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,scrollSpeed:4,copyInlineStyles:!0,clsPicker:\"\",clsPart:\"\",clsMonth:\"\",clsDay:\"\",clsYear:\"\",okButtonIcon:\"<span class='default-icon-check'></span>\",cancelButtonIcon:\"<span class='default-icon-cross'></span>\",onSet:b.noop,onOpen:b.noop,onClose:b.noop,onScroll:b.noop,onDatePickerCreate:b.noop};b.datePickerSetup=function(t){xe=e.extend({},xe,t)},void 0!==typeof window.metroDatePickerSetup&&b.datePickerSetup(window.metroDatePickerSetup);var Se={init:function(t,n){return this.options=e.extend({},xe,t),this.elem=n,this.element=e(n),this.picker=null,this.isOpen=!1,this.value=new Date,this.locale=b.locales[this.options.locale].calendar,this.offset=(new Date).getTimezoneOffset()/60+1,this.listTimer={day:null,month:null,year:null},this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"datepicker\"),t.distance<1&&(t.distance=1),H.isValue(e.val())&&(t.value=e.val()),H.isValue(t.value)&&(H.isValue(t.inputFormat)?this.value=(\"\"+t.value).toDate(t.inputFormat):H.isDate(t.value)&&(this.value=new Date(t.value))),void 0===b.locales[t.locale]&&(t.locale=METRO_LOCALE),this.locale=b.locales[t.locale].calendar,null===t.minYear&&(t.minYear=(new Date).getFullYear()-100),null===t.maxYear&&(t.maxYear=(new Date).getFullYear()+100),this._createStructure(),this._createEvents(),this._set(),H.exec(t.onDatePickerCreate,[e]),e.fire(\"datepickercreate\")},_createStructure:function(){var t,n,i,s,a,o,r,l,c,d,h=this.element,u=this.options,p=h.prev(),f=h.parent(),m=H.elementId(\"datepicker\");if(t=e(\"<div>\").attr(\"id\",m).addClass(\"wheel-picker date-picker \"+h[0].className).addClass(u.clsPicker),0===p.length?f.prepend(t):t.insertAfter(p),h.appendTo(t),r=e(\"<div>\").addClass(\"date-wrapper\").appendTo(t),!0===u.month&&(n=e(\"<div>\").addClass(\"month\").addClass(u.clsPart).addClass(u.clsMonth).appendTo(r)),!0===u.day&&(i=e(\"<div>\").addClass(\"day\").addClass(u.clsPart).addClass(u.clsDay).appendTo(r)),!0===u.year&&(s=e(\"<div>\").addClass(\"year\").addClass(u.clsPart).addClass(u.clsYear).appendTo(r)),l=e(\"<div>\").addClass(\"select-wrapper\").appendTo(t),c=e(\"<div>\").addClass(\"select-block\").appendTo(l),!0===u.month){for(n=e(\"<ul>\").addClass(\"sel-month\").appendTo(c),a=0;a<u.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(n);for(a=0;a<12;a++)e(\"<li>\").addClass(\"js-month-\"+a+\" js-month-real-\"+this.locale.months[a].toLowerCase()).html(this.locale.months[a]).data(\"value\",a).appendTo(n);for(a=0;a<u.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(n)}if(!0===u.day){for(i=e(\"<ul>\").addClass(\"sel-day\").appendTo(c),a=0;a<u.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(i);for(a=0;a<31;a++)e(\"<li>\").addClass(\"js-day-\"+a+\" js-day-real-\"+(a+1)).html(a+1).data(\"value\",a+1).appendTo(i);for(a=0;a<u.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(i)}if(!0===u.year){for(s=e(\"<ul>\").addClass(\"sel-year\").appendTo(c),a=0;a<u.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(s);for(a=u.minYear,o=0;a<=u.maxYear;a++,o++)e(\"<li>\").addClass(\"js-year-\"+o+\" js-year-real-\"+a).html(a).data(\"value\",a).appendTo(s);for(a=0;a<u.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(s)}if(c.height(40*(2*u.distance+1)),d=e(\"<div>\").addClass(\"action-block\").appendTo(l),e(\"<button>\").attr(\"type\",\"button\").addClass(\"button action-ok\").html(u.okButtonIcon).appendTo(d),e(\"<button>\").attr(\"type\",\"button\").addClass(\"button action-cancel\").html(u.cancelButtonIcon).appendTo(d),h[0].className=\"\",!0===u.copyInlineStyles)for(a=0;a<h[0].style.length;a++)t.css(h[0].style[a],h.css(h[0].style[a]));this.picker=t},_createEvents:function(){var t=this,n=this.options,i=this.picker;i.on(b.events.start,\".select-block ul\",(function(t){if(!t.changedTouches){var s=this,a=H.pageXY(t).y;e(document).on(b.events.move,(function(e){s.scrollTop-=n.scrollSpeed*(a>H.pageXY(e).y?-1:1),a=H.pageXY(e).y}),{ns:i.attr(\"id\")}),e(document).on(b.events.stop,(function(){e(document).off(b.events.move,{ns:i.attr(\"id\")}),e(document).off(b.events.stop,{ns:i.attr(\"id\")})}),{ns:i.attr(\"id\")})}})),i.on(b.events.click,(function(e){!1===t.isOpen&&t.open(),e.stopPropagation()})),i.on(b.events.click,\".action-ok\",(function(e){var n,s,a,o=i.find(\".sel-month li.active\"),r=i.find(\".sel-day li.active\"),l=i.find(\".sel-year li.active\");n=0===o.length?t.value.getMonth():o.data(\"value\"),s=0===r.length?t.value.getDate():r.data(\"value\"),a=0===l.length?t.value.getFullYear():l.data(\"value\"),t.value=new Date(a,n,s),t._correct(),t._set(),t.close(),e.stopPropagation()})),i.on(b.events.click,\".action-cancel\",(function(e){t.close(),e.stopPropagation()})),e.each([\"month\",\"day\",\"year\"],(function(){var e=this,s=i.find(\".sel-\"+e);s.on(\"scroll\",(function(){t.isOpen&&(t.listTimer[e]&&(clearTimeout(t.listTimer[e]),t.listTimer[e]=null),t.listTimer[e]||(t.listTimer[e]=setTimeout((function(){var a,o,r;t.listTimer[e]=null,a=Math.round(Math.ceil(s.scrollTop())/40),r=(o=s.find(\".js-\"+e+\"-\"+a)).position().top-40*n.distance,s.find(\".active\").removeClass(\"active\"),s[0].scrollTop=r,o.addClass(\"active\"),H.exec(n.onScroll,[o,s,i],s[0])}),150)))}))}))},_correct:function(){var e=this.value.getMonth(),t=this.value.getDate(),n=this.value.getFullYear();this.value=new Date(n,e,t)},_set:function(){var e=this.element,t=this.options,n=this.picker,i=this.locale.months[this.value.getMonth()],s=this.value.getDate(),a=this.value.getFullYear();!0===t.month&&n.find(\".month\").html(i),!0===t.day&&n.find(\".day\").html(s),!0===t.year&&n.find(\".year\").html(a),e.val(this.value.format(t.format,t.locale)).trigger(\"change\"),H.exec(t.onSet,[this.value,e.val(),e,n],e[0]),e.fire(\"set\",{value:this.value})},open:function(){var e,t,n,i,s,a=this.element,o=this.options,r=this.picker,l=this.value.getMonth(),c=this.value.getDate()-1,d=this.value.getFullYear(),h=r.find(\".select-wrapper\");h.parent().removeClass(\"for-top for-bottom\"),h.show(0),r.find(\"li\").removeClass(\"active\"),i=H.inViewport(h[0]),s=H.rect(h[0]),!i&&s.top>0&&h.parent().addClass(\"for-bottom\"),!i&&s.top<0&&h.parent().addClass(\"for-top\"),!0===o.month&&(e=r.find(\".sel-month\")).scrollTop(0).animate({scrollTop:e.find(\"li.js-month-\"+l).addClass(\"active\").position().top-40*o.distance},100),!0===o.day&&(t=r.find(\".sel-day\")).scrollTop(0).animate({scrollTop:t.find(\"li.js-day-\"+c).addClass(\"active\").position().top-40*o.distance},100),!0===o.year&&(n=r.find(\".sel-year\")).scrollTop(0).animate({scrollTop:n.find(\"li.js-year-real-\"+d).addClass(\"active\").position().top-40*o.distance},100),this.isOpen=!0,H.exec(o.onOpen,[this.value,a,r],a[0]),a.fire(\"open\",{value:this.value})},close:function(){var e=this.picker,t=this.options,n=this.element;e.find(\".select-wrapper\").hide(0),this.isOpen=!1,H.exec(t.onClose,[this.value,n,e],n[0]),n.fire(\"close\",{value:this.value})},val:function(e){var t=this.options;if(!H.isValue(e))return this.element.val();H.isValue(t.inputFormat)?this.value=(\"\"+e).toDate(t.inputFormat):this.value=new Date(e),this._set()},date:function(e){if(void 0===e)return this.value;try{this.value=new Date(e.format(\"%Y-%m-%d\")),this._set()}catch(e){return!1}},i18n:function(t){var n,i,s=this.element,a=this.options;if(a.locale=t||s.attr(\"data-locale\"),this.locale=b.locales[a.locale].calendar,!0===a.month){for(n=s.closest(\".date-picker\").find(\".sel-month\").html(\"\"),i=0;i<a.distance;i++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(n);for(i=0;i<12;i++)e(\"<li>\").addClass(\"js-month-\"+i+\" js-month-real-\"+this.locale.months[i].toLowerCase()).html(this.locale.months[i]).data(\"value\",i).appendTo(n);for(i=0;i<a.distance;i++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(n)}this._set()},changeAttribute:function(e){var t=this;switch(e){case\"data-value\":t.val(t.element.attr(\"data-value\"));break;case\"data-locale\":t.i18n(t.element.attr(\"data-locale\"));break;case\"data-format\":t.options.format=t.element.attr(\"data-format\"),t._set()}},destroy:function(){var t=this.element,n=this.picker;return e.each([\"moth\",\"day\",\"year\"],(function(){n.find(\".sel-\"+this).off(\"scroll\")})),n.off(b.events.start,\".select-block ul\"),n.off(b.events.click),n.off(b.events.click,\".action-ok\"),n.off(b.events.click,\".action-cancel\"),t}};b.plugin(\"datepicker\",Se),e(document).on(b.events.click,(function(){e.each(e(\".date-picker\"),(function(){e(this).find(\"input\").each((function(){b.getPlugin(this,\"datepicker\").close()}))}))}));var Te={closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,locale:METRO_LOCALE,title:\"\",content:\"\",actions:{},actionsAlign:\"right\",defaultAction:!0,overlay:!0,overlayColor:\"#000000\",overlayAlpha:.5,overlayClickClose:!1,width:\"480\",height:\"auto\",shadow:!0,closeAction:!0,clsDialog:\"\",clsTitle:\"\",clsContent:\"\",clsAction:\"\",clsDefaultAction:\"\",clsOverlay:\"\",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onShow:b.noop,onHide:b.noop,onOpen:b.noop,onClose:b.noop,onDialogCreate:b.noop};b.dialogSetup=function(t){Te=e.extend({},Te,t)},void 0!==typeof window.metroDialogSetup&&b.dialogSetup(window.metroDialogSetup);var ke={_counter:0,init:function(t,n){return this.options=e.extend({},Te,t),this.elem=n,this.element=e(n),this.interval=null,this.overlay=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;this.locale=void 0!==b.locales[t.locale]?b.locales[t.locale]:b.locales[\"en-US\"],b.checkRuntime(e,\"dialog\"),this._build()},_build:function(){var t,n=this,i=this.element,s=this.options,a=e(\"body\");if(i.addClass(\"dialog\"),!0===s.shadow&&i.addClass(\"shadow-on\"),void 0===i.attr(\"id\")&&i.attr(\"id\",H.elementId(\"dialog\")),\"\"!==s.title&&this.setTitle(s.title),\"\"!==s.content&&this.setContent(s.content),!0===s.defaultAction||!1!==s.actions&&\"object\"==typeof s.actions&&H.objectLength(s.actions)>0){var o,r=i.find(\".dialog-actions\");0===r.length&&(r=e(\"<div>\").addClass(\"dialog-actions\").addClass(\"text-\"+s.actionsAlign).appendTo(i)),!0===s.defaultAction&&0===H.objectLength(s.actions)&&0===i.find(\".dialog-actions > *\").length&&(o=e(\"<button>\").addClass(\"button js-dialog-close\").addClass(s.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(r),H.isObject(s.actions)&&e.each(H.isObject(s.actions),(function(){var t=this;o=e(\"<button>\").addClass(\"button\").addClass(t.cls).html(t.caption),void 0!==t.onclick&&o.on(b.events.click,(function(){H.exec(t.onclick,[i])})),o.appendTo(r)}))}!0===s.overlay&&(t=this._overlay(),this.overlay=t),!0===s.closeAction&&i.on(b.events.click,\".js-dialog-close\",(function(){n.close()}));var l=i.find(\"closer\");0===l.length&&(l=e(\"<span>\").addClass(\"button square closer js-dialog-close\")).appendTo(i),!0!==s.closeButton&&l.hide(),i.css({width:s.width,height:s.height,visibility:\"hidden\",top:\"100%\",left:(e(window).width()-i.outerWidth())/2}),i.addClass(s.clsDialog),i.find(\".dialog-title\").addClass(s.clsTitle),i.find(\".dialog-content\").addClass(s.clsContent),i.find(\".dialog-actions\").addClass(s.clsAction),i.appendTo(a),s.show&&this.open(),e(window).on(b.events.resize,(function(){n.setPosition()}),{ns:i.attr(\"id\")}),H.exec(this.options.onDialogCreate,[this.element]),i.fire(\"dialogcreate\")},_overlay:function(){var t=this.options,n=e(\"<div>\");return n.addClass(\"overlay\").addClass(t.clsOverlay),\"transparent\"===t.overlayColor?n.addClass(\"transparent\"):n.css({background:H.hex2rgba(t.overlayColor,t.overlayAlpha)}),n},hide:function(e){var t=this.element,n=this.options,i=0;n.onHide!==b.noop&&(i=500,H.exec(n.onHide,null,t[0]),t.fire(\"hide\")),setTimeout((function(){H.callback(e),t.css({visibility:\"hidden\",top:\"100%\"})}),i)},show:function(e){var t=this.element,n=this.options;this.setPosition(),t.css({visibility:\"visible\"}),H.exec(n.onShow,[this],t[0]),t.fire(\"show\"),H.callback(e)},setPosition:function(){var t,n,i=this.element,s=this.options;!0!==s.toTop&&!0!==s.toBottom?((t=(e(window).height()-i.outerHeight())/2)<0&&(t=0),n=\"auto\"):(!0===s.toTop&&(t=0,n=\"auto\"),!0!==s.toTop&&!0===s.toBottom&&(n=0,t=\"auto\")),i.css({top:t,bottom:n,left:(e(window).width()-i.outerWidth())/2})},setContent:function(t){var n=this.element,i=n.find(\".dialog-content\");0===i.length&&(i=e(\"<div>\").addClass(\"dialog-content\")).appendTo(n),!H.isQ(t)&&H.isFunc(t)&&(t=H.exec(t)),H.isQ(t)?t.appendTo(i):i.html(t)},setTitle:function(t){var n=this.element,i=n.find(\".dialog-title\");0===i.length&&(i=e(\"<div>\").addClass(\"dialog-title\")).appendTo(n),i.html(t)},close:function(){var t=this.element,n=this.options;H.bool(n.leaveOverlayOnClose)||e(\"body\").find(\".overlay\").remove(),this.hide((function(){t.data(\"open\",!1),H.exec(n.onClose,[t],t[0]),t.fire(\"close\"),!0===n.removeOnClose&&t.remove()}))},open:function(){var t=this,n=this.element,i=this.options;!0===i.overlay&&0===e(\".overlay\").length&&(this.overlay.appendTo(e(\"body\")),!0===i.overlayClickClose&&this.overlay.on(b.events.click,(function(){t.close()}))),this.show((function(){H.exec(i.onOpen,[n],n[0]),n.fire(\"open\"),n.data(\"open\",!0),parseInt(i.autoHide)>0&&setTimeout((function(){t.close()}),parseInt(i.autoHide))}))},toggle:function(){this.element.data(\"open\")?this.close():this.open()},isOpen:function(){return!0===this.element.data(\"open\")},changeAttribute:function(e){},destroy:function(){var t=this.element;return this.options,t.off(b.events.click,\".js-dialog-close\"),t.find(\".button\").off(b.events.click),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"dialog\",ke),b.dialog={isDialog:function(e){return H.isMetroObject(e,\"dialog\")},open:function(e,t,n){if(!this.isDialog(e))return!1;var i=b.getPlugin(e,\"dialog\");void 0!==n&&i.setTitle(n),void 0!==t&&i.setContent(t),i.open()},close:function(t){if(!this.isDialog(t))return!1;b.getPlugin(e(t)[0],\"dialog\").close()},toggle:function(t){if(!this.isDialog(t))return!1;b.getPlugin(e(t)[0],\"dialog\").toggle()},isOpen:function(t){if(!this.isDialog(t))return!1;b.getPlugin(e(t)[0],\"dialog\").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;var n=b.getPlugin(e(t)[0],\"dialog\");n.options.removeOnClose=!0,n.close()},create:function(t){var n;n=e(\"<div>\").appendTo(e(\"body\"));var i=e.extend({},{show:!0,closeAction:!0,removeOnClose:!0},void 0!==t?t:{});return i._runtime=!0,b.makePlugin(n,\"dialog\",i)}};var _e={size:100,radius:50,hole:.8,value:0,background:\"#ffffff\",color:\"\",stroke:\"#d1d8e7\",fill:\"#49649f\",fontSize:24,total:100,cap:\"%\",showText:!0,showValue:!1,animate:0,onChange:b.noop,onDonutCreate:b.noop};b.donutSetup=function(t){_e=e.extend({},_e,t)},void 0!==typeof window.metroDonutSetup&&b.donutSetup(window.metroDonutSetup);var Oe={init:function(t,n){return this.options=e.extend({},_e,t),this.elem=n,this.element=e(n),this.value=0,this.animation_change_interval=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options,n=\"\",i=t.radius*(1-(1-t.hole)/2),s=t.radius*(1-t.hole),a=(Math.PI,t.value,t.total,\"rotate(-90 \"+t.radius+\",\"+t.radius+\")\"),o=i*t.hole*.6;b.checkRuntime(e,\"donut\"),e.addClass(\"donut\"),e.css({width:t.size,height:t.size,background:t.background}),n+=\"<svg>\",n+=\"   <circle class='donut-back' r='\"+i+\"px' cx='\"+t.radius+\"px' cy='\"+t.radius+\"px' transform='\"+a+\"' fill='none' stroke='\"+t.stroke+\"' stroke-width='\"+s+\"'/>\",n+=\"   <circle class='donut-fill' r='\"+i+\"px' cx='\"+t.radius+\"px' cy='\"+t.radius+\"px' transform='\"+a+\"' fill='none' stroke='\"+t.fill+\"' stroke-width='\"+s+\"'/>\",!0===t.showText&&(n+=\"   <text   class='donut-title' x='\"+t.radius+\"px' y='\"+t.radius+\"px' dy='\"+o/3+\"px' text-anchor='middle' fill='\"+(\"\"!==t.color?t.color:t.fill)+\"' font-size='\"+o+\"px'>0\"+t.cap+\"</text>\"),n+=\"</svg>\",e.html(n),this.val(t.value),H.exec(t.onDonutCreate,null,e[0]),e.fire(\"donutcreate\")},_setValue:function(e){var t=this.element,n=this.options,i=t.find(\".donut-fill\"),s=t.find(\".donut-title\"),a=n.radius*(1-(1-n.hole)/2),o=2*Math.PI*a,r=(n.showValue?e:H.percent(n.total,e,!0))+n.cap,l=e*o/n.total+\" \"+o;i.attr(\"stroke-dasharray\",l),s.html(r)},val:function(e){var t=this,n=this.element,i=this.options;if(void 0===e)return this.value;if(parseInt(e)<0||parseInt(e)>i.total)return!1;if(i.animate>0&&!document.hidden){var s=e>t.value,a=t.value+(s?-1:1);clearInterval(t.animation_change_interval),this.animation_change_interval=setInterval((function(){s?(t._setValue(++a),a>=e&&clearInterval(t.animation_change_interval)):(t._setValue(--a),a<=e&&clearInterval(t.animation_change_interval))}),i.animate)}else clearInterval(t.animation_change_interval),this._setValue(e);this.value=e,H.exec(i.onChange,[this.value],n[0]),n.fire(\"change\",{value:this.value})},changeValue:function(){this.val(this.element.attr(\"data-value\"))},changeAttribute:function(e){switch(e){case\"data-value\":this.changeValue()}},destroy:function(){return this.element}};b.plugin(\"donut\",Oe);var Ie={dragElement:\"self\",dragArea:\"parent\",onCanDrag:b.noop_true,onDragStart:b.noop,onDragStop:b.noop,onDragMove:b.noop,onDraggableCreate:b.noop};b.draggableSetup=function(t){Ie=e.extend({},Ie,t)},void 0!==typeof window.metroDraggableSetup&&b.draggableSetup(window.metroDraggableSetup);var Me={init:function(t,n){return this.options=e.extend({},Ie,t),this.elem=n,this.element=e(n),this.drag=!1,this.move=!1,this.backup={cursor:\"default\",zIndex:\"0\"},this.dragArea=null,this.dragElement=null,this.id=H.elementId(\"draggable\"),this._setOptionsFromDOM(),this._create(),H.exec(this.options.onDraggableCreate,[this.element]),this.element.fire(\"draggablecreate\"),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){this._createStructure(),this._createEvents()},_createStructure:function(){var t=this,n=this.element,s=(this.elem,this.options),a=n.offset(),o=\"self\"!==s.dragElement?n.find(s.dragElement):n;b.checkRuntime(n,\"draggable\"),n.data(\"canDrag\",!0),this.dragElement=o,o[0].ondragstart=function(){return!1},n.css(\"position\",\"absolute\"),\"document\"!==s.dragArea&&\"window\"!==s.dragArea||(s.dragArea=\"body\"),i((function(){t.dragArea=\"parent\"===s.dragArea?n.parent():e(s.dragArea),\"parent\"!==s.dragArea&&(n.appendTo(t.dragArea),n.css({top:a.top,left:a.left}))})),n.attr(\"id\")||n.attr(\"id\",H.elementId(\"draggable\"))},_createEvents:function(){var t=this,n=this.element,i=this.elem,s=this.options,a={x:0,y:0};this.dragElement.on(b.events.startAll,(function(o){var r=\"parent\"!==s.dragArea?n.offset():n.position(),l=H.pageXY(o).x-r.left,c=H.pageXY(o).y-r.top,d=function(e){var i=H.pageXY(e).y-c,s=H.pageXY(e).x-l;i<0&&(i=0),s<0&&(s=0),i>t.dragArea.outerHeight()-n.outerHeight()&&(i=t.dragArea.outerHeight()-n.outerHeight()),s>t.dragArea.outerWidth()-n.outerWidth()&&(s=t.dragArea.outerWidth()-n.outerWidth()),a.y=i,a.x=s,n.css({left:s,top:i})};!1!==n.data(\"canDrag\")&&!0===H.exec(s.onCanDrag,[n])&&(!1===C&&1!==o.which||(t.drag=!0,t.backup.cursor=n.css(\"cursor\"),t.backup.zIndex=n.css(\"z-index\"),n.addClass(\"draggable\"),d(o),H.exec(s.onDragStart,[a],n[0]),n.fire(\"dragstart\",{position:a}),e(document).on(b.events.moveAll,(function(e){e.preventDefault(),d(e),H.exec(s.onDragMove,[a],i),n.fire(\"dragmove\",{position:a})}),{ns:t.id}),e(document).on(b.events.stopAll,(function(){n.css({cursor:t.backup.cursor,zIndex:t.backup.zIndex}).removeClass(\"draggable\"),t.drag&&(e(document).off(b.events.moveAll,{ns:t.id}),e(document).off(b.events.stopAll,{ns:t.id})),t.drag=!1,t.move=!1,H.exec(s.onDragStop,[a],i),n.fire(\"dragstop\",{position:a})}),{ns:t.id})))}))},off:function(){this.element.data(\"canDrag\",!1)},on:function(){this.element.data(\"canDrag\",!0)},changeAttribute:function(e){},destroy:function(){var e=this.element;return this.options,this.dragElement.off(b.events.startAll),e}};b.plugin(\"draggable\",Me);var De={dropFilter:null,toggleElement:null,noClose:!1,duration:100,onDrop:b.noop,onUp:b.noop,onDropdownCreate:b.noop};b.dropdownSetup=function(t){De=e.extend({},De,t)},void 0!==typeof window.metroDropdownSetup&&b.dropdownSetup(window.metroDropdownSetup);var Ae={init:function(t,n){return this.options=e.extend({},De,t),this.elem=n,this.element=e(n),this._toggle=null,this.displayOrigin=null,this.isOpen=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this,t=this.element,n=this.options;b.checkRuntime(t,\"dropdown\"),this._createStructure(),this._createEvents(),H.exec(n.onDropdownCreate,null,t),t.fire(\"dropdowncreate\"),t.hasClass(\"open\")&&(t.removeClass(\"open\"),i((function(){e.open(!0)})))},_createStructure:function(){var t,n=this.element,i=this.options;t=null!==i.toggleElement?e(i.toggleElement):n.siblings(\".dropdown-toggle\").length>0?n.siblings(\".dropdown-toggle\"):n.prev(),this.displayOrigin=H.getStyleOne(n,\"display\"),n.hasClass(\"v-menu\")&&n.addClass(\"for-dropdown\"),n.css(\"display\",\"none\"),this._toggle=t},_createEvents:function(){var t=this,n=this.element,i=this.options,s=this._toggle,a=n.parent();s.on(b.events.click,(function(s){if(a.siblings(a[0].tagName).removeClass(\"active-container\"),e(\".active-container\").removeClass(\"active-container\"),\"none\"===n.css(\"display\")||n.hasClass(\"keep-open\")){if(e(\"[data-role=dropdown]\").each((function(s,a){n.parents(\"[data-role=dropdown]\").is(a)||e(a).hasClass(\"keep-open\")||\"none\"===e(a).css(\"display\")||(H.isValue(i.dropFilter)?e(a).closest(i.dropFilter).length>0&&t._close(a):t._close(a))})),n.hasClass(\"horizontal\")){n.css({visibility:\"hidden\",display:\"block\"});var o=0;e.each(n.children(\"li\"),(function(){o+=e(this).outerWidth(!0)})),n.css({visibility:\"visible\",display:\"none\"}),n.css(\"width\",o)}t._open(n),a.addClass(\"active-container\")}else t._close(n);s.preventDefault(),s.stopPropagation()})),!0===i.noClose&&n.addClass(\"keep-open\").on(b.events.click,(function(e){e.stopPropagation()})),e(n).find(\"li.disabled a\").on(b.events.click,(function(e){e.preventDefault()}))},_close:function(t,n){t=e(t);var i=b.getPlugin(t,\"dropdown\"),s=i._toggle,a=i.options,o=\"slideUp\";s.removeClass(\"active-toggle\").removeClass(\"active-control\"),i.element.parent().removeClass(\"active-container\"),n&&(o=\"hide\"),t[o](n?0:a.duration,(function(){t.trigger(\"onClose\",null,t)})),H.exec(a.onUp,null,t[0]),t.fire(\"up\"),this.isOpen=!1},_open:function(t,n){t=e(t);var i=b.getPlugin(t,\"dropdown\"),s=i._toggle,a=i.options,o=\"slideDown\";s.addClass(\"active-toggle\").addClass(\"active-control\"),n&&(o=\"show\"),t[o](n?0:a.duration,(function(){t.fire(\"onopen\")})),H.exec(a.onDrop,null,t[0]),t.fire(\"drop\"),this.isOpen=!0},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(e){},destroy:function(){this._toggle.off(b.events.click)}};e(document).on(b.events.click,(function(){e(\"[data-role*=dropdown]\").each((function(){var t=e(this);\"none\"===t.css(\"display\")||t.hasClass(\"keep-open\")||t.hasClass(\"stay-open\")||t.hasClass(\"ignore-document-click\")||b.getPlugin(t,\"dropdown\").close()}))})),b.plugin(\"dropdown\",Ae);var Ee={mode:\"input\",buttonTitle:\"Choose file(s)\",filesTitle:\"file(s) selected\",dropTitle:\"<strong>Choose a file(s)</strong> or drop it here\",dropIcon:\"<span class='default-icon-upload'></span>\",prepend:\"\",clsComponent:\"\",clsPrepend:\"\",clsButton:\"\",clsCaption:\"\",copyInlineStyles:!0,onSelect:b.noop,onFileCreate:b.noop};b.fileSetup=function(t){Ee=e.extend({},Ee,t)},void 0!==typeof window.metroFileSetup&&b.fileSetup(window.metroFileSetup);var Pe={init:function(t,n){return this.options=e.extend({},Ee,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element;b.checkRuntime(e,\"file\"),this._createStructure(),this._createEvents()},_createStructure:function(){var t,n,i=this.element,s=this.options,a=e(\"<label>\").addClass((\"input\"===s.mode?\" file \":\" drop-zone \")+i[0].className).addClass(s.clsComponent),o=e(\"<span>\").addClass(\"caption\").addClass(s.clsCaption),r=e(\"<span>\").addClass(\"files\").addClass(s.clsCaption);if(a.insertBefore(i),i.appendTo(a),\"input\"===s.mode?(o.insertBefore(i),(n=e(\"<span>\").addClass(\"button\").attr(\"tabindex\",-1).html(s.buttonTitle)).appendTo(a),n.addClass(s.clsButton),\"rtl\"===i.attr(\"dir\")&&a.addClass(\"rtl\"),\"\"!==s.prepend&&e(\"<div>\").html(s.prepend).addClass(\"prepend\").addClass(s.clsPrepend).appendTo(a)):(t=e(s.dropIcon).addClass(\"icon\").appendTo(a),o.html(s.dropTitle).insertAfter(t),r.html(\"0 \"+s.filesTitle).insertAfter(o)),i[0].className=\"\",!0===s.copyInlineStyles)for(var l=0,c=i[0].style.length;l<c;l++)a.css(i[0].style[l],i.css(i[0].style[l]));i.is(\":disabled\")?this.disable():this.enable(),H.exec(s.onFileCreate,null,i[0]),i.fire(\"filecreate\")},_createEvents:function(){var e=this.element,t=this.options,n=e.closest(\"label\"),i=n.find(\".caption\"),s=n.find(\".files\");n.on(b.events.click,\"button\",(function(){e[0].click()})),e.on(b.events.change,(function(){var n,a=[];Array.from(this.files).forEach((function(e){a.push(e.name)})),\"input\"===t.mode?(n=a.join(\", \"),i.html(n),i.attr(\"title\",n)):s.html(e[0].files.length+\" \"+t.filesTitle),H.exec(t.onSelect,[this.files],e[0]),e.fire(\"select\",{files:this.files})})),e.on(b.events.focus,(function(){n.addClass(\"focused\")})),e.on(b.events.blur,(function(){n.removeClass(\"focused\")})),\"input\"!==t.mode&&(n.on(\"drag dragstart dragend dragover dragenter dragleave drop\",(function(e){e.preventDefault()})),n.on(\"dragenter dragover\",(function(){n.addClass(\"drop-on\")})),n.on(\"dragleave\",(function(){n.removeClass(\"drop-on\")})),n.on(\"drop\",(function(i){e[0].files=i.dataTransfer.files,s.html(e[0].files.length+\" \"+t.filesTitle),n.removeClass(\"drop-on\"),e.trigger(\"change\")})))},clear:function(){var e=this.element;e.siblings(\".caption\").html(\"\"),e.val(\"\")},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){\"rtl\"===this.element.attr(\"dir\")?this.element.parent().addClass(\"rtl\"):this.element.parent().removeClass(\"rtl\")},changeAttribute:function(e){switch(e){case\"disabled\":this.toggleState();break;case\"dir\":this.toggleDir()}},destroy:function(){var e=this.element,t=e.parent();return e.off(b.events.change),t.off(b.events.click,\"button\"),e}};b.plugin(\"file\",Pe);var Ne={email:\"\",size:80,default:\"mp\",onGravatarCreate:b.noop};b.gravatarSetup=function(t){Ne=e.extend({},Ne,t)},void 0!==typeof window.metroGravatarSetup&&b.gravatarSetup(window.metroGravatarSetup);var Re={init:function(t,n){return this.options=e.extend({},Ne,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){b.checkRuntime(this.element,\"gravatar\"),this.get()},getImage:function(t,n,i,s){var a=e(\"<img>\");return a.attr(\"src\",this.getImageSrc(t,n)),!0===s?a:a[0]},getImageSrc:function(e,t,n){return void 0===e||\"\"===e.trim()?\"\":(t=t||80,n=H.encodeURI(n)||\"404\",\"//www.gravatar.com/avatar/\"+H.md5(e.toLowerCase().trim())+\"?size=\"+t+\"&d=\"+n)},get:function(){var e=this.element,t=this.options,n=\"IMG\"===e[0].tagName?e:e.find(\"img\");if(0!==n.length)return n.attr(\"src\",this.getImageSrc(t.email,t.size,t.default)),H.exec(t.onGravatarCreate,null,e[0]),e.fire(\"gravatarcreate\"),this},resize:function(e){this.options.size=void 0!==e?e:this.element.attr(\"data-size\"),this.get()},email:function(e){this.options.email=void 0!==e?e:this.element.attr(\"data-email\"),this.get()},changeAttribute:function(e){switch(e){case\"data-size\":this.resize();break;case\"data-email\":this.email()}},destroy:function(){return this.element}};b.plugin(\"gravatar\",Re);var Fe={hintHide:5e3,clsHint:\"\",hintText:\"\",hintPosition:b.position.TOP,hintOffset:4,onHintShow:b.noop,onHintHide:b.noop,onHintCreate:b.noop};b.hintSetup=function(t){Fe=e.extend({},Fe,t)},void 0!==typeof window.metroHintSetup&&b.hintSetup(window.metroHintSetup);var Le={init:function(t,n){return this.options=e.extend({},Fe,t),this.elem=n,this.element=e(n),this.hint=null,this.hint_size={width:0,height:0},this.id=H.elementId(\"hint\"),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this,n=this.element,i=this.options;b.checkRuntime(n,\"hint\"),n.on(b.events.enter,(function(){t.createHint(),+i.hintHide>0&&setTimeout((function(){t.removeHint()}),i.hintHide)})),n.on(b.events.leave,(function(){t.removeHint()})),e(window).on(b.events.scroll+\" \"+b.events.resize,(function(){null!==t.hint&&t.setPosition()}),{ns:this.id}),H.exec(i.onHintCreate,null,n[0]),n.fire(\"hintcreate\")},createHint:function(){var t=this.elem,n=this.element,i=this.options,s=e(\"<div>\").addClass(\"hint\").addClass(i.clsHint).html(i.hintText);if(this.hint=s,this.hint_size=H.hiddenElementSize(s),e(\".hint:not(.permanent-hint)\").remove(),\"TD\"===t.tagName||\"TH\"===t.tagName){var a=e(\"<div/>\").css(\"display\",\"inline-block\").html(n.html());n.html(a),n=a}this.setPosition(),s.appendTo(e(\"body\")),H.exec(i.onHintShow,[s[0]],n[0]),n.fire(\"hintshow\",{hint:s[0]})},setPosition:function(){var t=this.hint,n=this.hint_size,i=this.options,s=this.element;i.hintPosition===b.position.BOTTOM?(t.addClass(\"bottom\"),t.css({top:s.offset().top-e(window).scrollTop()+s.outerHeight()+i.hintOffset,left:s.offset().left+s.outerWidth()/2-n.width/2-e(window).scrollLeft()})):i.hintPosition===b.position.RIGHT?(t.addClass(\"right\"),t.css({top:s.offset().top+s.outerHeight()/2-n.height/2-e(window).scrollTop(),left:s.offset().left+s.outerWidth()-e(window).scrollLeft()+i.hintOffset})):i.hintPosition===b.position.LEFT?(t.addClass(\"left\"),t.css({top:s.offset().top+s.outerHeight()/2-n.height/2-e(window).scrollTop(),left:s.offset().left-n.width-e(window).scrollLeft()-i.hintOffset})):(t.addClass(\"top\"),t.css({top:s.offset().top-e(window).scrollTop()-n.height-i.hintOffset,left:s.offset().left-e(window).scrollLeft()+s.outerWidth()/2-n.width/2}))},removeHint:function(){var e=this,t=this.hint,n=this.element,i=this.options,s=i.onHintHide===b.noop?0:300;null!==t&&(H.exec(i.onHintHide,[t[0]],n[0]),n.fire(\"hinthide\",{hint:t[0]}),setTimeout((function(){t.hide(0,(function(){t.remove(),e.hint=null}))}),s))},changeText:function(){this.options.hintText=this.element.attr(\"data-hint-text\")},changeAttribute:function(e){\"data-hint-text\"===e&&this.changeText()},destroy:function(){var t=this.element;this.removeHint(),t.off(b.events.enter+\"-hint\"),t.off(b.events.leave+\"-hint\"),e(window).off(b.events.scroll+\"-hint\")}};b.plugin(\"hint\",Le);var Ve={specialKeys:{8:\"backspace\",9:\"tab\",13:\"return\",16:\"shift\",17:\"ctrl\",18:\"alt\",19:\"pause\",20:\"capslock\",27:\"esc\",32:\"space\",33:\"pageup\",34:\"pagedown\",35:\"end\",36:\"home\",37:\"left\",38:\"up\",39:\"right\",40:\"down\",45:\"insert\",46:\"del\",96:\"0\",97:\"1\",98:\"2\",99:\"3\",100:\"4\",101:\"5\",102:\"6\",103:\"7\",104:\"8\",105:\"9\",106:\"*\",107:\"+\",109:\"-\",110:\".\",111:\"/\",112:\"f1\",113:\"f2\",114:\"f3\",115:\"f4\",116:\"f5\",117:\"f6\",118:\"f7\",119:\"f8\",120:\"f9\",121:\"f10\",122:\"f11\",123:\"f12\",144:\"numlock\",145:\"scroll\",188:\",\",190:\".\",191:\"/\",224:\"meta\"},shiftNums:{\"~\":\"`\",\"!\":\"1\",\"@\":\"2\",\"#\":\"3\",$:\"4\",\"%\":\"5\",\"^\":\"6\",\"&\":\"7\",\"*\":\"8\",\"(\":\"9\",\")\":\"0\",_:\"-\",\"+\":\"=\",\":\":\";\",'\"':\"'\",\"<\":\",\",\">\":\".\",\"?\":\"/\",\"|\":\"\\\\\"},shiftNumsInverse:{\"`\":\"~\",1:\"!\",2:\"@\",3:\"#\",4:\"$\",5:\"%\",6:\"^\",7:\"&\",8:\"*\",9:\"(\",0:\")\",\"-\":\"_\",\"=\":\"+\",\";\":\": \",\"'\":'\"',\",\":\"<\",\".\":\">\",\"/\":\"?\",\"\\\\\":\"|\"},textAcceptingInputTypes:[\"text\",\"password\",\"number\",\"email\",\"url\",\"range\",\"date\",\"month\",\"week\",\"time\",\"datetime\",\"datetime-local\",\"search\",\"color\",\"tel\"],getKey:function(e){var t,n=e.keyCode,i=String.fromCharCode(n).toLowerCase();return t=e.shiftKey?Ve.shiftNums[i]?Ve.shiftNums[i]:i:void 0===Ve.specialKeys[n]?i:Ve.specialKeys[n],Ve.getModifier(e).length?Ve.getModifier(e).join(\"+\")+\"+\"+t:t},getModifier:function(e){var t=[];return e.altKey&&t.push(\"alt\"),e.ctrlKey&&t.push(\"ctrl\"),e.shiftKey&&t.push(\"shift\"),t}};function Be(t,n){return this.each((function(){e(this).on(b.events.keyup+\".hotkey-method-\"+t,(function(i){var s=Ve.getKey(i),a=e(this),o=\"\"+a.attr(\"href\");t===s&&(a.is(\"a\")&&o&&\"#\"!==o.trim()&&(window.location.href=o),H.exec(n,[i,s,t],this))}))}))}e.fn.hotkey=Be,METRO_JQUERY&&jquery_present&&(jQuery.fn.hotkey=Be),e(document).on(b.events.keyup+\".hotkey-data\",(function(t){var n,i,s,a;METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&/textarea|input|select/i.test(t.target.nodeName)||METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&e(t.target).attr(\"contenteditable\")||METRO_HOTKEYS_FILTER_TEXT_INPUTS&&Ve.textAcceptingInputTypes.indexOf(t.target.type)>-1||(s=Ve.getKey(t),H.keyInObject(b.hotkeys,s)&&(n=e(b.hotkeys[s][0]),i=b.hotkeys[s][1],a=(\"\"+n.attr(\"href\")).trim(),i?H.exec(i):n.is(\"a\")&&a&&a.length>0&&\"#\"!==a.trim()?window.location.href=a:n.click()))}));var He={method:\"get\",htmlSource:null,requestData:null,requestOptions:null,insertMode:\"replace\",onHtmlLoad:b.noop,onHtmlLoadFail:b.noop,onHtmlLoadDone:b.noop,onHtmlContainerCreate:b.noop};b.htmlContainerSetup=function(t){He=e.extend({},He,t)},void 0!==typeof window.metroHtmlContainerSetup&&b.htmlContainerSetup(window.metroHtmlContainerSetup);var ze={init:function(t,n){return this.options=e.extend({},He,t),this.elem=n,this.element=e(n),this.data={},this.opt={},this.htmlSource=\"\",this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"htmlcontainer\"),\"string\"==typeof t.requestData&&(t.requestData=JSON.parse(t.requestData)),H.isObject(t.requestData)&&(this.data=H.isObject(t.requestData)),\"string\"==typeof t.requestOptions&&(t.requestOptions=JSON.parse(t.requestOptions)),H.isObject(t.requestOptions)&&(this.opt=H.isObject(t.requestOptions)),t.method=t.method.toLowerCase(),H.isValue(t.htmlSource)&&(this.htmlSource=t.htmlSource,this._load()),H.exec(t.onHtmlContainerCreate,null,e[0]),e.fire(\"htmlcontainercreate\")},_load:function(){var t=this,n=this.element,i=this.options;e[i.method](this.htmlSource,this.data,this.opt).then((function(e){switch(i.insertMode.toLowerCase()){case\"prepend\":n.prepend(e);break;case\"append\":n.append(e);break;default:n.html(e)}H.exec(i.onHtmlLoad,[e,i.htmlSource,t.data,t.opt],n[0]),n.fire(\"htmlload\",{data:e,source:i.htmlSource,requestData:t.data,requestOptions:t.opt})}),(function(e){H.exec(i.onHtmlLoadFail,[e],n[0]),n.fire(\"htmlloadfail\",{xhr:e})}))},load:function(e,t,n){this.options,e&&(this.htmlSource=e),t&&(this.data=H.isObject(t)),n&&(this.opt=H.isObject(n)),this._load()},changeAttribute:function(e){var t,n,i=this,s=this.element,a=this.options;switch(e){case\"data-html-source\":n=s.attr(\"data-html-source\"),H.isNull(n)||(\"\"===n.trim()&&s.html(\"\"),a.htmlSource=n,i._load());break;case\"data-insert-mode\":t=s.attr(\"data-insert-mode\"),H.isValue(t)&&(a.insertMode=t);break;case\"data-request-data\":!function(){var e=s.attr(\"data-request-data\");i.load(a.htmlSource,e)}()}},destroy:function(){}};b.plugin(\"htmlcontainer\",ze);var je={width:\"100%\",height:\"auto\",onResize:b.noop,onSliderMove:b.noop,onImageCompareCreate:b.noop};b.imageCompareSetup=function(t){je=e.extend({},je,t)},void 0!==typeof window.metroImageCompareSetup&&b.imageCompareSetup(window.metroImageCompareSetup);var Ue={init:function(t,n){return this.options=e.extend({},je,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"imagecompare\"),this._createStructure(),this._createEvents(),H.exec(t.onImageCompareCreate,null,e[0]),e.fire(\"imagecomparecreate\")},_createStructure:function(){var t,n,i,s,a,o,r=this.element,l=this.options;switch(H.isValue(r.attr(\"id\"))||r.attr(\"id\",H.elementId(\"image-compare\")),r.addClass(\"image-compare\").css({width:l.width}),a=r.width(),l.height){case\"16/9\":case\"21/9\":case\"4/3\":o=H.aspectRatioH(a,l.height);break;case\"auto\":o=H.aspectRatioH(a,\"16/9\");break;default:o=l.height}r.css({height:o}),t=e(\"<div>\").addClass(\"image-container\").appendTo(r),n=e(\"<div>\").addClass(\"image-container-overlay\").appendTo(r).css({width:a/2}),(i=e(\"<div>\").addClass(\"image-slider\").appendTo(r)).css({top:o/2-i.height()/2,left:a/2-i.width()/2}),s=r.find(\"img\"),e.each(s,(function(i,s){var r=e(\"<div>\").addClass(\"image-wrapper\");r.css({width:a,height:o,backgroundImage:\"url(\"+this.src+\")\"}),r.appendTo(0===i?t:n)}))},_createEvents:function(){var t=this.element,n=this.options,i=t.find(\".image-container-overlay\"),s=t.find(\".image-slider\");s.on(b.events.startAll,(function(a){var o=t.width();e(document).on(b.events.moveAll,(function(e){var a,r=H.getCursorPositionX(t[0],e);r<0&&(r=0),r>o&&(r=o),i.css({width:r}),a=r-s.width()/2,s.css({left:a}),H.exec(n.onSliderMove,[r,a],s[0]),t.fire(\"slidermove\",{x:r,l:a})})),e(document).on(b.events.stopAll,(function(){e(document).off(b.events.moveAll),e(document).off(b.events.stopAll)}))})),e(window).on(b.events.resize,(function(){var i,a=t.width();if(\"100%\"===n.width){switch(n.height){case\"16/9\":case\"21/9\":case\"4/3\":i=H.aspectRatioH(a,n.height);break;case\"auto\":i=H.aspectRatioH(a,\"16/9\");break;default:i=n.height}t.css({height:i}),e.each(t.find(\".image-wrapper\"),(function(){e(this).css({width:a,height:i})})),t.find(\".image-container-overlay\").css({width:a/2}),s.css({top:i/2-s.height()/2,left:a/2-s.width()/2}),H.exec(n.onResize,[a,i],t[0]),t.fire(\"comparerresize\",{width:a,height:i})}}),{ns:t.attr(\"id\")})},changeAttribute:function(e){},destroy:function(){var t=this.element;return t.off(b.events.start),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"imagecompare\",Ue);var We={width:\"100%\",height:\"auto\",lensSize:100,lensType:\"square\",magnifierZoom:2,magnifierMode:\"glass\",magnifierZoomElement:null,clsMagnifier:\"\",clsLens:\"\",clsZoom:\"\",onMagnifierMove:b.noop,onImageMagnifierCreate:b.noop};b.imageMagnifierSetup=function(t){We=e.extend({},We,t)},void 0!==typeof window.metroImageMagnifierSetup&&b.imageMagnifierSetup(window.metroImageMagnifierSetup);var Ye={init:function(t,n){return this.options=e.extend({},We,t),this.elem=n,this.element=e(n),this.zoomElement=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"imagemagnifier\"),this._createStructure(),this._createEvents(),H.exec(t.onImageMagnifierCreate,null,e[0]),e.fire(\"imagemagnifiercreate\")},_createStructure:function(){var t,n,i,s=this.element,a=this.options,o=s.find(\"img\");if(0===o.length)throw new Error(\"Image not defined\");switch(H.isValue(s.attr(\"id\"))||s.attr(\"id\",H.elementId(\"image-magnifier\")),s.addClass(\"image-magnifier\").css({width:a.width}).addClass(a.clsMagnifier),n=s.width(),a.height){case\"16/9\":case\"21/9\":case\"4/3\":i=H.aspectRatioH(n,a.height);break;case\"auto\":i=H.aspectRatioH(n,\"16/9\");break;default:i=a.height}s.css({height:i});var r=n/2-a.lensSize/2,l=i/2-a.lensSize/2;if(\"glass\"===a.magnifierMode)(t=e(\"<div>\").addClass(\"image-magnifier-glass\").appendTo(s)).css({width:a.lensSize,height:a.lensSize,borderRadius:\"circle\"!==a.lensType?0:\"50%\",top:l,left:r,backgroundImage:\"url(\"+o[0].src+\")\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"-\"+(r*a.magnifierZoom-a.lensSize/4+4)+\"px -\"+(l*a.magnifierZoom-a.lensSize/4+4)+\"px\",backgroundSize:o[0].width*a.magnifierZoom+\"px \"+o[0].height*a.magnifierZoom+\"px\"}).addClass(a.clsLens);else{(t=e(\"<div>\").addClass(\"image-magnifier-glass\").appendTo(s)).css({width:a.lensSize,height:a.lensSize,borderRadius:0,borderWidth:1,top:l,left:r}).addClass(a.clsLens),H.isValue(a.magnifierZoomElement)&&0!==e(a.magnifierZoomElement).length?this.zoomElement=e(a.magnifierZoomElement):this.zoomElement=e(\"<div>\").insertAfter(s);var c=t[0].offsetWidth*a.magnifierZoom,d=t[0].offsetHeight*a.magnifierZoom,h=c/a.lensSize,u=d/a.lensSize;this.zoomElement.css({width:c,height:d,backgroundImage:\"url(\"+o[0].src+\")\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"-\"+r*h+\"px -\"+l*u+\"px\",backgroundSize:o[0].width*h+\"px \"+o[0].height*u+\"px\"}).addClass(a.clsZoom)}},_createEvents:function(){var e,t,n=this.element,i=this.options,s=n.find(\".image-magnifier-glass\"),a=s[0].offsetWidth/2,o=n.find(\"img\")[0],r=this.zoomElement;\"glass\"!==i.magnifierMode&&(e=r[0].offsetWidth/a/2,t=r[0].offsetHeight/a/2,r.css({backgroundSize:o.width*e+\"px \"+o.height*t+\"px\"}));var l=function(n){var l,c,d=parseInt(i.magnifierZoom);\"glass\"===i.magnifierMode?(l=n.x,c=n.y,l>o.width-a/d&&(l=o.width-a/d),l<a/d&&(l=a/d),c>o.height-a/d&&(c=o.height-a/d),c<a/d&&(c=a/d),s.css({top:c-a,left:l-a,backgroundPosition:\"-\"+(l*d-a+4)+\"px -\"+(c*d-a+4)+\"px\"})):(l=n.x-a,c=n.y-a,l>o.width-2*a&&(l=o.width-2*a),l<0&&(l=0),c>o.height-2*a&&(c=o.height-2*a),c<0&&(c=0),s.css({top:c,left:l}),r.css({backgroundPosition:\"-\"+l*e+\"px -\"+c*t+\"px\"}))};n.on(b.events.move,(function(e){var t=H.getCursorPosition(o,e);l(t),H.exec(i.onMagnifierMove,[t,s[0],r?r[0]:void 0],n[0]),n.fire(\"magnifiermove\",{pos:t,glass:s[0],zoomElement:r?r[0]:void 0}),e.preventDefault()})),n.on(b.events.leave,(function(){var e=n.width()/2-i.lensSize/2,t=n.height()/2-i.lensSize/2;s.animate({top:t,left:e}),l({x:e+i.lensSize/2,y:t+i.lensSize/2})}))},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.move),e.off(b.events.leave),e}};b.plugin(\"imagemagnifier\",Ye);var Je={type:\"\",width:480,height:\"auto\",overlay:!0,overlayColor:\"#000000\",overlayAlpha:.5,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:\"\",clsBoxContent:\"\",clsOverlay:\"\",onOpen:b.noop,onClose:b.noop,onInfoBoxCreate:b.noop};b.infoBoxSetup=function(t){Je=e.extend({},Je,t)},void 0!==typeof window.metroInfoBoxSetup&&b.infoBoxSetup(window.metroInfoBoxSetup);var Ge={init:function(t,n){return this.options=e.extend({},Je,t),this.elem=n,this.element=e(n),this.overlay=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"infobox\"),this._createStructure(),this._createEvents(),H.exec(t.onInfoBoxCreate,null,e[0]),e.fire(\"infoboxcreate\")},_overlay:function(){this.element;var t=this.options,n=e(\"<div>\");return n.addClass(\"overlay\").addClass(t.clsOverlay),\"transparent\"===t.overlayColor?n.addClass(\"transparent\"):n.css({background:H.hex2rgba(t.overlayColor,t.overlayAlpha)}),n},_createStructure:function(){var t,n,i=this.element,s=this.options;!0===s.overlay&&(this.overlay=this._overlay()),void 0===i.attr(\"id\")&&i.attr(\"id\",H.elementId(\"infobox\")),i.addClass(\"info-box\").addClass(s.type).addClass(s.clsBox),0===(t=i.find(\"closer\")).length&&(t=e(\"<span>\").addClass(\"button square closer\")).appendTo(i),!0!==s.closeButton&&t.hide(),(n=i.find(\".info-box-content\")).length>0&&n.addClass(s.clsBoxContent),i.css({width:s.width,height:s.height,visibility:\"hidden\",top:\"100%\",left:(e(window).width()-i.outerWidth())/2}),i.appendTo(e(\"body\"))},_createEvents:function(){var t=this,n=this.element;this.options,n.on(b.events.click,\".closer\",(function(){t.close()})),n.on(b.events.click,\".js-dialog-close\",(function(){t.close()})),e(window).on(b.events.resize,(function(){t.reposition()}),{ns:n.attr(\"id\")})},_setPosition:function(){var t=this.element;t.css({top:(e(window).height()-t.outerHeight())/2,left:(e(window).width()-t.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(e){var t=this.element.find(\".info-box-content\");0!==t.length&&(t.html(e),this.reposition())},setType:function(e){this.element.removeClass(\"success info alert warning\").addClass(e)},open:function(){var t=this,n=this.element,i=this.options;!0===i.overlay&&this.overlay.appendTo(e(\"body\")),this._setPosition(),n.css({visibility:\"visible\"}),H.exec(i.onOpen,null,n[0]),n.fire(\"open\"),n.data(\"open\",!0),parseInt(i.autoHide)>0&&setTimeout((function(){t.close()}),parseInt(i.autoHide))},close:function(){var t=this.element,n=this.options;!0===n.overlay&&e(\"body\").find(\".overlay\").remove(),t.css({visibility:\"hidden\",top:\"100%\"}),H.exec(n.onClose,null,t[0]),t.fire(\"close\"),t.data(\"open\",!1),!0===n.removeOnClose&&(this.destroy(),t.remove())},isOpen:function(){return!0===this.element.data(\"open\")},changeAttribute:function(e){},destroy:function(){var t=this.element;return t.off(\"all\"),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"infobox\",Ge),b.infobox={isInfoBox:function(e){return H.isMetroObject(e,\"infobox\")},open:function(e,t,n){var i=H.$();if(!this.isInfoBox(e))return!1;var s=i(e).data(\"infobox\");void 0!==t&&s.setContent(t),void 0!==n&&s.setType(n),s.open()},close:function(e){var t=H.$();if(!this.isInfoBox(e))return!1;t(e).data(\"infobox\").close()},setContent:function(e,t){var n=H.$();if(!this.isInfoBox(e))return!1;void 0===t&&(t=\"\");var i=n(e).data(\"infobox\");i.setContent(t),i.reposition()},setType:function(e,t){var n=H.$();if(!this.isInfoBox(e))return!1;var i=n(e).data(\"infobox\");i.setType(t),i.reposition()},isOpen:function(e){var t=H.$();return!!this.isInfoBox(e)&&t(e).data(\"infobox\").isOpen()},create:function(e,t,n,i){var s,a,o,r=H.$();o=void 0!==t?t:\"\",s=r(\"<div>\").appendTo(r(\"body\")),r(\"<div>\").addClass(\"info-box-content\").appendTo(s);var l=r.extend({},{removeOnClose:!0,type:o},void 0!==n?n:{});return l._runtime=!0,s.infobox(l),(a=b.getPlugin(s,\"infobox\")).setContent(e),!1!==i&&a.open(),s}};var Ke={label:\"\",informer:\"\",icon:\"\",permanentLabel:!1,clsComponent:\"\",clsInput:\"\",clsLabel:\"\",clsInformer:\"\",clsIcon:\"\",clsLine:\"\",onInputCreate:b.noop};b.materialInputSetup=function(t){Ke=e.extend({},Ke,t)},void 0!==typeof window.metroMaterialInputSetup&&b.materialInputSetup(window.metroMaterialInputSetup);var qe={init:function(t,n){return this.options=e.extend({},Ke,t),this.elem=n,this.element=e(n),this.history=[],this.historyIndex=-1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"materialinput\"),this._createStructure(),this._createEvents(),H.exec(t.onInputCreate,null,e[0]),e.fire(\"inputcreate\")},_createStructure:function(){var t=this.element,n=this.options,i=e(\"<div>\").addClass(\"input-material \"+t[0].className);t[0].className=\"\",t.attr(\"autocomplete\",\"nope\"),void 0===t.attr(\"type\")&&t.attr(\"type\",\"text\"),i.insertBefore(t),t.appendTo(i),H.isValue(n.label)&&e(\"<span>\").html(n.label).addClass(\"label\").addClass(n.clsLabel).insertAfter(t),H.isValue(n.informer)&&e(\"<span>\").html(n.informer).addClass(\"informer\").addClass(n.clsInformer).insertAfter(t),H.isValue(n.icon)&&(i.addClass(\"with-icon\"),e(\"<span>\").html(n.icon).addClass(\"icon\").addClass(n.clsIcon).insertAfter(t)),i.append(e(\"<hr>\").addClass(n.clsLine)),!0===n.permanentLabel&&i.addClass(\"permanent-label\"),i.addClass(n.clsComponent),t.addClass(n.clsInput),t.is(\":disabled\")?this.disable():this.enable()},_createEvents:function(){},clear:function(){this.element.val(\"\")},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){\"disabled\"===e&&this.toggleState()},destroy:function(){return this.element}};b.plugin(\"materialinput\",qe);var Qe={autocomplete:null,autocompleteDivider:\",\",autocompleteListHeight:200,history:!1,historyPreset:\"\",historyDivider:\"|\",preventSubmit:!1,defaultValue:\"\",size:\"default\",prepend:\"\",append:\"\",copyInlineStyles:!0,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:\"<span class='default-icon-cross'></span>\",revealButtonIcon:\"<span class='default-icon-eye'></span>\",searchButtonIcon:\"<span class='default-icon-search'></span>\",customButtons:[],searchButtonClick:\"submit\",clsComponent:\"\",clsInput:\"\",clsPrepend:\"\",clsAppend:\"\",clsClearButton:\"\",clsRevealButton:\"\",clsCustomButton:\"\",clsSearchButton:\"\",onHistoryChange:b.noop,onHistoryUp:b.noop,onHistoryDown:b.noop,onClearClick:b.noop,onRevealClick:b.noop,onSearchButtonClick:b.noop,onEnterClick:b.noop,onInputCreate:b.noop};b.inputSetup=function(t){Qe=e.extend({},Qe,t)},void 0!==typeof window.metroInputSetup&&b.inputSetup(window.metroInputSetup);var Xe={init:function(t,n){return this.options=e.extend({},Qe,t),this.elem=n,this.element=e(n),this.history=[],this.historyIndex=-1,this.autocomplete=[],this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"input\"),this._createStructure(),this._createEvents(),H.exec(t.onInputCreate,null,e[0]),e.fire(\"inputcreate\")},_createStructure:function(){var t=this,n=this.element,i=this.options,s=n.prev(),a=n.parent(),o=e(\"<div>\").addClass(\"input \"+n[0].className),r=e(\"<div>\").addClass(\"button-group\");if(H.isValue(i.historyPreset)&&(e.each(H.strToArray(i.historyPreset,i.historyDivider),(function(){t.history.push(this)})),t.historyIndex=t.history.length-1),void 0===n.attr(\"type\")&&n.attr(\"type\",\"text\"),0===s.length?a.prepend(o):o.insertAfter(s),n.appendTo(o),r.appendTo(o),H.isValue(n.val().trim())||n.val(i.defaultValue),!0!==i.clearButton||n[0].readOnly||e(\"<button>\").addClass(\"button input-clear-button\").addClass(i.clsClearButton).attr(\"tabindex\",-1).attr(\"type\",\"button\").html(i.clearButtonIcon).appendTo(r),\"password\"===n.attr(\"type\")&&!0===i.revealButton&&e(\"<button>\").addClass(\"button input-reveal-button\").addClass(i.clsRevealButton).attr(\"tabindex\",-1).attr(\"type\",\"button\").html(i.revealButtonIcon).appendTo(r),!0===i.searchButton&&e(\"<button>\").addClass(\"button input-search-button\").addClass(i.clsSearchButton).attr(\"tabindex\",-1).attr(\"type\",\"submit\"===i.searchButtonClick?\"submit\":\"button\").html(i.searchButtonIcon).appendTo(r),H.isValue(i.prepend)&&e(\"<div>\").html(i.prepend).addClass(\"prepend\").addClass(i.clsPrepend).appendTo(o),H.isValue(i.append)&&e(\"<div>\").html(i.append).addClass(\"append\").addClass(i.clsAppend).appendTo(o),\"string\"==typeof i.customButtons&&(i.customButtons=H.isObject(i.customButtons)),\"object\"==typeof i.customButtons&&H.objectLength(i.customButtons)>0&&e.each(i.customButtons,(function(){var t=e(\"<button>\");t.addClass(\"button input-custom-button\").addClass(i.clsCustomButton).addClass(this.cls).attr(\"tabindex\",-1).attr(\"type\",\"button\").html(this.html),t.data(\"action\",this.onclick),t.appendTo(r)})),H.isValue(n.attr(\"data-exclaim\"))&&o.attr(\"data-exclaim\",n.attr(\"data-exclaim\")),\"rtl\"===n.attr(\"dir\")&&o.addClass(\"rtl\").attr(\"dir\",\"rtl\"),n[0].className=\"\",!0===i.copyInlineStyles)for(var l=0,c=n[0].style.length;l<c;l++)o.css(n[0].style[l],n.css(n[0].style[l]));if(o.addClass(i.clsComponent),n.addClass(i.clsInput),\"default\"!==i.size&&o.css({width:i.size}),!H.isNull(i.autocomplete)){var d=H.isObject(i.autocomplete);!1!==d?t.autocomplete=d:this.autocomplete=H.strToArray(i.autocomplete,i.autocompleteDivider),e(\"<div>\").addClass(\"autocomplete-list\").css({maxHeight:i.autocompleteListHeight,display:\"none\"}).appendTo(o)}n.is(\":disabled\")?this.disable():this.enable()},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.closest(\".input\"),a=s.find(\".autocomplete-list\");s.on(b.events.click,\".input-clear-button\",(function(){var e=n.val();n.val(H.isValue(i.defaultValue)?i.defaultValue:\"\").fire(\"clear\").fire(\"change\").fire(\"keyup\").focus(),a.length>0&&a.css({display:\"none\"}),H.exec(i.onClearClick,[e,n.val()],n[0]),n.fire(\"clearclick\",{prev:e,val:n.val()})})),s.on(b.events.click,\".input-reveal-button\",(function(){\"password\"===n.attr(\"type\")?n.attr(\"type\",\"text\"):n.attr(\"type\",\"password\"),H.exec(i.onRevealClick,[n.val()],n[0]),n.fire(\"revealclick\",{val:n.val()})})),s.on(b.events.click,\".input-search-button\",(function(){\"submit\"!==i.searchButtonClick?(H.exec(i.onSearchButtonClick,[n.val()],this),n.fire(\"searchbuttonclick\",{val:n.val(),button:this})):this.form.submit()})),s.on(b.events.click,\".input-custom-button\",(function(){var t=e(this),i=t.data(\"action\");H.exec(i,[n.val(),t],this)})),n.on(b.events.keyup,(function(e){var s=n.val().trim();i.history&&e.keyCode===b.keyCode.ENTER&&\"\"!==s&&(n.val(\"\"),t.history.push(s),t.historyIndex=t.history.length-1,H.exec(i.onHistoryChange,[s,t.history,t.historyIndex],n[0]),n.fire(\"historychange\",{val:s,history:t.history,historyIndex:t.historyIndex}),!0===i.preventSubmit&&e.preventDefault()),i.history&&e.keyCode===b.keyCode.UP_ARROW&&(t.historyIndex--,t.historyIndex>=0?(n.val(\"\"),n.val(t.history[t.historyIndex]),H.exec(i.onHistoryDown,[n.val(),t.history,t.historyIndex],n[0]),n.fire(\"historydown\",{val:n.val(),history:t.history,historyIndex:t.historyIndex})):t.historyIndex=0,e.preventDefault()),i.history&&e.keyCode===b.keyCode.DOWN_ARROW&&(t.historyIndex++,t.historyIndex<t.history.length?(n.val(\"\"),n.val(t.history[t.historyIndex]),H.exec(i.onHistoryUp,[n.val(),t.history,t.historyIndex],n[0]),n.fire(\"historyup\",{val:n.val(),history:t.history,historyIndex:t.historyIndex})):t.historyIndex=t.history.length-1,e.preventDefault())})),n.on(b.events.keydown,(function(e){e.keyCode===b.keyCode.ENTER&&(H.exec(i.onEnterClick,[n.val()],n[0]),n.fire(\"enterclick\",{val:n.val()}))})),n.on(b.events.blur,(function(){s.removeClass(\"focused\")})),n.on(b.events.focus,(function(){s.addClass(\"focused\")})),n.on(b.events.input,(function(){var n,i=this.value.toLowerCase();0!==a.length&&(a.html(\"\"),n=t.autocomplete.filter((function(e){return e.toLowerCase().indexOf(i)>-1})),a.css({display:n.length>0?\"block\":\"none\"}),e.each(n,(function(t,n){var s,o=n.toLowerCase().indexOf(i),r=e(\"<div>\").addClass(\"item\").attr(\"data-autocomplete-value\",n);s=0===o?\"<strong>\"+n.substr(0,i.length)+\"</strong>\"+n.substr(i.length):n.substr(0,o)+\"<strong>\"+n.substr(o,i.length)+\"</strong>\"+n.substr(o+i.length),r.html(s).appendTo(a)})))})),s.on(b.events.click,\".autocomplete-list .item\",(function(){n.val(e(this).attr(\"data-autocomplete-value\")),a.css({display:\"none\"}),n.trigger(\"change\")}))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(t,n){var i=this,s=this.options;H.isNull(t)||(Array.isArray(t)||(t=H.strToArray(t,s.historyDivider)),!0===n?e.each(t,(function(){i.history.push(this)})):this.history=t,this.historyIndex=this.history.length-1)},clear:function(){this.element.val(\"\")},toDefault:function(){this.element.val(H.isValue(this.options.defaultValue)?this.options.defaultValue:\"\")},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case\"disabled\":this.toggleState()}},destroy:function(){var e=this.element,t=e.parent(),n=t.find(\".input-clear-button\"),i=t.find(\".input-reveal-button\"),s=t.find(\".input-custom-button\");return n.length>0&&n.off(b.events.click),i.length>0&&(i.off(b.events.start),i.off(b.events.stop)),s.length>0&&n.off(b.events.click),e.off(b.events.blur),e.off(b.events.focus),e}};b.plugin(\"input\",Xe),e(document).on(b.events.click,(function(){e(\".input .autocomplete-list\").hide()}));var $e={keySize:48,keys:\"1, 2, 3, 4, 5, 6, 7, 8, 9, 0\",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,position:b.position.BOTTOM_LEFT,dynamicPosition:!1,serviceButtons:!0,showValue:!0,open:!1,sizeAsKeys:!1,clsKeypad:\"\",clsInput:\"\",clsKeys:\"\",clsKey:\"\",clsServiceKey:\"\",clsBackspace:\"\",clsClear:\"\",onChange:b.noop,onClear:b.noop,onBackspace:b.noop,onShuffle:b.noop,onKey:b.noop,onKeypadCreate:b.noop};b.keypadSetup=function(t){$e=e.extend({},$e,t)},void 0!==typeof window.metroKeypadSetup&&b.keypadSetup(window.metroKeypadSetup);var Ze={init:function(t,n){return this.options=e.extend({},$e,t),this.elem=n,this.element=e(n),this.value=\"\",this.positions=[\"top-left\",\"top\",\"top-right\",\"right\",\"bottom-right\",\"bottom\",\"bottom-left\",\"left\"],this.keypad=null,this._setOptionsFromDOM(),this.keys=H.strToArray(this.options.keys,\",\"),this.keys_to_work=this.keys,this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"keypad\"),this._createKeypad(),!0===t.shuffle&&this.shuffle(),this._createKeys(),this._createEvents(),H.exec(t.onKeypadCreate,null,e[0]),e.fire(\"keypadcreate\")},_createKeypad:function(){var t,n,i=this.element,s=this.options,a=i.parent();if((t=a.hasClass(\"input\")?a:e(\"<div>\").addClass(\"input\").addClass(i[0].className)).addClass(\"keypad\"),\"static\"!==t.css(\"position\")&&\"\"!==t.css(\"position\")||t.css({position:\"relative\"}),void 0===i.attr(\"type\")&&i.attr(\"type\",\"text\"),t.insertBefore(i),i.attr(\"readonly\",!0),i.appendTo(t),(n=e(\"<div>\").addClass(\"keys\").addClass(s.clsKeys)).appendTo(t),this._setKeysPosition(),!0===s.open&&n.addClass(\"open keep-open\"),i[0].className=\"\",!0===s.copyInlineStyles)for(var o=0,r=i[0].style.length;o<r;o++)t.css(i[0].style[o],i.css(i[0].style[o]));i.addClass(s.clsInput),t.addClass(s.clsKeypad),i.on(b.events.blur,(function(){t.removeClass(\"focused\")})),i.on(b.events.focus,(function(){t.addClass(\"focused\")})),!0===s.disabled||i.is(\":disabled\")?this.disable():this.enable(),this.keypad=t},_setKeysPosition:function(){var e=this.element,t=this.options;e.parent().find(\".keys\").removeClass(this.positions.join(\" \")).addClass(t.position)},_createKeys:function(){var t,n,i=this.element,s=this.options,a=i.parent(),o=a.find(\".keys\"),r=Math.round(Math.sqrt(this.keys.length+2)),l=s.keySize;o.html(\"\"),e.each(this.keys_to_work,(function(){(t=e(\"<span>\").addClass(\"key\").addClass(s.clsKey).html(this)).data(\"key\",this),t.css({width:s.keySize,height:s.keySize,lineHeight:s.keySize-4}).appendTo(o)})),!0===s.serviceButtons&&e.each([\"&larr;\",\"&times;\"],(function(){t=e(\"<span>\").addClass(\"key service-key\").addClass(s.clsKey).addClass(s.clsServiceKey).html(this),\"&larr;\"===this&&t.addClass(s.clsBackspace),\"&times;\"===this&&t.addClass(s.clsClear),t.data(\"key\",this),t.css({width:s.keySize,height:s.keySize,lineHeight:s.keySize-4}).appendTo(o)})),n=r*(l+2)-6,o.outerWidth(n),!0===s.sizeAsKeys&&-1!==[\"top-left\",\"top\",\"top-right\",\"bottom-left\",\"bottom\",\"bottom-right\"].indexOf(s.position)&&a.outerWidth(o.outerWidth())},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.parent(),a=s.find(\".keys\");a.on(b.events.click,\".key\",(function(s){var a=e(this);if(\"&larr;\"!==a.data(\"key\")&&\"&times;\"!==a.data(\"key\")){if(i.keyLength>0&&String(t.value).length===i.keyLength)return!1;t.value=t.value+\"\"+a.data(\"key\"),!0===i.shuffle&&(t.shuffle(),t._createKeys()),!0===i.dynamicPosition&&(i.position=t.positions[H.random(0,t.positions.length-1)],t._setKeysPosition()),H.exec(i.onKey,[a.data(\"key\"),t.value],n[0]),n.fire(\"key\",{key:a.data(\"key\"),val:t.value})}else\"&times;\"===a.data(\"key\")&&(t.value=\"\",H.exec(i.onClear,null,n[0]),n.fire(\"clear\")),\"&larr;\"===a.data(\"key\")&&(t.value=t.value.substring(0,t.value.length-1),H.exec(i.onBackspace,[t.value],n[0]),n.fire(\"backspace\"));!0===i.showValue&&(\"INPUT\"===n[0].tagName?n.val(t.value):n.text(t.value)),n.trigger(\"change\"),H.exec(i.onChange,[t.value],n[0]),s.preventDefault(),s.stopPropagation()})),s.on(b.events.click,(function(e){!0!==i.open&&(!0===a.hasClass(\"open\")?a.removeClass(\"open\"):a.addClass(\"open\"),e.preventDefault(),e.stopPropagation())})),null!==i.target&&n.on(b.events.change,(function(){var n=e(i.target);0!==n.length&&(\"INPUT\"===n[0].tagName?n.val(t.value):n.text(t.value))}))},shuffle:function(){for(var e=this.element,t=this.options,n=0;n<t.shuffleCount;n++)this.keys_to_work=this.keys_to_work.shuffle();H.exec(t.onShuffle,[this.keys_to_work,this.keys],e[0]),e.fire(\"shuffle\",{keys:this.keys,keysToWork:this.keys_to_work})},shuffleKeys:function(e){void 0===e&&(e=this.options.shuffleCount);for(var t=0;t<e;t++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(e){if(void 0===e)return this.value;this.value=e,\"INPUT\"===this.element[0].tagName?this.element.val(e):this.element.text(e)},open:function(){this.element.parent().find(\".keys\").addClass(\"open\")},close:function(){this.element.parent().find(\".keys\").removeClass(\"open\")},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(e){var t=void 0!==e?e:this.element.attr(\"data-position\");-1!==this.positions.indexOf(t)&&(this.options.position=t,this._setKeysPosition())},changeAttribute:function(e){switch(e){case\"disabled\":this.toggleState();break;case\"data-position\":this.setPosition()}},destroy:function(){var e=this.element,t=this.keypad,n=t.find(\".keys\");return t.off(b.events.click),n.off(b.events.click,\".key\"),e.off(b.events.change),e}};b.plugin(\"keypad\",Ze),e(document).on(b.events.click,(function(){var t=e(\".keypad .keys\");e.each(t,(function(){e(this).hasClass(\"keep-open\")||e(this).removeClass(\"open\")}))}));var et={templateBeginToken:\"<%\",templateEndToken:\"%>\",paginationDistance:5,paginationShortMode:!0,thousandSeparator:\",\",decimalSeparator:\",\",sortTarget:\"li\",sortClass:null,sortDir:\"asc\",sortInitial:!1,filterClass:null,filter:null,filterString:\"\",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:\"all, 10,25,50,100\",itemsAllTitle:\"Show all\",listItemsCountTitle:\"Show entries:\",listSearchTitle:\"Search:\",listInfoTitle:\"Showing $1 to $2 of $3 entries\",paginationPrevTitle:\"Prev\",paginationNextTitle:\"Next\",activityType:\"cycle\",activityStyle:\"color\",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,clsComponent:\"\",clsList:\"\",clsListItem:\"\",clsListTop:\"\",clsItemsCount:\"\",clsSearch:\"\",clsListBottom:\"\",clsListInfo:\"\",clsListPagination:\"\",clsPagination:\"\",onDraw:b.noop,onDrawItem:b.noop,onSortStart:b.noop,onSortStop:b.noop,onSortItemSwitch:b.noop,onSearch:b.noop,onRowsCountChange:b.noop,onDataLoad:b.noop,onDataLoaded:b.noop,onDataLoadError:b.noop,onFilterItemAccepted:b.noop,onFilterItemDeclined:b.noop,onListCreate:b.noop};b.listSetup=function(t){et=e.extend({},et,t)},void 0!==typeof window.metroListSetup&&b.listSetup(window.metroListSetup);var tt={init:function(t,n){return this.options=e.extend({},et,t),this.elem=n,this.element=e(n),this.currentPage=1,this.pagesCount=1,this.filterString=\"\",this.data=null,this.activity=null,this.busy=!1,this.filters=[],this.wrapperInfo=null,this.wrapperSearch=null,this.wrapperRows=null,this.wrapperPagination=null,this.filterIndex=null,this.filtersIndexes=[],this.itemTemplate=null,this.sort={dir:\"asc\",colIndex:0},this.header=null,this.items=[],this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this,n=this.element,i=this.options;b.checkRuntime(n,\"list\"),null!==i.source?(H.exec(i.onDataLoad,[i.source],n[0]),n.fire(\"dataload\",{source:i.source}),e.json(i.source).then((function(e){H.exec(i.onDataLoaded,[i.source,e],n[0]),n.fire(\"dataloaded\",{source:i.source,data:e}),t._build(e)}),(function(e){H.exec(i.onDataLoadError,[i.source,e],n[0]),n.fire(\"dataloaderror\",{source:i.source,xhr:e})}))):t._build()},_build:function(e){var t=this.element,n=this.options;H.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),H.exec(n.onListCreate,null,t[0]),t.fire(\"listcreate\")},_createItemsFromHTML:function(){var t=this,n=this.element,i=this.options;this.items=[],e.each(n.children(i.sortTarget),(function(){t.items.push(this)}))},_createItemsFromJSON:function(t){var n=this,i=this.options;this.items=[],H.isValue(t.template)&&(this.itemTemplate=t.template),H.isValue(t.header)&&(this.header=t.header),H.isValue(t.data)&&e.each(t.data,(function(){var e,t=document.createElement(\"li\");H.isValue(n.itemTemplate)&&(e=b.template(n.itemTemplate,this,{beginToken:i.templateBeginToken,endToken:i.templateEndToken}),t.innerHTML=e,n.items.push(t))}))},_createTopBlock:function(){var t,n,i,s=this,a=this.element,o=this.options,r=e(\"<div>\").addClass(\"list-top\").addClass(o.clsListTop).insertBefore(a);return t=H.isValue(this.wrapperSearch)?this.wrapperSearch:e(\"<div>\").addClass(\"list-search-block\").addClass(o.clsSearch).appendTo(r),e(\"<input>\").attr(\"type\",\"text\").appendTo(t).input({prepend:o.listSearchTitle}),!0!==o.showSearch&&t.hide(),n=H.isValue(this.wrapperRows)?this.wrapperRows:e(\"<div>\").addClass(\"list-rows-block\").addClass(o.clsItemsCount).appendTo(r),i=e(\"<select>\").appendTo(n),e.each(H.strToArray(o.itemsSteps),(function(){var t=e(\"<option>\").attr(\"value\",\"all\"===this?-1:this).text(\"all\"===this?o.itemsAllTitle:this).appendTo(i);parseInt(this)===parseInt(o.items)&&t.attr(\"selected\",\"selected\")})),i.select({filter:!1,prepend:o.listItemsCountTitle,onChange:function(e){parseInt(e)!==parseInt(o.items)&&(o.items=parseInt(e),s.currentPage=1,s._draw(),H.exec(o.onRowsCountChange,[e],a[0]),a.fire(\"rowscountchange\",{val:e}))}}),!0!==o.showItemsSteps&&n.hide(),r},_createBottomBlock:function(){var t,n,i=this.element,s=this.options,a=e(\"<div>\").addClass(\"list-bottom\").addClass(s.clsListBottom).insertAfter(i);return t=e(\"<div>\").addClass(\"list-info\").addClass(s.clsListInfo).appendTo(a),!0!==s.showListInfo&&t.hide(),n=e(\"<div>\").addClass(\"list-pagination\").addClass(s.clsListPagination).appendTo(a),!0!==s.showPagination&&n.hide(),a},_createStructure:function(){var t,n,i=this,s=this.element,a=this.options,o=e(a.searchWrapper),r=e(a.infoWrapper),l=e(a.rowsWrapper),c=e(a.paginationWrapper);o.length>0&&(this.wrapperSearch=o),r.length>0&&(this.wrapperInfo=r),l.length>0&&(this.wrapperRows=l),c.length>0&&(this.wrapperPagination=c),s.parent().hasClass(\"list-component\")?t=s.parent():(t=e(\"<div>\").addClass(\"list-component\").insertBefore(s),s.appendTo(t)),t.addClass(a.clsComponent),this.activity=e(\"<div>\").addClass(\"list-progress\").appendTo(t),e(\"<div>\").activity({type:a.activityType,style:a.activityStyle}).appendTo(this.activity),!0!==a.showActivity&&this.activity.css({visibility:\"hidden\"}),s.addClass(a.clsList),this._createTopBlock(),this._createBottomBlock(),H.isValue(a.filterString)&&(this.filterString=a.filterString),H.isValue(a.filter)&&(!1===(n=H.isFunc(a.filter))&&(n=H.func(a.filter)),i.filterIndex=i.addFilter(n)),H.isValue(a.filters)&&e.each(H.strToArray(a.filters),(function(){!1!==(n=H.isFunc(this))&&i.filtersIndexes.push(i.addFilter(n))})),this.currentPage=1,this.sorting(a.sortClass,a.sortDir,!0)},_createEvents:function(){var t,n=this,i=this.element.parent();function s(t){var i=e(t),s=i.parent();s.hasClass(\"active\")||(s.hasClass(\"service\")?\"prev\"===i.data(\"page\")?(n.currentPage--,0===n.currentPage&&(n.currentPage=1)):(n.currentPage++,n.currentPage>n.pagesCount&&(n.currentPage=n.pagesCount)):n.currentPage=i.data(\"page\"),n._draw())}i.find(\".list-search-block input\").on(b.events.inputchange,(function(){n.filterString=this.value.trim().toLowerCase(),\":\"!==n.filterString[n.filterString.length-1]&&(n.currentPage=1,n._draw())})),H.isValue(this.wrapperSearch)&&(t=this.wrapperSearch.find(\"input\")).length>0&&t.on(b.events.inputchange,(function(){n.filterString=this.value.trim().toLowerCase(),\":\"!==n.filterString[n.filterString.length-1]&&(n.currentPage=1,n._draw())})),i.on(b.events.click,\".pagination .page-link\",(function(){s(this)})),H.isValue(this.wrapperPagination)&&this.wrapperPagination.on(b.events.click,\".pagination .page-link\",(function(){s(this)}))},_info:function(e,t,n){var i,s=this.element,a=this.options,o=s.parent(),r=H.isValue(this.wrapperInfo)?this.wrapperInfo:o.find(\".list-info\");0!==r.length&&(t>n&&(t=n),0===this.items.length&&(e=t=n=0),i=(i=(i=(i=a.listInfoTitle).replace(\"$1\",e)).replace(\"$2\",t)).replace(\"$3\",n),r.html(i))},_paging:function(e){var t=this.element,n=this.options,i=t.parent();this.pagesCount=Math.ceil(e/n.items),dt({length:e,rows:n.items,current:this.currentPage,target:H.isValue(this.wrapperPagination)?this.wrapperPagination:i.find(\".list-pagination\"),claPagination:n.clsPagination,prevTitle:n.paginationPrevTitle,nextTitle:n.paginationNextTitle,distance:!0===n.paginationShortMode?n.paginationDistance:0})},_filter:function(){var e,t,n,i,s,a,o=this,r=this.element,l=this.options;return H.isValue(this.filterString)||this.filters.length>0?(e=this.items.filter((function(e){if(n=\"\",H.isValue(l.filterClass)){if((i=e.getElementsByClassName(l.filterClass)).length>0)for(t=0;t<i.length;t++)n+=i[t].textContent}else n=e.textContent;if(s=n.replace(/[\\n\\r]+|[\\s]{2,}/g,\" \").trim().toLowerCase(),!0==(a=!H.isValue(o.filterString)||s.indexOf(o.filterString)>-1)&&o.filters.length>0)for(t=0;t<o.filters.length;t++)if(!0!==H.exec(o.filters[t],[e])){a=!1;break}return a?(H.exec(l.onFilterItemAccepted,[e],r[0]),r.fire(\"filteritemaccepted\",{item:e})):(H.exec(l.onFilterItemDeclined,[e],r[0]),r.fire(\"filteritemdeclined\",{item:e})),a})),H.exec(l.onSearch,[o.filterString,e],r[0]),r.fire(\"search\",{search:o.filterString,items:e})):e=this.items,e},_draw:function(t){var n,i,s=this.element,a=this.options,o=-1===a.items?0:a.items*(this.currentPage-1),r=-1===a.items?this.items.length-1:o+a.items-1;for(i=this._filter(),s.children(a.sortTarget).remove(),n=o;n<=r;n++)H.isValue(i[n])&&e(i[n]).addClass(a.clsListItem).appendTo(s),H.exec(a.onDrawItem,[i[n]],s[0]),s.fire(\"drawitem\",{item:i[n]});this._info(o+1,r+1,i.length),this._paging(i.length),this.activity.hide(),H.exec(a.onDraw,null,s[0]),s.fire(\"draw\"),void 0!==t&&H.exec(t,[s],s[0])},_getItemContent:function(t){var n,i,s,a,o=this.options,r=e(t),l=H.isValue(r.data(\"formatMask\"))?r.data(\"formatMask\"):null;if(H.isValue(o.sortClass)){if(s=\"\",(i=e(t).find(\".\"+o.sortClass)).length>0)for(n=0;n<i.length;n++)s+=i[n].textContent;a=i.length>0?i[0].getAttribute(\"data-format\"):\"\"}else s=t.textContent,a=t.getAttribute(\"data-format\");if(s=(\"\"+s).toLowerCase().replace(/[\\n\\r]+|[\\s]{2,}/g,\" \").trim(),H.isValue(a))switch(-1===[\"number\",\"int\",\"integer\",\"float\",\"money\"].indexOf(a)||\",\"===o.thousandSeparator&&\".\"===o.decimalSeparator||(s=H.parseNumber(s,o.thousandSeparator,o.decimalSeparator)),a){case\"date\":s=H.isValue(l)?s.toDate(l):new Date(s);break;case\"number\":s=Number(s);break;case\"int\":case\"integer\":s=parseInt(s);break;case\"float\":s=parseFloat(s);break;case\"money\":s=H.parseMoney(s);break;case\"card\":s=H.parseCard(s);break;case\"phone\":s=H.parsePhone(s)}return s},deleteItem:function(e){var t,n,i=[],s=H.isFunc(e);for(t=0;t<this.items.length;t++)n=this.items[t],s?H.exec(e,[n])&&i.push(t):n.textContent.contains(e)&&i.push(t);return this.items=H.arrayDeleteByMultipleKeys(this.items,i),this},draw:function(){return this._draw()},sorting:function(e,t,n){var i=this,s=this.element,a=this.options;return H.isValue(e)&&(a.sortClass=e),H.isValue(t)&&[\"asc\",\"desc\"].indexOf(t)>-1&&(a.sortDir=t),H.exec(a.onSortStart,[this.items],s[0]),s.fire(\"sortstart\",{items:this.items}),this.items.sort((function(e,t){var n=i._getItemContent(e),o=i._getItemContent(t),r=0;return n<o&&(r=\"asc\"===a.sortDir?-1:1),n>o&&(r=\"asc\"===a.sortDir?1:-1),0!==r&&(H.exec(a.onSortItemSwitch,[e,t,r],s[0]),s.fire(\"sortitemswitch\",{a:e,b:t,result:r})),r})),H.exec(a.onSortStop,[this.items],s[0]),s.fire(\"sortstop\",{items:this.items}),!0===n&&this._draw(),this},filter:function(e){this.filterString=e.trim().toLowerCase(),this.currentPage=1,this._draw()},loadData:function(t){var n=this,i=this.element,s=this.options;!0===H.isValue(t)&&(s.source=t,H.exec(s.onDataLoad,[s.source],i[0]),i.fire(\"dataload\",{source:s.source}),e.json(s.source).then((function(t){var a;H.exec(s.onDataLoaded,[s.source,t],i[0]),i.fire(\"dataloaded\",{source:s.source,data:t}),n._createItemsFromJSON(t),i.html(\"\"),H.isValue(s.filterString)&&(n.filterString=s.filterString),H.isValue(s.filter)&&(!1===(a=H.isFunc(s.filter))&&(a=H.func(s.filter)),n.filterIndex=n.addFilter(a)),H.isValue(s.filters)&&e.each(H.strToArray(s.filters),(function(){!1!==(a=H.isFunc(this))&&n.filtersIndexes.push(n.addFilter(a))})),n.currentPage=1,n.sorting(s.sortClass,s.sortDir,!0)}),(function(e){H.exec(s.onDataLoadError,[s.source,e],i[0]),i.fire(\"dataloaderror\",{source:s.source,xhr:e})})))},next:function(){0!==this.items.length&&(this.currentPage++,this.currentPage>this.pagesCount?this.currentPage=this.pagesCount:this._draw())},prev:function(){0!==this.items.length&&(this.currentPage--,0!==this.currentPage?this._draw():this.currentPage=1)},first:function(){0!==this.items.length&&(this.currentPage=1,this._draw())},last:function(){0!==this.items.length&&(this.currentPage=this.pagesCount,this._draw())},page:function(e){e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw()},addFilter:function(e,t){var n=H.isFunc(e);if(!1!==n)return this.filters.push(n),!0===t&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(e,t){return H.arrayDeleteByKey(this.filters,e),!0===t&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){this.filters=[],!0===e&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(e){var t,n,i=this,s=this.element,a=this.options;switch(e){case\"data-sort-dir\":n=s.attr(\"data-sort-dir\"),H.isValue(n)&&(a.sortDir=n,i.sorting(a.sortClass,a.sortDir,!0));break;case\"data-sort-source\":!function(){var e=s.attr(\"data-sort-source\");H.isValue(e)&&(a.sortClass=e,i.sorting(a.sortClass,a.sortDir,!0))}();break;case\"data-filter-string\":t=s.attr(\"data-filter-string\"),H.isValue(target)&&(a.filterString=t,i.filter(a.filterString))}},destroy:function(){var e,t=this.element,n=t.parent();return n.find(\".list-search-block input\").off(b.events.inputchange),H.isValue(this.wrapperSearch)&&(e=this.wrapperSearch.find(\"input\")).length>0&&e.off(b.events.inputchange),n.off(b.events.click,\".pagination .page-link\"),H.isValue(this.wrapperPagination)&&this.wrapperPagination.off(b.events.click,\".pagination .page-link\"),t}};b.plugin(\"list\",tt);var nt={selectable:!1,checkStyle:1,duration:100,view:b.listView.LIST,selectCurrent:!0,structure:{},onNodeInsert:b.noop,onNodeDelete:b.noop,onNodeClean:b.noop,onCollapseNode:b.noop,onExpandNode:b.noop,onGroupNodeClick:b.noop,onNodeClick:b.noop,onNodeDblClick:b.noop,onListViewCreate:b.noop};b.listViewSetup=function(t){nt=e.extend({},nt,t)},void 0!==typeof window.metroListViewSetup&&b.listViewSetup(window.metroListViewSetup);var it={init:function(t,n){return this.options=e.extend({},nt,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"listview\"),this._createView(),this._createEvents(),H.exec(t.onListViewCreate,null,e[0]),e.fire(\"listviewcreate\")},_createIcon:function(t){var n,i;return i=H.isTag(t)?e(t):e(\"<img>\").attr(\"src\",t),(n=e(\"<span>\").addClass(\"icon\")).html(i.outerHTML()),n},_createCaption:function(t){return e(\"<div>\").addClass(\"caption\").html(t)},_createContent:function(t){return e(\"<div>\").addClass(\"content\").html(t)},_createToggle:function(){return e(\"<span>\").addClass(\"node-toggle\")},_createNode:function(t){var n,i=this.options;if(n=e(\"<li>\"),void 0!==t.caption||void 0!==t.content){var s=e(\"<div>\").addClass(\"data\");n.prepend(s),void 0!==t.caption&&s.append(this._createCaption(t.caption)),void 0!==t.content&&s.append(this._createContent(t.content))}return void 0!==t.icon&&n.prepend(this._createIcon(t.icon)),H.objectLength(i.structure)>0&&e.each(i.structure,(function(i,s){void 0!==t[i]&&e(\"<div>\").addClass(\"node-data item-data-\"+i).addClass(t[s]).html(t[i]).appendTo(n)})),n},_createView:function(){var t=this,n=this.element,i=this.options,s=n.find(\"li\"),a=H.objectLength(i.structure);n.addClass(\"listview\"),n.find(\"ul\").addClass(\"listview\"),e.each(s,(function(){var n=e(this);if(void 0!==n.data(\"caption\")||void 0!==n.data(\"content\")){var s=e(\"<div>\").addClass(\"data\");n.prepend(s),void 0!==n.data(\"caption\")&&s.append(t._createCaption(n.data(\"caption\"))),void 0!==n.data(\"content\")&&s.append(t._createContent(n.data(\"content\")))}if(void 0!==n.data(\"icon\")&&n.prepend(t._createIcon(n.data(\"icon\"))),n.children(\"ul\").length>0?(n.addClass(\"node-group\"),n.append(t._createToggle()),!0!==n.data(\"collapsed\")&&n.addClass(\"expanded\")):n.addClass(\"node\"),n.hasClass(\"node\")){var o=e(\"<input type='checkbox' data-role='checkbox' data-style='\"+i.checkStyle+\"'>\");o.data(\"node\",n),n.prepend(o)}a>0&&e.each(i.structure,(function(t){void 0!==n.data(t)&&e(\"<div>\").addClass(\"node-data item-data-\"+t).addClass(n.data(t)).html(n.data(t)).appendTo(n)}))})),this.toggleSelectable(),this.view(i.view)},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".node\",(function(){var t=e(this);n.find(\".node\").removeClass(\"current\"),t.toggleClass(\"current\"),!0===i.selectCurrent&&(n.find(\".node\").removeClass(\"current-select\"),t.toggleClass(\"current-select\")),H.exec(i.onNodeClick,[t],n[0]),n.fire(\"nodeclick\",{node:t})})),n.on(b.events.click,\".node-toggle\",(function(){var n=e(this).closest(\"li\");t.toggleNode(n)})),n.on(b.events.click,\".node-group > .data > .caption\",(function(){var t=e(this).closest(\"li\");n.find(\".node-group\").removeClass(\"current-group\"),t.addClass(\"current-group\"),H.exec(i.onGroupNodeClick,[t],n[0]),n.fire(\"groupnodeclick\",{node:t})})),n.on(b.events.dblclick,\".node-group > .data > .caption\",(function(){var s=e(this).closest(\"li\");t.toggleNode(s),H.exec(i.onNodeDblClick,[s],n[0]),n.fire(\"nodedblclick\",{node:s})}))},view:function(t){var n=this.element,i=this.options;if(void 0===t)return i.view;i.view=t,e.each(b.listView,(function(e,t){n.removeClass(\"view-\"+t),n.find(\"ul\").removeClass(\"view-\"+t)})),n.addClass(\"view-\"+i.view),n.find(\"ul\").addClass(\"view-\"+i.view)},toggleNode:function(t){var n,i=this.element,s=this.options;(t=e(t)).hasClass(\"node-group\")&&(t.toggleClass(\"expanded\"),n=!0!==t.hasClass(\"expanded\")?\"slideUp\":\"slideDown\",H.exec(s.onCollapseNode,[t],i[0]),i.fire(\"collapsenode\",{node:t}),t.children(\"ul\")[n](s.duration))},toggleSelectable:function(){var e=this.element,t=!0===this.options.selectable?\"addClass\":\"removeClass\";e[t](\"selectable\"),e.find(\"ul\")[t](\"selectable\")},add:function(t,n){var i,s,a=this.element,o=this.options;if(null===t)i=a;else{if(!(t=e(t)).hasClass(\"node-group\"))return;0===(i=t.children(\"ul\")).length&&(i=e(\"<ul>\").addClass(\"listview\").addClass(\"view-\"+o.view).appendTo(t),this._createToggle().appendTo(t),t.addClass(\"expanded\"))}(s=this._createNode(n)).addClass(\"node\").appendTo(i);var r=e(\"<input type='checkbox'>\");return r.data(\"node\",s),s.prepend(r),b.makePlugin(r,\"checkbox\",{}),H.exec(o.onNodeInsert,[s,t,i],a[0]),a.fire(\"nodeinsert\",{newNode:s,parentNode:t,list:i}),s},addGroup:function(t){var n,i=this.element,s=this.options;return delete t.icon,(n=this._createNode(t)).addClass(\"node-group\").appendTo(i),n.append(this._createToggle()),n.addClass(\"expanded\"),n.append(e(\"<ul>\").addClass(\"listview\").addClass(\"view-\"+s.view)),H.exec(s.onNodeInsert,[n,null,i],i[0]),i.fire(\"nodeinsert\",{newNode:n,parentNode:null,list:i}),n},insertBefore:function(t,n){var i,s,a,o=this.element,r=this.options;if((t=e(t)).length)return(i=this._createNode(n)).addClass(\"node\").insertBefore(t),s=i.closest(\".node\"),a=i.closest(\"ul\"),H.exec(r.onNodeInsert,[i,s,a],o[0]),o.fire(\"nodeinsert\",{newNode:i,parentNode:s,list:a}),i},insertAfter:function(t,n){var i,s,a,o=this.element,r=this.options;if((t=e(t)).length)return(i=this._createNode(n)).addClass(\"node\").insertAfter(t),s=i.closest(\".node\"),a=i.closest(\"ul\"),H.exec(r.onNodeInsert,[i,s,a],o[0]),o.fire(\"nodeinsert\",{newNode:i,parentNode:s,list:a}),i},del:function(t){var n=this.element,i=this.options;if((t=e(t)).length){var s=t.closest(\"ul\"),a=s.closest(\"li\");t.remove(),0!==s.children().length||s.is(n)||(s.remove(),a.removeClass(\"expanded\"),a.children(\".node-toggle\").remove()),H.exec(i.onNodeDelete,[t],n[0]),n.fire(\"nodedelete\",{node:t})}},clean:function(t){var n=this.element,i=this.options;(t=e(t)).length&&(t.children(\"ul\").remove(),t.removeClass(\"expanded\"),t.children(\".node-toggle\").remove(),H.exec(i.onNodeClean,[t],n[0]),n.fire(\"nodeclean\",{node:t}))},getSelected:function(){var t=this.element,n=[];return e.each(t.find(\":checked\"),(function(){var t=e(this);n.push(t.closest(\".node\")[0])})),n},clearSelected:function(){this.element.find(\":checked\").prop(\"checked\",!1),this.element.trigger(\"change\")},selectAll:function(e){this.element.find(\".node > .checkbox input\").prop(\"checked\",!1!==e),this.element.trigger(\"change\")},changeAttribute:function(e){var t,n=this,i=this.element,s=this.options;switch(e){case\"data-view\":t=\"view-\"+i.attr(\"data-view\"),n.view(t);break;case\"data-selectable\":s.selectable=!0===JSON.parse(i.attr(\"data-selectable\")),n.toggleSelectable()}},destroy:function(){var e=this.element;return e.off(b.events.click,\".node\"),e.off(b.events.click,\".node-toggle\"),e.off(b.events.click,\".node-group > .data > .caption\"),e.off(b.events.dblclick,\".node-group > .data > .caption\"),e}};b.plugin(\"listview\",it);var st={effect:\"slide\",effectFunc:\"linear\",duration:METRO_ANIMATION_DURATION,controlPrev:\"<span class='default-icon-left-arrow'></span>\",controlNext:\"<span class='default-icon-right-arrow'></span>\",controlTitle:\"Master, page $1 of $2\",backgroundImage:\"\",clsMaster:\"\",clsControls:\"\",clsControlPrev:\"\",clsControlNext:\"\",clsControlTitle:\"\",clsPages:\"\",clsPage:\"\",onBeforePage:b.noop_true,onBeforeNext:b.noop_true,onBeforePrev:b.noop_true,onNextPage:b.noop,onPrevPage:b.noop,onMasterCreate:b.noop};b.masterSetup=function(t){st=e.extend({},st,t)},void 0!==typeof window.metroMasterSetup&&b.masterSetup(window.metroMasterSetup);var at={init:function(t,n){return this.options=e.extend({},st,t),this.elem=n,this.element=e(n),this.pages=[],this.currentIndex=0,this.isAnimate=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"master\"),e.addClass(\"master\").addClass(t.clsMaster),e.css({backgroundImage:\"url(\"+t.backgroundImage+\")\"}),this._createControls(),this._createPages(),this._createEvents(),H.exec(t.onMasterCreate,null,e[0]),e.fire(\"mastercreate\")},_createControls:function(){var t,n,i=this.element,s=this.options,a=i.find(\".page\");n=String(s.controlTitle).replace(\"$1\",\"1\"),n=String(n).replace(\"$2\",a.length),e.each([\"top\",\"bottom\"],(function(){t=e(\"<div>\").addClass(\"controls controls-\"+this).addClass(s.clsControls).appendTo(i),e(\"<span>\").addClass(\"prev\").addClass(s.clsControlPrev).html(s.controlPrev).appendTo(t),e(\"<span>\").addClass(\"next\").addClass(s.clsControlNext).html(s.controlNext).appendTo(t),e(\"<span>\").addClass(\"title\").addClass(s.clsControlTitle).html(n).appendTo(t)})),this._enableControl(\"prev\",!1)},_enableControl:function(e,t){var n=this.element.find(\".controls .\"+e);!0===t?n.removeClass(\"disabled\"):n.addClass(\"disabled\")},_setTitle:function(){var e=this.element.find(\".controls .title\"),t=this.options.controlTitle.replace(\"$1\",this.currentIndex+1);t=t.replace(\"$2\",String(this.pages.length)),e.html(t)},_createPages:function(){var t=this,n=this.element,i=this.options,s=n.find(\".pages\"),a=n.find(\".page\");0===s.length&&(s=e(\"<div>\").addClass(\"pages\").appendTo(n)),s.addClass(i.clsPages),e.each(a,(function(){var s=e(this);void 0!==s.data(\"cover\")?n.css({backgroundImage:\"url(\"+s.data(\"cover\")+\")\"}):n.css({backgroundImage:\"url(\"+i.backgroundImage+\")\"}),s.css({left:\"100%\"}),s.addClass(i.clsPage).hide(0),t.pages.push(s)})),a.appendTo(s),this.currentIndex=0,void 0!==this.pages[this.currentIndex]&&(void 0!==this.pages[this.currentIndex].data(\"cover\")&&n.css({backgroundImage:\"url(\"+this.pages[this.currentIndex].data(\"cover\")+\")\"}),this.pages[this.currentIndex].css(\"left\",\"0\").show(0),setTimeout((function(){s.css({height:t.pages[0].outerHeight(!0)+2})}),0))},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".controls .prev\",(function(){!0!==t.isAnimate&&!0===H.exec(i.onBeforePrev,[t.currentIndex,t.pages[t.currentIndex],n])&&!0===H.exec(i.onBeforePage,[\"prev\",t.currentIndex,t.pages[t.currentIndex],n])&&t.prev()})),n.on(b.events.click,\".controls .next\",(function(){!0!==t.isAnimate&&!0===H.exec(i.onBeforeNext,[t.currentIndex,t.pages[t.currentIndex],n])&&!0===H.exec(i.onBeforePage,[\"next\",t.currentIndex,t.pages[t.currentIndex],n])&&t.next()})),e(window).on(b.events.resize,(function(){n.find(\".pages\").height(t.pages[t.currentIndex].outerHeight(!0)+2)}),{ns:n.attr(\"id\")})},_slideToPage:function(e){var t,n,i;void 0!==this.pages[e]&&this.currentIndex!==e&&(i=e>this.currentIndex?\"next\":\"prev\",t=this.pages[this.currentIndex],n=this.pages[e],this.currentIndex=e,this._effect(t,n,i))},_slideTo:function(e){var t,n,i=this.element,s=this.options,a=\"next\"===e.toLowerCase();if(t=this.pages[this.currentIndex],a){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}n=this.pages[this.currentIndex],H.exec(a?s.onNextPage:s.onPrevPage,[t,n],i[0]),i.fire(a?\"nextpage\":\"prevpage\",{current:t,next:n,forward:a}),this._effect(t,n,e)},_effect:function(e,t,n){var i=this,s=this.element,a=this.options,o=s.width(),r=s.find(\".pages\");function l(){void 0!==t.data(\"cover\")?s.css({backgroundImage:\"url(\"+t.data(\"cover\")+\")\"}):s.css({backgroundImage:\"url(\"+a.backgroundImage+\")\"}),r.css(\"overflow\",\"initial\"),i.isAnimate=!1}switch(this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl(\"next\",!1):this._enableControl(\"next\",!0),0===this.currentIndex?this._enableControl(\"prev\",!1):this._enableControl(\"prev\",!0),this.isAnimate=!0,setTimeout((function(){r.animate({height:t.outerHeight(!0)+2})}),0),r.css(\"overflow\",\"hidden\"),a.effect){case\"fade\":e.fadeOut(a.duration),t.css({top:0,left:0,opacity:0}).fadeIn(a.duration,\"linear\",(function(){l()}));break;case\"switch\":e.hide(),t.css({top:0,left:0,opacity:0}).show((function(){l()}));break;default:e.stop(!0).animate({left:\"next\"===n?-o:o},a.duration,a.effectFunc,(function(){e.hide(0)})),t.stop(!0).css({left:\"next\"===n?o:-o}).show(0).animate({left:0},a.duration,a.effectFunc,(function(){l()}))}},toPage:function(e){this._slideToPage(e)},next:function(){this._slideTo(\"next\")},prev:function(){this._slideTo(\"prev\")},changeEffect:function(){this.options.effect=this.element.attr(\"data-effect\")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr(\"data-effect-func\")},changeEffectDuration:function(){this.options.duration=this.element.attr(\"data-duration\")},changeAttribute:function(e){switch(e){case\"data-effect\":this.changeEffect();break;case\"data-effect-func\":this.changeEffectFunc();break;case\"data-duration\":this.changeEffectDuration()}},destroy:function(){var t=this.element;return t.off(b.events.click,\".controls .prev\"),t.off(b.events.click,\".controls .next\"),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"master\",at);var ot={compact:\"md\",expand:\"lg\",toggle:null,activeState:!1,onMenuItemClick:b.noop,onNavViewCreate:b.noop};b.navigationViewSetup=function(t){ot=e.extend({},ot,t)},void 0!==typeof window.metroNavigationViewSetup&&b.navigationViewSetup(window.metroNavigationSetup);var rt={init:function(t,n){return this.options=e.extend({},ot,t),this.elem=n,this.element=e(n),this.pane=null,this.content=null,this.paneToggle=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"navview\"),this._createView(),this._createEvents(),H.exec(t.onNavViewCreate,null,e[0]),e.fire(\"navviewcreate\")},_calcMenuHeight:function(){var t,n,i=this.element,s=0;0!==(t=i.children(\".navview-pane\")).length&&0!==(n=t.children(\".navview-menu\")).length&&(e.each(n.prevAll(),(function(){s+=e(this).outerHeight(!0)})),e.each(n.nextAll(),(function(){s+=e(this).outerHeight(!0)})),n.css({height:\"calc(100% - \"+(s+20)+\"px)\"}))},_createView:function(){var t,n,i,s=this,a=this.element,o=this.options;a.attr(\"id\")||a.attr(\"id\",H.elementId(\"navview\")),a.addClass(\"navview\").addClass(!1!==o.compact?\"navview-compact-\"+o.compact:\"\").addClass(!1!==o.expand?\"navview-expand-\"+o.expand:\"\"),t=a.children(\".navview-pane\"),n=a.children(\".navview-content\"),i=e(o.toggle),this._calcMenuHeight(),this.pane=t.length>0?t:null,this.content=n.length>0?n:null,this.paneToggle=i.length>0?i:null,setTimeout((function(){48===s.pane.width()?a.addClass(\"js-compact\"):a.removeClass(\"js-compact\")}),200)},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".pull-button, .holder\",(function(){t.pullClick(this)})),n.on(b.events.click,\".navview-menu li\",(function(){!0===i.activeState&&(n.find(\".navview-menu li\").removeClass(\"active\"),e(this).toggleClass(\"active\"))})),n.on(b.events.click,\".navview-menu li > a\",(function(){H.exec(i.onMenuItemClick,null,this),n.fire(\"menuitemclick\",{item:this})})),null!==this.paneToggle&&this.paneToggle.on(b.events.click,(function(){t.pane.toggleClass(\"open\")})),e(window).on(b.events.resize,(function(){n.removeClass(\"expanded\"),t.pane.removeClass(\"open\"),e(this).width()<=b.media_sizes[String(i.compact).toUpperCase()]&&n.removeClass(\"compacted\"),t._calcMenuHeight(),n.removeClass(\"js-compact\"),setTimeout((function(){48===t.pane.width()&&n.addClass(\"js-compact\")}),200)}),{ns:n.attr(\"id\")})},pullClick:function(t){var n,i=this,s=this.element,a=this.pane.width()<280,o=e(t);return o&&o.hasClass(\"holder\")&&(n=o.parent().find(\"input\"),setTimeout((function(){n.focus()}),200)),i.pane.hasClass(\"open\")?i.close():!a&&!s.hasClass(\"expanded\")||s.hasClass(\"compacted\")?!s.hasClass(\"compacted\")&&a||s.toggleClass(\"compacted\"):s.toggleClass(\"expanded\"),setTimeout((function(){48===i.pane.width()?s.addClass(\"js-compact\"):s.removeClass(\"js-compact\")}),200),!0},open:function(){this.pane.addClass(\"open\")},close:function(){this.pane.removeClass(\"open\")},toggle:function(){var e=this.pane;e.hasClass(\"open\")?e.removeClass(\"open\"):e.addClass(\"open\")},changeAttribute:function(e){},destroy:function(){var t=this.element;return this.options,t.off(b.events.click,\".pull-button, .holder\"),t.off(b.events.click,\".navview-menu li\"),t.off(b.events.click,\".navview-menu li > a\"),null!==this.paneToggle&&this.paneToggle.off(b.events.click),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"navview\",rt);var lt={container:null,width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:\"100vh\",animation:\"linear\",onClick:b.noop,onClose:b.noop,onShow:b.noop,onAppend:b.noop,onNotifyCreate:b.noop};b.notifySetup=function(t){lt=e.extend({},lt,t)},void 0!==typeof window.metroNotifySetup&&b.notifySetup(window.metroNotifySetup);var ct={container:null,options:{},notifies:[],setup:function(t){return this.options=e.extend({},lt,t),null===ct.container&&(ct.container=ct._createContainer()),this},reset:function(){var t={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:\"100vh\",animation:\"linear\"};this.options=e.extend({},lt,t)},_createContainer:function(){var t=e(\"<div>\").addClass(\"notify-container\");return e(\"body\").prepend(t),t},create:function(t,n,i){var s,a,o=this,r=this.options,l=H.elementId(\"notify\");if(H.isNull(i)&&(i={}),!H.isValue(t))return!1;(s=e(\"<div>\").addClass(\"notify\").attr(\"id\",l)).css({width:r.width}),n&&(a=e(\"<div>\").addClass(\"notify-title\").html(n),s.prepend(a)),e(\"<div>\").addClass(\"notify-message\").html(t).appendTo(s),void 0!==i&&(void 0!==i.cls&&s.addClass(i.cls),void 0!==i.width&&s.css({width:i.width})),s.on(b.events.click,(function(){H.exec(H.isValue(i.onClick)?i.onClick:r.onClick,null,this),o.kill(e(this).closest(\".notify\"),H.isValue(i.onClose)?i.onClose:r.onClose)})),null===ct.container&&(ct.container=ct._createContainer()),s.appendTo(ct.container),s.hide((function(){H.exec(H.isValue(i.onAppend)?i.onAppend:r.onAppend,null,s[0]),s.css({marginTop:H.isValue(i.distance)?i.distance:r.distance}).fadeIn(100,(function(){var e=H.isValue(i.duration)?i.duration:r.duration,t=H.isValue(i.animation)?i.animation:r.animation;s.animate({marginTop:4},e,t,(function(){H.exec(r.onNotifyCreate,null,this),void 0!==i&&!0===i.keepOpen||setTimeout((function(){o.kill(s,H.isValue(i.onClose)?i.onClose:r.onClose)}),r.timeout),H.exec(H.isValue(i.onShow)?i.onShow:r.onShow,null,s[0])}))}))}))},kill:function(e,t){var n=this,i=this.options;e.off(b.events.click),e.fadeOut(i.duration,\"linear\",(function(){H.exec(H.isValue(t)?t:n.options.onClose,null,e[0]),e.remove()}))},killAll:function(){var t=this,n=e(\".notify\");e.each(n,(function(){t.kill(e(this))}))}};b.notify=ct.setup();var dt=function(t){var n,i,s,a,o,r,l;if(n=e.extend({},{length:0,rows:0,current:0,target:\"body\",clsPagination:\"\",prevTitle:\"Prev\",nextTitle:\"Next\",distance:5},t),l=parseInt(n.distance),(s=e(n.target)).html(\"\"),i=e(\"<ul>\").addClass(\"pagination\").addClass(n.clsPagination).appendTo(s),0!==n.length&&-1!==n.rows){n.pages=Math.ceil(n.length/n.rows);var c=function(t,n,i){var s,a;return s=e(\"<li>\").addClass(\"page-item\").addClass(n),(a=e(\"<a>\").addClass(\"page-link\").html(t)).data(\"page\",i),a.appendTo(s),s};if(o=c(n.prevTitle,\"service prev-page\",\"prev\"),i.append(o),i.append(c(1,1===n.current?\"active\":\"\",1)),0===l||n.pages<=7)for(a=2;a<n.pages;a++)i.append(c(a,a===n.current?\"active\":\"\",a));else if(n.current<l){for(a=2;a<=l;a++)i.append(c(a,a===n.current?\"active\":\"\",a));n.pages>l&&i.append(c(\"...\",\"no-link\",null))}else if(n.current<=n.pages&&n.current>n.pages-l+1)for(n.pages>l&&i.append(c(\"...\",\"no-link\",null)),a=n.pages-l+1;a<n.pages;a++)i.append(c(a,a===n.current?\"active\":\"\",a));else i.append(c(\"...\",\"no-link\",null)),i.append(c(n.current-1,\"\",n.current-1)),i.append(c(n.current,\"active\",n.current)),i.append(c(n.current+1,\"\",n.current+1)),i.append(c(\"...\",\"no-link\",null));return(n.pages>1||n.current<n.pages)&&i.append(c(n.pages,n.current===n.pages?\"active\":\"\",n.pages)),r=c(n.nextTitle,\"service next-page\",\"next\"),i.append(r),1===n.current&&o.addClass(\"disabled\"),n.current===n.pages&&r.addClass(\"disabled\"),0===n.length&&(i.addClass(\"disabled\"),i.children().addClass(\"disabled\")),i}};b.pagination=dt;var ht={id:null,titleCaption:\"\",titleIcon:\"\",collapsible:!1,collapsed:!1,collapseDuration:METRO_ANIMATION_DURATION,width:\"auto\",height:\"auto\",draggable:!1,customButtons:null,clsCustomButton:\"\",clsPanel:\"\",clsTitle:\"\",clsTitleCaption:\"\",clsTitleIcon:\"\",clsContent:\"\",clsCollapseToggle:\"\",onCollapse:b.noop,onExpand:b.noop,onDragStart:b.noop,onDragStop:b.noop,onDragMove:b.noop,onPanelCreate:b.noop};b.panelSetup=function(t){ht=e.extend({},ht,t)},void 0!==typeof window.metroPanelSetup&&b.panelSetup(window.metroPanelSetup);var ut={init:function(t,n){return this.options=e.extend({},ht,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},dependencies:[\"draggable\",\"collapse\"],_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_addCustomButtons:function(t){var n,i=this.element,s=this.options,a=i.closest(\".panel\").find(\".panel-title\"),o=[];if(\"string\"==typeof t&&t.indexOf(\"{\")>-1)o=JSON.parse(t);else if(\"string\"==typeof t&&H.isObject(t))o=H.isObject(t);else{if(!(\"object\"==typeof t&&H.objectLength(t)>0))return void console.warn(\"Unknown format for custom buttons\",t);o=t}if(0!==a.length)return 0===(n=a.find(\".custom-buttons\")).length?n=e(\"<div>\").addClass(\"custom-buttons\").appendTo(a):(n.find(\".btn-custom\").off(b.events.click),n.html(\"\")),e.each(o,(function(){var t=e(\"<span>\");t.addClass(\"button btn-custom\").addClass(s.clsCustomButton).addClass(this.cls).attr(\"tabindex\",-1).html(this.html),t.data(\"action\",this.onclick),n.prepend(t)})),a.on(b.events.click,\".btn-custom\",(function(t){if(!H.isRightMouse(t)){var n=e(this),i=n.data(\"action\");H.exec(i,[n],this)}})),this;console.log(\"No place for custom buttons\")},_create:function(){var t,n,i=this.element,s=this.options,a=e(\"<div>\").addClass(\"panel\").addClass(s.clsPanel),o=s.id?s.id:H.elementId(\"panel\"),r=i[0].className;if(b.checkRuntime(i,\"panel\"),a.attr(\"id\",o).addClass(r),a.insertBefore(i),i.appendTo(a),i[0].className=\"\",i.addClass(\"panel-content\").addClass(s.clsContent).appendTo(a),\"\"!==s.titleCaption||\"\"!==s.titleIcon||!0===s.collapsible){if(t=e(\"<div>\").addClass(\"panel-title\").addClass(s.clsTitle),\"\"!==s.titleCaption&&e(\"<span>\").addClass(\"caption\").addClass(s.clsTitleCaption).html(s.titleCaption).appendTo(t),\"\"!==s.titleIcon&&e(s.titleIcon).addClass(\"icon\").addClass(s.clsTitleIcon).appendTo(t),!0===s.collapsible){var l=e(\"<span>\").addClass(\"dropdown-toggle marker-center active-toggle\").addClass(s.clsCollapseToggle).appendTo(t);b.makePlugin(i,\"collapse\",{toggleElement:l,duration:s.collapseDuration,onCollapse:s.onCollapse,onExpand:s.onExpand}),!0===s.collapsed&&this.collapse()}t.appendTo(a)}t&&H.isValue(s.customButtons)&&this._addCustomButtons(s.customButtons),!0===s.draggable&&(n=t?t.find(\".caption, .icon\"):a,b.makePlugin(a,\"draggable\",{dragElement:n,onDragStart:s.onDragStart,onDragStop:s.onDragStop,onDragMove:s.onDragMove})),\"auto\"!==s.width&&parseInt(s.width)>=0&&a.outerWidth(parseInt(s.width)),\"auto\"!==s.height&&parseInt(s.height)>=0&&(a.outerHeight(parseInt(s.height)),i.css({overflow:\"auto\"})),this.panel=a,H.exec(s.onPanelCreate,null,i[0]),i.fire(\"panelcreate\")},customButtons:function(e){return this._addCustomButtons(e)},collapse:function(){var e=this.element;!1!==H.isMetroObject(e,\"collapse\")&&b.getPlugin(e,\"collapse\").collapse()},expand:function(){var e=this.element;!1!==H.isMetroObject(e,\"collapse\")&&b.getPlugin(e,\"collapse\").expand()},changeAttribute:function(e){},destroy:function(){var e=this.element;return!0===o.collapsible&&b.getPlugin(e,\"collapse\").destroy(),!0===o.draggable&&b.getPlugin(e,\"draggable\").destroy(),e}};b.plugin(\"panel\",ut);var pt={popoverText:\"\",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:b.popoverEvents.HOVER,popoverPosition:b.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:\"\",clsPopoverContent:\"\",onPopoverShow:b.noop,onPopoverHide:b.noop,onPopoverCreate:b.noop};b.popoverSetup=function(t){pt=e.extend({},pt,t)},void 0!==typeof window.metroPopoverSetup&&b.popoverSetup(window.metroPopoverSetup);var ft={init:function(t,n){return this.options=e.extend({},pt,t),this.elem=n,this.element=e(n),this.popover=null,this.popovered=!1,this.size={width:0,height:0},this.id=H.elementId(\"popover\"),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){this._createEvents()},_createEvents:function(){var t,n=this,i=this.element,s=this.options;switch(s.popoverTrigger){case b.popoverEvents.CLICK:t=b.events.click;break;case b.popoverEvents.FOCUS:t=b.events.focus;break;default:t=b.events.enter}i.on(t,(function(){null===n.popover&&!0!==n.popovered&&setTimeout((function(){n.createPopover(),H.exec(s.onPopoverShow,[n.popover],i[0]),i.fire(\"popovershow\",{popover:n.popover}),s.popoverHide>0&&setTimeout((function(){n.removePopover()}),s.popoverHide)}),s.popoverTimeout)})),!0===s.hideOnLeave&&i.on(b.events.leave,(function(){n.removePopover()})),e(window).on(b.events.scroll,(function(){null!==n.popover&&n.setPosition()}),{ns:this.id})},setPosition:function(){var t=this.popover,n=this.size,i=this.options,s=this.element;i.popoverPosition===b.position.BOTTOM?(t.addClass(\"bottom\"),t.css({top:s.offset().top-e(window).scrollTop()+s.outerHeight()+i.popoverOffset,left:s.offset().left+s.outerWidth()/2-n.width/2-e(window).scrollLeft()})):i.popoverPosition===b.position.RIGHT?(t.addClass(\"right\"),t.css({top:s.offset().top+s.outerHeight()/2-n.height/2-e(window).scrollTop(),left:s.offset().left+s.outerWidth()-e(window).scrollLeft()+i.popoverOffset})):i.popoverPosition===b.position.LEFT?(t.addClass(\"left\"),t.css({top:s.offset().top+s.outerHeight()/2-n.height/2-e(window).scrollTop(),left:s.offset().left-n.width-e(window).scrollLeft()-i.popoverOffset})):(t.addClass(\"top\"),t.css({top:s.offset().top-e(window).scrollTop()-n.height-i.popoverOffset,left:s.offset().left+s.outerWidth()/2-n.width/2-e(window).scrollLeft()}))},createPopover:function(){var t,n,i=this,s=this.elem,a=this.element,o=this.options,r=H.elementId(\"popover\");if(!this.popovered){switch((t=e(\"<div>\").addClass(\"popover neb\").addClass(o.clsPopover)).attr(\"id\",r),e(\"<div>\").addClass(\"popover-content\").addClass(o.clsPopoverContent).html(o.popoverText).appendTo(t),0===o.popoverHide&&!0===o.closeButton&&e(\"<button>\").addClass(\"button square small popover-close-button bg-white\").html(\"&times;\").appendTo(t).on(b.events.click,(function(){i.removePopover()})),o.popoverPosition){case b.position.TOP:n=\"neb-s\";break;case b.position.BOTTOM:n=\"neb-n\";break;case b.position.RIGHT:n=\"neb-w\";break;case b.position.LEFT:n=\"neb-e\"}if(t.addClass(n),!0!==o.closeButton&&t.on(b.events.click,(function(){i.removePopover()})),this.popover=t,this.size=H.hiddenElementSize(t),\"TD\"===s.tagName||\"TH\"===s.tagName){var l=e(\"<div/>\").css(\"display\",\"inline-block\").html(a.html());a.html(l),a=l}this.setPosition(),t.appendTo(e(\"body\")),this.popovered=!0,H.exec(o.onPopoverCreate,[t],a[0]),a.fire(\"popovercreate\",{popover:t})}},removePopover:function(){var e=this,t=this.element,n=this.options.onPopoverHide===b.noop?0:300,i=this.popover;this.popovered&&(H.exec(this.options.onPopoverHide,[i],this.elem),t.fire(\"popoverhide\",{popover:i}),setTimeout((function(){i.hide(0,(function(){i.remove(),e.popover=null,e.popovered=!1}))}),n))},show:function(){var e=this,t=this.element,n=this.options;!0!==this.popovered&&setTimeout((function(){e.createPopover(),H.exec(n.onPopoverShow,[e.popover],t[0]),t.fire(\"popovershow\",{popover:e.popover}),n.popoverHide>0&&setTimeout((function(){e.removePopover()}),n.popoverHide)}),n.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(e){var t=this,n=this.element,i=this.options;switch(e){case\"data-popover-text\":i.popoverText=n.attr(\"data-popover-text\"),t.popover&&(t.popover.find(\".popover-content\").html(i.popoverText),t.setPosition());break;case\"data-popover-position\":i.popoverPosition=n.attr(\"data-popover-position\"),t.setPosition()}},destroy:function(){var t,n=this.element,i=this.options;switch(i.popoverTrigger){case b.popoverEvents.CLICK:t=b.events.click;break;case b.popoverEvents.FOCUS:t=b.events.focus;break;default:t=b.events.enter}return n.off(t),!0===i.hideOnLeave&&n.off(b.events.leave),e(window).off(b.events.scroll,{ns:this.id}),n}};b.plugin(\"popover\",ft);var mt={showValue:!1,valuePosition:\"free\",showLabel:!1,labelPosition:\"before\",labelTemplate:\"\",value:0,buffer:0,type:\"bar\",small:!1,clsBack:\"\",clsBar:\"\",clsBuffer:\"\",clsValue:\"\",clsLabel:\"\",onValueChange:b.noop,onBufferChange:b.noop,onComplete:b.noop,onBuffered:b.noop,onProgressCreate:b.noop};b.progressSetup=function(t){mt=e.extend({},mt,t)},void 0!==typeof window.metroProgressSetup&&b.progressSetup(window.metroProgressSetup);var vt={init:function(t,n){return this.options=e.extend({},mt,t),this.elem=n,this.element=e(n),this.value=0,this.buffer=0,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t,n=this.element,i=this.options;switch(b.checkRuntime(n,\"progress\"),\"string\"==typeof i.type&&(i.type=i.type.toLowerCase()),n.html(\"\").addClass(\"progress\"),i.type){case\"buffer\":e(\"<div>\").addClass(\"bar\").appendTo(n),e(\"<div>\").addClass(\"buffer\").appendTo(n);break;case\"load\":n.addClass(\"with-load\"),e(\"<div>\").addClass(\"bar\").appendTo(n),e(\"<div>\").addClass(\"buffer\").appendTo(n),e(\"<div>\").addClass(\"load\").appendTo(n);break;case\"line\":n.addClass(\"line\");break;default:e(\"<div>\").addClass(\"bar\").appendTo(n)}if(\"line\"!==i.type&&(t=e(\"<span>\").addClass(\"value\").addClass(i.clsValue).appendTo(n),\"center\"===i.valuePosition&&t.addClass(\"centered\"),!1===i.showValue&&t.hide()),!0===i.small&&n.addClass(\"small\"),n.addClass(i.clsBack),n.find(\".bar\").addClass(i.clsBar),n.find(\".buffer\").addClass(i.clsBuffer),!0===i.showLabel){var s=e(\"<span>\").addClass(\"progress-label\").addClass(i.clsLabel).html(\"\"===i.labelTemplate?i.value+\"%\":i.labelTemplate.replace(\"%VAL%\",i.value));\"before\"===i.labelPosition?s.insertBefore(n):s.insertAfter(n)}this.val(i.value),this.buff(i.buffer),H.exec(i.onProgressCreate,null,n[0]),n.fire(\"progresscreate\")},val:function(e){var t=this.element,n=this.options,i=t.find(\".value\");if(void 0===e)return this.value;var s=t.find(\".bar\");if(0===s.length)return!1;this.value=parseInt(e,10),s.css(\"width\",this.value+\"%\"),i.html(this.value+\"%\");var a=t.width()-s.width(),o=i.width()>a?{left:\"auto\",right:a+\"px\"}:{left:e+\"%\"};if(\"free\"===n.valuePosition&&i.css(o),!0===n.showLabel){var r=t[\"before\"===n.labelPosition?\"prev\":\"next\"](\".progress-label\");r.length&&r.html(\"\"===n.labelTemplate?n.value+\"%\":n.labelTemplate.replace(\"%VAL%\",n.value))}H.exec(n.onValueChange,[this.value],t[0]),t.fire(\"valuechange\",{vsl:this.value}),100===this.value&&(H.exec(n.onComplete,[this.value],t[0]),t.fire(\"complete\",{val:this.value}))},buff:function(e){var t=this.element,n=this.options;if(void 0===e)return this.buffer;var i=t.find(\".buffer\");if(0===i.length)return!1;this.buffer=parseInt(e,10),i.css(\"width\",this.buffer+\"%\"),H.exec(n.onBufferChange,[this.buffer],t[0]),t.fire(\"bufferchange\",{val:this.buffer}),100===this.buffer&&(H.exec(n.onBuffered,[this.buffer],t[0]),t.fire(\"buffered\",{val:this.buffer}))},changeValue:function(){this.val(this.element.attr(\"data-value\"))},changeBuffer:function(){this.buff(this.element.attr(\"data-buffer\"))},changeAttribute:function(e){switch(e){case\"data-value\":this.changeValue();break;case\"data-buffer\":this.changeBuffer()}},destroy:function(){return this.element}};b.plugin(\"progress\",vt);var gt={transition:!0,style:1,caption:\"\",captionPosition:\"right\",clsRadio:\"\",clsCheck:\"\",clsCaption:\"\",onRadioCreate:b.noop};b.radioSetup=function(t){gt=e.extend({},gt,t)},void 0!==typeof window.metroRadioSetup&&b.radioSetup(window.metroRadioSetup);var Ct={init:function(t,n){return this.options=e.extend({},gt,t),this.elem=n,this.element=e(n),this.origin={className:\"\"},this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options,i=e(\"<label>\").addClass(\"radio \"+t[0].className).addClass(2===n.style?\"style2\":\"\"),s=e(\"<span>\").addClass(\"check\"),a=e(\"<span>\").addClass(\"caption\").html(n.caption);b.checkRuntime(t,\"radio\"),t.attr(\"type\",\"radio\"),i.insertBefore(t),t.appendTo(i),s.appendTo(i),a.appendTo(i),!0===n.transition&&i.addClass(\"transition-on\"),\"left\"===n.captionPosition&&i.addClass(\"caption-left\"),this.origin.className=t[0].className,t[0].className=\"\",i.addClass(n.clsRadio),a.addClass(n.clsCaption),s.addClass(n.clsCheck),t.is(\":disabled\")?this.disable():this.enable(),H.exec(n.onRadioCreate,null,t[0]),t.fire(\"radiocreate\")},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,n=this.element,i=this.options,s=n.parent();switch(e){case\"disabled\":this.toggleState();break;case\"data-style\":t=parseInt(n.attr(\"data-style\")),H.isInt(t)&&(i.style=t,s.removeClass(\"style1 style2\").addClass(\"style\"+t))}},destroy:function(){return this.element}};b.plugin(\"radio\",Ct);var bt={static:!1,title:null,value:0,values:null,message:\"\",stars:5,starColor:null,staredColor:null,roundFunc:\"round\",half:!0,clsRating:\"\",clsTitle:\"\",clsStars:\"\",clsResult:\"\",onStarClick:b.noop,onRatingCreate:b.noop};b.ratingSetup=function(t){bt=e.extend({},bt,t)},void 0!==typeof window.metroRatingSetup&&b.ratingSetup(window.metroRatingSetup);var wt={init:function(t,n){return this.options=e.extend({},bt,t),this.elem=n,this.element=e(n),this.value=0,this.originValue=0,this.values=[],this.rate=0,this.rating=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e,t=this.element,n=this.options;if(b.checkRuntime(t,\"rating\"),isNaN(n.value)?n.value=0:n.value=parseFloat(n.value).toFixed(1),null!==n.values)Array.isArray(n.values)?this.values=n.values:\"string\"==typeof n.values&&(this.values=H.strToArray(n.values));else for(e=1;e<=n.stars;e++)this.values.push(e);this.originValue=n.value,this.value=n.value>0?Math[n.roundFunc](n.value):0,null!==n.starColor&&(H.isColor(n.starColor)||(n.starColor=T.color(n.starColor))),null!==n.staredColor&&(H.isColor(n.staredColor)||(n.staredColor=T.color(n.staredColor))),this._createRating(),this._createEvents(),H.exec(n.onRatingCreate,null,t[0]),t.fire(\"ratingcreate\")},_createRating:function(){var t,n,i,s=this.element,a=this.options,o=H.elementId(\"rating\"),r=e(\"<div>\").addClass(\"rating \"+String(s[0].className).replace(\"d-block\",\"d-flex\")).addClass(a.clsRating),l=b.sheet,c=a.static?Math.floor(this.originValue):this.value;for(s.val(this.value),r.attr(\"id\",o),r.insertBefore(s),s.appendTo(r),n=e(\"<ul>\").addClass(\"stars\").addClass(a.clsStars).appendTo(r),t=1;t<=a.stars;t++)i=e(\"<li>\").data(\"value\",this.values[t-1]).appendTo(n),t<=c&&i.addClass(\"on\");if(e(\"<span>\").addClass(\"result\").addClass(a.clsResult).appendTo(r).html(a.message),null!==a.starColor&&H.addCssRule(l,\"#\"+o+\" .stars:hover li\",\"color: \"+a.starColor+\";\"),null!==a.staredColor&&(H.addCssRule(l,\"#\"+o+\" .stars li.on\",\"color: \"+a.staredColor+\";\"),H.addCssRule(l,\"#\"+o+\" .stars li.half::after\",\"color: \"+a.staredColor+\";\")),null!==a.title){var d=e(\"<span>\").addClass(\"title\").addClass(a.clsTitle).html(a.title);r.prepend(d)}if(!0===a.static&&(r.addClass(\"static\"),!0===a.half)){var h=Math.round(this.originValue%1*10);h>0&&h<=9&&r.find(\".stars li.on\").last().next(\"li\").addClass(\"half half-\"+10*h)}if(s[0].className=\"\",!0===a.copyInlineStyles)for(t=0;t<s[0].style.length;t++)r.css(s[0].style[t],s.css(s[0].style[t]));s.is(\":disabled\")?this.disable():this.enable(),this.rating=r},_createEvents:function(){var t=this.element,n=this.options;this.rating.on(b.events.click,\".stars li\",(function(){if(!0!==n.static){var i=e(this),s=i.data(\"value\");i.addClass(\"scale\"),setTimeout((function(){i.removeClass(\"scale\")}),300),t.val(s).trigger(\"change\"),i.addClass(\"on\"),i.prevAll().addClass(\"on\"),i.nextAll().removeClass(\"on\"),H.exec(n.onStarClick,[s,i[0]],t[0]),t.fire(\"starclick\",{value:s,star:i[0]})}}))},val:function(t){var n=this,i=this.element,s=this.options,a=this.rating;if(void 0===t)return this.value;this.value=t>0?Math[s.roundFunc](t):0,i.val(this.value).trigger(\"change\");var o=a.find(\".stars li\").removeClass(\"on\");return e.each(o,(function(){var t=e(this);t.data(\"value\")<=n.value&&t.addClass(\"on\")})),this},msg:function(e){var t=this.rating;if(void 0!==e)return t.find(\".result\").html(e),this},static:function(e){var t=this.options,n=this.rating;t.static=e,!0===e?n.addClass(\"static\"):n.removeClass(\"static\")},changeAttributeValue:function(e){var t=this.element,n=\"value\"===e?t.val():t.attr(\"data-value\");this.val(n)},changeAttributeMessage:function(){var e=this.element.attr(\"data-message\");this.msg(e)},changeAttributeStatic:function(){var e=this.element,t=!0===JSON.parse(e.attr(\"data-static\"));this.static(t)},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case\"value\":case\"data-value\":this.changeAttributeValue(e);break;case\"disabled\":this.toggleState();break;case\"data-message\":this.changeAttributeMessage();break;case\"data-static\":this.changeAttributeStatic()}},destroy:function(){var e=this.element;return this.rating.off(b.events.click,\".stars li\"),e}};b.plugin(\"rating\",wt);var yt={canResize:!0,resizeElement:\".resize-element\",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:b.noop,onResizeStop:b.noop,onResize:b.noop,onResizableCreate:b.noop};b.resizeableSetup=function(t){yt=e.extend({},yt,t)},void 0!==typeof window.metroResizeableSetup&&b.resizeableSetup(window.metroResizeableSetup);var xt={init:function(t,n){return this.options=e.extend({},yt,t),this.elem=n,this.element=e(n),this.resizer=null,this.id=H.elementId(\"resizeable\"),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"resizeable\"),this._createStructure(),this._createEvents(),H.exec(t.onResizableCreate,null,e[0]),e.fire(\"resizeablecreate\")},_createStructure:function(){var t=this.element,n=this.options;t.data(\"canResize\",!0),t.addClass(\"resizeable-element\"),H.isValue(n.resizeElement)&&t.find(n.resizeElement).length>0?this.resizer=t.find(n.resizeElement):this.resizer=e(\"<span>\").addClass(\"resize-element\").appendTo(t),t.data(\"canResize\",n.canResize)},_createEvents:function(){var t=this,n=this.element,i=this.options;this.resizer.on(b.events.start,(function(s){if(!1!==n.data(\"canResize\")){var a=H.pageXY(s),o=parseInt(n.outerWidth()),r=parseInt(n.outerHeight()),l={width:o,height:r};n.addClass(\"stop-select stop-pointer\"),H.exec(i.onResizeStart,[l],n[0]),n.fire(\"resizestart\",{size:l}),e(document).on(b.events.move,(function(e){var t=H.pageXY(e),s={width:o+t.x-a.x,height:r+t.y-a.y};return i.maxWidth>0&&s.width>i.maxWidth||i.minWidth>0&&s.width<i.minWidth||i.maxHeight>0&&s.height>i.maxHeight||i.minHeight>0&&s.height<i.minHeight||(n.css(s),H.exec(i.onResize,[s],n[0]),void n.fire(\"resize\",{size:s}))}),{ns:t.id}),e(document).on(b.events.stop,(function(){n.removeClass(\"stop-select stop-pointer\"),e(document).off(b.events.move,{ns:t.id}),e(document).off(b.events.stop,{ns:t.id});var s={width:parseInt(n.outerWidth()),height:parseInt(n.outerHeight())};H.exec(i.onResizeStop,[s],n[0]),n.fire(\"resizestop\",{size:s})}),{ns:t.id}),s.preventDefault(),s.stopPropagation()}}))},off:function(){this.element.data(\"canResize\",!1)},on:function(){this.element.data(\"canResize\",!0)},changeAttribute:function(e){var t=this.element,n=this.options;switch(e){case\"data-can-resize\":n.canResize=!0===JSON.parse(t.attr(\"data-can-resize\"))}},destroy:function(){return this.resizer.off(b.events.start),this.element}};b.plugin(\"resizable\",xt);var St={onStatic:b.noop,onBeforeTab:b.noop_true,onTab:b.noop,onRibbonMenuCreate:b.noop};b.ribbonMenuSetup=function(t){St=e.extend({},St,t)},void 0!==typeof window.metroRibbonMenuSetup&&b.ribbonMenuSetup(window.metroRibbonMenuSetup);var Tt={init:function(t,n){return this.options=e.extend({},St,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},dependencies:[\"buttongroup\"],_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"ribbonmenu\"),this._createStructure(),this._createEvents(),H.exec(t.onRibbonMenuCreate,null,e[0]),e.fire(\"ribbonmenucreate\")},_createStructure:function(){var t=this.element;t.addClass(\"ribbon-menu\");var n=t.find(\".tabs-holder li:not(.static)\"),i=t.find(\".tabs-holder li.active\");i.length>0?this.open(e(i[0])):n.length>0&&this.open(e(n[0]));var s=t.find(\".ribbon-toggle-group\");e.each(s,(function(){var t=e(this);t.buttongroup({clsActive:\"active\"});var n=0,i=t.find(\".ribbon-icon-button\");e.each(i,(function(){var t=e(this).outerWidth(!0);t>n&&(n=t)})),t.css(\"width\",n*Math.ceil(i.length/3)+4)}))},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".tabs-holder li a\",(function(s){var a=e(this),o=e(this).parent(\"li\");o.hasClass(\"static\")?i.onStatic===b.noop&&void 0!==a.attr(\"href\")?document.location.href=a.attr(\"href\"):(H.exec(i.onStatic,[o[0]],n[0]),n.fire(\"static\",{tab:o[0]})):!0===H.exec(i.onBeforeTab,[o[0]],n[0])&&t.open(o[0]),s.preventDefault()}))},open:function(t){var n=this.element,i=this.options,s=e(t),a=n.find(\".tabs-holder li\"),o=n.find(\".content-holder .section\"),r=s.children(\"a\").attr(\"href\"),l=\"#\"!==r?n.find(r):null;a.removeClass(\"active\"),s.addClass(\"active\"),o.removeClass(\"active\"),l&&l.addClass(\"active\"),H.exec(i.onTab,[s[0]],n[0]),n.fire(\"tab\",{tab:s[0]})},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.click,\".tabs-holder li a\"),e}};b.plugin(\"ribbonmenu\",Tt);var kt={rippleColor:\"#fff\",rippleAlpha:.4,rippleTarget:\"default\",onRippleCreate:b.noop};b.rippleSetup=function(t){kt=e.extend({},kt,t)},void 0!==typeof window.metroRippleSetup&&b.rippleSetup(window.metroRippleSetup);var _t={init:function(t,n){return this.options=e.extend({},kt,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options,i=\"default\"===n.rippleTarget?null:n.rippleTarget;b.checkRuntime(t,\"ripple\"),t.on(b.events.click,i,(function(t){var i=e(this);\"static\"===i.css(\"position\")&&i.css(\"position\",\"relative\"),i.css({overflow:\"hidden\"}),e(\".ripple\").remove();var s=Math.max(i.outerWidth(),i.outerHeight()),a=e(\"<span class='ripple'></span>\").css({width:s,height:s});i.prepend(a);var o=t.pageX-i.offset().left-a.width()/2,r=t.pageY-i.offset().top-a.height()/2;a.css({background:H.hex2rgba(n.rippleColor,n.rippleAlpha),width:s,height:s,top:r+\"px\",left:o+\"px\"}).addClass(\"rippleEffect\"),setTimeout((function(){e(\".ripple\").remove()}),400)})),H.exec(n.onRippleCreate,null,t[0]),t.fire(\"ripplecreate\")},changeAttribute:function(e){},destroy:function(){var e=this.element,t=this.options,n=\"default\"===t.rippleTarget?null:t.rippleTarget;e.off(b.events.click,n)}};b.plugin(\"ripple\",_t);var Ot={clearButton:!1,clearButtonIcon:\"<span class='default-icon-cross'></span>\",placeholder:\"\",addEmptyValue:!1,emptyValue:\"\",duration:100,prepend:\"\",append:\"\",filterPlaceholder:\"\",filter:!0,copyInlineStyles:!0,dropHeight:200,clsSelect:\"\",clsSelectInput:\"\",clsPrepend:\"\",clsAppend:\"\",clsOption:\"\",clsOptionActive:\"\",clsOptionGroup:\"\",clsDropList:\"\",clsSelectedItem:\"\",clsSelectedItemRemover:\"\",onChange:b.noop,onUp:b.noop,onDrop:b.noop,onItemSelect:b.noop,onItemDeselect:b.noop,onSelectCreate:b.noop};b.selectSetup=function(t){Ot=e.extend({},Ot,t)},void 0!==typeof window.metroSelectSetup&&b.selectSetup(window.metroSelectSetup);var It={init:function(t,n){return this.options=e.extend({},Ot,t),this.elem=n,this.element=e(n),this.list=null,this.placeholder=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"select\"),this._createSelect(),this._createEvents(),H.exec(t.onSelectCreate,null,e[0]),e.fire(\"selectcreate\")},_setPlaceholder:function(){var e=this.element,t=this.options,n=e.siblings(\".select-input\");H.isValue(e.val())&&e.val()!=t.emptyValue||n.html(this.placeholder)},_addOption:function(t,n){var i,s,a,o=e(t),r=this.element,l=this.options,c=r[0].multiple,d=r.siblings(\".select-input\"),h=H.isValue(o.attr(\"data-template\"))?o.attr(\"data-template\").replace(\"$1\",t.text):t.text;i=e(\"<li>\").addClass(l.clsOption).data(\"option\",t).attr(\"data-text\",t.text).attr(\"data-value\",H.isValue(t.value)?t.value:t.text).appendTo(n),s=e(\"<a>\").html(h).appendTo(i),i.addClass(t.className),o.is(\":disabled\")&&i.addClass(\"disabled\"),o.is(\":selected\")&&(c?(i.addClass(\"d-none\"),(a=e(\"<div>\").addClass(\"selected-item\").addClass(l.clsSelectedItem).html(\"<span class='title'>\"+h+\"</span>\").appendTo(d)).data(\"option\",i),e(\"<span>\").addClass(\"remover\").addClass(l.clsSelectedItemRemover).html(\"&times;\").appendTo(a)):(r.val(t.value),d.html(h),r.fire(\"change\",{val:t.value}),i.addClass(\"active\"))),s.appendTo(i),i.appendTo(n)},_addOptionGroup:function(t,n){var i=this,s=e(t);e(\"<li>\").html(t.label).addClass(\"group-title\").appendTo(n),e.each(s.children(),(function(){i._addOption(this,n)}))},_createOptions:function(){var t=this,n=this.element,i=this.options,s=n.parent().find(\"ul\").html(\"\"),a=n.find(\"option[selected]\").length>0;!0===i.addEmptyValue&&n.prepend(e(\"<option \"+(a?\"\":\"selected\")+\" value='\"+i.emptyValue+\"' class='d-none'></option>\")),e.each(n.children(),(function(){\"OPTION\"===this.tagName?t._addOption(this,s):\"OPTGROUP\"===this.tagName&&t._addOptionGroup(this,s)}))},_createSelect:function(){var t,n,i,s,a,o=this.element,r=this.options,l=e(\"<label>\").addClass(\"select \"+o[0].className).addClass(r.clsSelect),c=o[0].multiple,d=H.elementId(\"select\"),h=e(\"<div>\").addClass(\"button-group\");if(this.placeholder=e(\"<span>\").addClass(\"placeholder\").html(r.placeholder),l.attr(\"id\",d),(a=e(\"<span>\").addClass(\"dropdown-toggle\")).appendTo(l),c&&l.addClass(\"multiple\"),l.insertBefore(o),o.appendTo(l),h.appendTo(l),t=e(\"<div>\").addClass(\"select-input\").addClass(r.clsSelectInput).attr(\"name\",\"__\"+d+\"__\"),n=e(\"<div>\").addClass(\"drop-container\"),i=e(\"<ul>\").addClass(\"\"===r.clsDropList?\"d-menu\":r.clsDropList).css({\"max-height\":r.dropHeight}),s=e(\"<input type='text' data-role='input'>\").attr(\"placeholder\",r.filterPlaceholder),l.append(t),l.append(n),n.append(s),!0!==r.filter&&s.hide(),n.append(i),this._createOptions(),this._setPlaceholder(),b.makePlugin(n,\"dropdown\",{dropFilter:\".select\",duration:r.duration,toggleElement:[l],onDrop:function(){var t,l;a.addClass(\"active-toggle\"),t=e(\".select .drop-container\"),e.each(t,(function(){var t=e(this);if(!t.is(n)){var i=t.data(\"dropdown\");i&&i.close&&i.close()}})),s.val(\"\").trigger(b.events.keyup).focus(),void 0!==(l=i.find(\"li.active\").length>0?e(i.find(\"li.active\")[0]):void 0)&&(i[0].scrollTop=l.position().top-(i.height()-l.height())/2),H.exec(r.onDrop,[i[0]],o[0]),o.fire(\"drop\",{list:i[0]})},onUp:function(){a.removeClass(\"active-toggle\"),H.exec(r.onUp,[i[0]],o[0]),o.fire(\"up\",{list:i[0]})}}),this.list=i,!0!==r.clearButton||o[0].readOnly?h.addClass(\"d-none\"):e(\"<button>\").addClass(\"button input-clear-button\").addClass(r.clsClearButton).attr(\"tabindex\",-1).attr(\"type\",\"button\").html(r.clearButtonIcon).appendTo(h),\"\"!==r.prepend&&e(\"<div>\").html(r.prepend).addClass(\"prepend\").addClass(r.clsPrepend).appendTo(l),\"\"!==r.append&&e(\"<div>\").html(r.append).addClass(\"append\").addClass(r.clsAppend).appendTo(l),!0===r.copyInlineStyles)for(var u=0,p=o[0].style.length;u<p;u++)l.css(o[0].style[u],o.css(o[0].style[u]));\"rtl\"===o.attr(\"dir\")&&l.addClass(\"rtl\").attr(\"dir\",\"rtl\"),o.is(\":disabled\")?this.disable():this.enable()},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.closest(\".select\"),a=s.find(\".drop-container\"),o=n.siblings(\".select-input\"),r=a.find(\"input\"),l=a.find(\"ul\");s.find(\".input-clear-button\").on(b.events.click,(function(e){n.val(i.emptyValue),n[0].multiple&&l.find(\"li\").removeClass(\"d-none\"),t._setPlaceholder(),e.preventDefault(),e.stopPropagation()})),n.on(b.events.change,(function(){t._setPlaceholder()})),s.on(b.events.click,(function(t){e(\".focused\").removeClass(\"focused\"),s.addClass(\"focused\")})),o.on(b.events.click,(function(){e(\".focused\").removeClass(\"focused\"),s.addClass(\"focused\")})),l.on(b.events.click,\"li\",(function(s){if(e(this).hasClass(\"group-title\"))return s.preventDefault(),void s.stopPropagation();var r,c,d=e(this),h=d.data(\"value\"),u=d.children(\"a\").html(),p=d.data(\"option\"),f=n.find(\"option\");n[0].multiple?(d.addClass(\"d-none\"),(r=e(\"<div>\").addClass(\"selected-item\").addClass(i.clsSelectedItem).html(\"<span class='title'>\"+u+\"</span>\").appendTo(o)).data(\"option\",d),e(\"<span>\").addClass(\"remover\").addClass(i.clsSelectedItemRemover).html(\"&times;\").appendTo(r)):(l.find(\"li.active\").removeClass(\"active\").removeClass(i.clsOptionActive),d.addClass(\"active\").addClass(i.clsOptionActive),o.html(u),b.getPlugin(a[0],\"dropdown\").close()),e.each(f,(function(){this===p&&(this.selected=!0)})),H.exec(i.onItemSelect,[h,p,d[0]],n[0]),n.fire(\"itemselect\",{val:h,option:p,leaf:d[0]}),c=t.getSelected(),H.exec(i.onChange,[c],n[0]),n.fire(\"change\",{selected:c})})),o.on(\"click\",\".selected-item .remover\",(function(s){var a,o=e(this).closest(\".selected-item\"),r=o.data(\"option\"),l=r.data(\"option\");r.removeClass(\"d-none\"),e.each(n.find(\"option\"),(function(){this===l&&(this.selected=!1)})),o.remove(),H.exec(i.onItemDeselect,[l],n[0]),n.fire(\"itemdeselect\",{option:l}),a=t.getSelected(),H.exec(i.onChange,[a],n[0]),n.fire(\"change\",{selected:a}),s.preventDefault(),s.stopPropagation()})),r.on(b.events.keyup,(function(){var t,n=this.value.toUpperCase(),i=l.find(\"li\");for(t=0;t<i.length;t++)e(i[t]).hasClass(\"group-title\")||(i[t].getElementsByTagName(\"a\")[0].innerHTML.toUpperCase().indexOf(n)>-1?i[t].style.display=\"\":i[t].style.display=\"none\")})),r.on(b.events.click,(function(e){e.preventDefault(),e.stopPropagation()})),a.on(b.events.click,(function(e){e.preventDefault(),e.stopPropagation()}))},disable:function(){this.element.data(\"disabled\",!0),this.element.closest(\".select\").addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.closest(\".select\").removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(t){var n,i=this.element,s=this.options,a=i.find(\"option\"),o=i.closest(\".select\");e.each(a,(function(){this.selected=!H.isNull(t)&&this.defaultSelected})),this.list.find(\"li\").remove(),o.find(\".select-input\").html(\"\"),this._createOptions(),n=this.getSelected(),H.exec(s.onChange,[n],i[0]),i.fire(\"change\",{selected:n})},getSelected:function(){var e=this.element,t=[];return e.find(\"option\").each((function(){this.selected&&t.push(this.value)})),t},val:function(t){var n,i,s,a,o,r,l=this.element,c=this.options,d=l.siblings(\".select-input\"),h=l.find(\"option\"),u=this.list.find(\"li\"),p=[],f=void 0!==l.attr(\"multiple\");if(H.isNull(t))return e.each(h,(function(){this.selected&&p.push(this.value)})),f?p:p[0];e.each(h,(function(){this.selected=!1})),u.removeClass(\"active\"),d.html(\"\"),!1===Array.isArray(t)&&(t=[t]),e.each(t,(function(){for(i=0;i<h.length;i++)if(n=h[i],s=H.isValue(n.getAttribute(\"data-template\"))?n.getAttribute(\"data-template\").replace(\"$1\",n.text):n.text,\"\"+n.value==\"\"+this){n.selected=!0;break}for(i=0;i<u.length;i++)if(\"\"+(a=e(u[i])).attr(\"data-value\")==\"\"+this){f?(a.addClass(\"d-none\"),(o=e(\"<div>\").addClass(\"selected-item\").addClass(c.clsSelectedItem).html(\"<span class='title'>\"+s+\"</span>\").appendTo(d)).data(\"option\",a),e(\"<span>\").addClass(\"remover\").addClass(c.clsSelectedItemRemover).html(\"&times;\").appendTo(o)):(a.addClass(\"active\"),d.html(s));break}})),r=this.getSelected(),H.exec(c.onChange,[r],l[0]),l.fire(\"change\",{selected:r})},data:function(t){var n,i=this.element;i.html(\"\"),\"string\"==typeof t?i.html(t):H.isObject(t)&&e.each(t,(function(t,s){H.isObject(s)?(n=e(\"<optgroup label=''>\").attr(\"label\",t).appendTo(i),e.each(s,(function(t,i){e(\"<option>\").attr(\"value\",t).text(i).appendTo(n)}))):e(\"<option>\").attr(\"value\",t).text(s).appendTo(i)})),this._createOptions()},changeAttribute:function(e){\"disabled\"===e&&this.toggleState()},destroy:function(){var e=this.element,t=e.closest(\".select\"),n=t.find(\".drop-container\"),i=e.siblings(\".select-input\"),s=n.find(\"input\"),a=n.find(\"ul\"),o=t.find(\".input-clear-button\");return t.off(b.events.click),t.off(b.events.click,\".input-clear-button\"),i.off(b.events.click),s.off(b.events.blur),s.off(b.events.focus),a.off(b.events.click,\"li\"),s.off(b.events.keyup),n.off(b.events.click),o.off(b.events.click),n.data(\"dropdown\").destroy(),e}};e(document).on(b.events.click,(function(){e(\".select\").removeClass(\"focused\")}),{ns:\"blur-select-elements\"}),b.plugin(\"select\",It);var Mt={shadow:!0,position:\"left\",size:290,shift:null,staticShift:null,toggle:null,duration:METRO_ANIMATION_DURATION,static:null,menuItemClick:!0,onOpen:b.noop,onClose:b.noop,onToggle:b.noop,onStaticSet:b.noop,onStaticLoss:b.noop,onSidebarCreate:b.noop};b.sidebarSetup=function(t){Mt=e.extend({},Mt,t)},void 0!==typeof window.metroSidebarSetup&&b.sidebarSetup(window.metroSidebarSetup);var Dt={init:function(t,n){return this.options=e.extend({},Mt,t),this.elem=n,this.element=e(n),this.toggle_element=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options;b.checkRuntime(t,\"sidebar\"),this._createStructure(),this._createEvents(),e(window).resize(),this._checkStatic(),H.exec(n.onSidebarCreate,null,t[0]),t.fire(\"sidebarcreate\")},_createStructure:function(){var t=this.element,n=this.options,i=t.find(\".sidebar-header\"),s=b.sheet;t.addClass(\"sidebar\").addClass(\"on-\"+n.position),290!==n.size&&(H.addCssRule(s,\".sidebar\",\"width: \"+n.size+\"px;\"),\"left\"===n.position?H.addCssRule(s,\".sidebar.on-left\",\"left: \"+-n.size+\"px;\"):H.addCssRule(s,\".sidebar.on-right\",\"right: \"+-n.size+\"px;\")),!0===n.shadow&&t.addClass(\"sidebar-shadow\"),void 0===t.attr(\"id\")&&t.attr(\"id\",H.elementId(\"sidebar\")),null!==n.toggle&&e(n.toggle).length>0&&(this.toggle_element=e(n.toggle)),i.length>0&&void 0!==i.data(\"image\")&&i.css({backgroundImage:\"url(\"+i.data(\"image\")+\")\"}),null!==n.static&&null!==n.staticShift&&(\"left\"===n.position?H.addCssRule(s,\"@media screen and \"+b.media_queries[n.static.toUpperCase()],n.staticShift+\"{margin-left: \"+n.size+\"px; width: calc(100% - \"+n.size+\"px);}\"):H.addCssRule(s,\"@media screen and \"+b.media_queries[n.static.toUpperCase()],n.staticShift+\"{margin-right: \"+n.size+\"px; width: calc(100% - \"+n.size+\"px);}\"))},_createEvents:function(){var t=this,n=this.element,i=this.options,s=this.toggle_element;null!==s&&s.on(b.events.click,(function(){t.toggle()})),null!==i.static&&[\"fs\",\"sm\",\"md\",\"lg\",\"xl\",\"xxl\"].indexOf(i.static)>-1&&e(window).on(b.events.resize,(function(){t._checkStatic()}),{ns:n.attr(\"id\")}),!0===i.menuItemClick&&n.on(b.events.click,\".sidebar-menu li > a\",(function(){t.close()})),n.on(b.events.click,\".sidebar-menu .js-sidebar-close\",(function(){t.close()}))},_checkStatic:function(){var t=this.element,n=this.options;H.mediaExist(n.static)&&!t.hasClass(\"static\")&&(t.addClass(\"static\"),t.data(\"opened\",!1).removeClass(\"open\"),null!==n.shift&&e.each(n.shift.split(\",\"),(function(){e(\"\"+this).animate({left:0},n.duration)})),H.exec(n.onStaticSet,null,t[0]),t.fire(\"staticset\")),H.mediaExist(n.static)||(t.removeClass(\"static\"),H.exec(n.onStaticLoss,null,t[0]),t.fire(\"staticloss\"))},isOpen:function(){return!0===this.element.data(\"opened\")},open:function(){var t=this.element,n=this.options;t.hasClass(\"static\")||(t.data(\"opened\",!0).addClass(\"open\"),null!==n.shift&&e(n.shift).animate({left:t.outerWidth()},n.duration),H.exec(n.onOpen,null,t[0]),t.fire(\"open\"))},close:function(){var t=this.element,n=this.options;t.hasClass(\"static\")||(t.data(\"opened\",!1).removeClass(\"open\"),null!==n.shift&&e(n.shift).animate({left:0},n.duration),H.exec(n.onClose,null,t[0]),t.fire(\"close\"))},toggle:function(){this.isOpen()?this.close():this.open(),H.exec(this.options.onToggle,null,this.element[0]),this.element.fire(\"toggle\")},changeAttribute:function(e){},destroy:function(){var t=this.element,n=this.options,i=this.toggle_element;return null!==i&&i.off(b.events.click),null!==n.static&&[\"fs\",\"sm\",\"md\",\"lg\",\"xl\",\"xxl\"].indexOf(n.static)>-1&&e(window).off(b.events.resize,{ns:t.attr(\"id\")}),!0===n.menuItemClick&&t.off(b.events.click,\".sidebar-menu li > a\"),t.off(b.events.click,\".sidebar-menu .js-sidebar-close\"),t}};b.plugin(\"sidebar\",Dt),b.sidebar={isSidebar:function(e){return H.isMetroObject(e,\"sidebar\")},open:function(t){this.isSidebar(t)&&b.getPlugin(e(t)[0],\"sidebar\").open()},close:function(t){this.isSidebar(t)&&b.getPlugin(e(t)[0],\"sidebar\").close()},toggle:function(t){this.isSidebar(t)&&b.getPlugin(e(t)[0],\"sidebar\").toggle()},isOpen:function(t){if(this.isSidebar(t))return b.getPlugin(e(t)[0],\"sidebar\").isOpen()}};var At={roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:b.position.TOP,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:b.position.TOP,hintPositionMax:b.position.TOP,hintMaskMin:\"$1\",hintMaskMax:\"$1\",target:null,size:0,clsSlider:\"\",clsBackside:\"\",clsComplete:\"\",clsMarker:\"\",clsMarkerMin:\"\",clsMarkerMax:\"\",clsHint:\"\",clsHintMin:\"\",clsHintMax:\"\",clsMinMax:\"\",clsMin:\"\",clsMax:\"\",onStart:b.noop,onStop:b.noop,onMove:b.noop,onChange:b.noop,onChangeValue:b.noop,onFocus:b.noop,onBlur:b.noop,onDoubleSliderCreate:b.noop};b.doubleSliderSetup=function(t){At=e.extend({},At,t)},void 0!==typeof window.metroDoubleSliderSetup&&b.doubleSliderSetup(window.metroDoubleSliderSetup);var Et={init:function(t,n){return this.options=e.extend({},At,t),this.elem=n,this.element=e(n),this.slider=null,this.valueMin=null,this.valueMax=null,this.keyInterval=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"doubleslider\"),this.valueMin=H.isValue(t.valueMin)?+t.valueMin:+t.min,this.valueMax=H.isValue(t.valueMax)?+t.valueMax:+t.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),H.exec(t.onDoubleSliderCreate,null,e[0]),e.fire(\"doubleslidercreate\")},_createSlider:function(){var t,n=this.element,i=this.options,s=e(\"<div>\").addClass(\"slider\").addClass(i.clsSlider).addClass(this.elem.className),a=e(\"<div>\").addClass(\"backside\").addClass(i.clsBackside),o=e(\"<div>\").addClass(\"complete\").addClass(i.clsComplete),r=e(\"<button>\").attr(\"type\",\"button\").addClass(\"marker marker-min\").addClass(i.clsMarker).addClass(i.clsMarkerMin),l=e(\"<button>\").attr(\"type\",\"button\").addClass(\"marker marker-max\").addClass(i.clsMarker).addClass(i.clsMarkerMax),c=e(\"<div>\").addClass(\"hint hint-min\").addClass(i.hintPositionMin+\"-side\").addClass(i.clsHint).addClass(i.clsHintMin),d=e(\"<div>\").addClass(\"hint hint-max\").addClass(i.hintPositionMax+\"-side\").addClass(i.clsHint).addClass(i.clsHintMax),h=H.elementId(\"slider\");if(b.checkRuntime(n,\"doubleslider\"),s.attr(\"id\",h),i.size>0&&s.outerWidth(i.size),s.insertBefore(n),n.appendTo(s),a.appendTo(s),o.appendTo(s),r.appendTo(s),l.appendTo(s),c.appendTo(r),d.appendTo(l),!0===i.hintAlways&&e([c,d]).css({display:\"block\"}).addClass(\"permanent-hint\"),!0===i.showMinMax){var u=e(\"<div>\").addClass(\"slider-min-max clear\").addClass(i.clsMinMax);e(\"<span>\").addClass(\"place-left\").addClass(i.clsMin).html(i.min).appendTo(u),e(\"<span>\").addClass(\"place-right\").addClass(i.clsMax).html(i.max).appendTo(u),i.minMaxPosition===b.position.TOP?u.insertBefore(s):u.insertAfter(s)}if(n[0].className=\"\",!0===i.copyInlineStyles)for(t=0;t<n[0].style.length;t++)s.css(n[0].style[t],n.css(n[0].style[t]));n.is(\":disabled\")?this.disable():this.enable(),this.slider=s},_createEvents:function(){var t=this,n=this.element,i=this.slider,s=this.options,a=i.find(\".marker\");a.on(b.events.startAll,(function(){var a=e(this).find(\".hint\");!0===s.hint&&!0!==s.hintAlways&&a.fadeIn(300),e(document).on(b.events.moveAll,(function(e){t._move(e),H.exec(s.onMove,[t.valueMin,t.valueMax],n[0]),n.fire(\"move\",{val:[t.valueMin,t.valueMax]})}),{ns:i.attr(\"id\")}),e(document).on(b.events.stopAll,(function(){e(document).off(b.events.moveAll,{ns:i.attr(\"id\")}),e(document).off(b.events.stopAll,{ns:i.attr(\"id\")}),!0!==s.hintAlways&&a.fadeOut(300),H.exec(s.onStop,[t.valueMin,t.valueMax],n[0]),n.fire(\"stop\",{val:[t.valueMin,t.valueMax]})}),{ns:i.attr(\"id\")}),H.exec(s.onStart,[t.valueMin,t.valueMax],n[0]),n.fire(\"start\",{val:[t.valueMin,t.valueMax]})})),a.on(b.events.focus,(function(){H.exec(s.onFocus,[t.valueMin,t.valueMax],n[0]),n.fire(\"focus\",{val:[t.valueMin,t.valueMax]})})),a.on(b.events.blur,(function(){H.exec(s.onBlur,[t.valueMin,t.valueMax],n[0]),n.fire(\"blur\",{val:[t.valueMin,t.valueMax]})})),e(window).on(b.events.resize,(function(){t.val(t.valueMin,t.valueMax)}),{ns:i.attr(\"id\")})},_convert:function(e,t){var n=this.slider,i=this.options,s=n.outerWidth()-n.find(\".marker\").outerWidth();switch(t){case\"pix2prc\":return 100*e/s;case\"pix2val\":return this._convert(e,\"pix2prc\")*((i.max-i.min)/100)+i.min;case\"val2prc\":return(e-i.min)/((i.max-i.min)/100);case\"prc2pix\":return e/(100/s);case\"val2pix\":return this._convert(this._convert(e,\"val2prc\"),\"prc2pix\")}return 0},_correct:function(e){var t,n=e,i=this.options.accuracy,s=this.options.min,a=this.options.max;return 0===i||isNaN(i)?n:((n=Math.round(e/i)*i)<s&&(n=s),n>a&&(n=a),n.toFixed((t=i)%1==0?0:t.toString().split(\".\")[1].length))},_move:function(t){var n,i,s,a=e(t.target).hasClass(\"marker-min\"),o=this.slider,r=(this.options,o.offset()),l=o.find(\".marker\").outerWidth(),c=o.find(\".marker-min\"),d=o.find(\".marker-max\"),h=o.outerWidth();n=H.pageXY(t).x-r.left-l/2,a?(i=0,s=parseInt(d.css(\"left\"))-l):(i=parseInt(c.css(\"left\"))+l,s=h-l),n<i||n>s||(this[a?\"valueMin\":\"valueMax\"]=this._correct(this._convert(n,\"pix2val\")),this._redraw())},_hint:function(){var t=this,n=this.options;this.slider.find(\".hint\").each((function(){var i=e(this),s=i.hasClass(\"hint-min\"),a=s?n.hintMaskMin:n.hintMaskMax,o=+(s?t.valueMin:t.valueMax)||0;i.text(a.replace(\"$1\",o.toFixed(H.decCount(n.accuracy))))}))},_value:function(){var t,n=this.element,i=this.options,s=+this.valueMin||0,a=+this.valueMax||0;if(i.roundValue&&(s=s.toFixed(H.decCount(i.accuracy)),a=a.toFixed(H.decCount(i.accuracy))),t=[s,a].join(\", \"),\"INPUT\"===n[0].tagName&&n.val(t),null!==i.target){var o=e(i.target);0!==o.length&&e.each(o,(function(){var n=e(this);\"INPUT\"===this.tagName?n.val(t):n.text(t),n.trigger(\"change\")}))}H.exec(i.onChangeValue,[t],n[0]),n.fire(\"changevalue\",{val:t}),H.exec(i.onChange,[t],n[0]),n.fire(\"change\",{val:t})},_marker:function(){var t=this.slider,n=(this.options,t.find(\".marker-min\")),i=t.find(\".marker-max\"),s=t.find(\".complete\"),a=parseInt(H.getStyleOne(n,\"width\")),o=H.isVisible(t);o&&e([n,i]).css({\"margin-top\":0,\"margin-left\":0}),o?(n.css(\"left\",this._convert(this.valueMin,\"val2pix\")),i.css(\"left\",this._convert(this.valueMax,\"val2pix\"))):(n.css({left:this._convert(this.valueMin,\"val2prc\")+\"%\",\"margin-top\":0===this._convert(this.valueMin,\"val2prc\")?0:-1*a/2}),i.css({left:this._convert(this.valueMax,\"val2prc\")+\"%\",\"margin-top\":0===this._convert(this.valueMax,\"val2prc\")?0:-1*a/2})),s.css({left:this._convert(this.valueMin,\"val2pix\"),width:this._convert(this.valueMax,\"val2pix\")-this._convert(this.valueMin,\"val2pix\")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(e,t){var n=this.options;if(!H.isValue(e)&&!H.isValue(t))return[this.valueMin,this.valueMax];e<n.min&&(e=n.min),t<n.min&&(t=n.min),e>n.max&&(e=n.max),t>n.max&&(t=n.max),this.valueMin=this._correct(e),this.valueMax=this._correct(t),this._redraw()},changeValue:function(){var e=this.element,t=+e.attr(\"data-value-min\"),n=+e.attr(\"data-value-max\");this.val(t,n)},disable:function(){var e=this.element;e.data(\"disabled\",!0),e.parent().addClass(\"disabled\")},enable:function(){var e=this.element;e.data(\"disabled\",!1),e.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case\"data-value-min\":case\"data-value-max\":this.changeValue();break;case\"disabled\":this.toggleState()}},destroy:function(){var t=this.element,n=this.slider,i=n.find(\".marker\");return i.off(b.events.startAll),i.off(b.events.focus),i.off(b.events.blur),i.off(b.events.keydown),i.off(b.events.keyup),n.off(b.events.click),e(window).off(b.events.resize,{ns:n.attr(\"id\")}),t}};b.plugin(\"doubleslider\",Et);var Pt={roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:b.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:b.position.TOP,hintMask:\"$1\",vertical:!1,target:null,returnType:\"value\",size:0,clsSlider:\"\",clsBackside:\"\",clsComplete:\"\",clsBuffer:\"\",clsMarker:\"\",clsHint:\"\",clsMinMax:\"\",clsMin:\"\",clsMax:\"\",onStart:b.noop,onStop:b.noop,onMove:b.noop,onSliderClick:b.noop,onChange:b.noop,onChangeValue:b.noop,onChangeBuffer:b.noop,onFocus:b.noop,onBlur:b.noop,onSliderCreate:b.noop};b.sliderSetup=function(t){Pt=e.extend({},Pt,t)},void 0!==typeof window.metroSliderSetup&&b.sliderSetup(window.metroSliderSetup);var Nt={init:function(t,n){return this.options=e.extend({},Pt,t),this.elem=n,this.element=e(n),this.slider=null,this.value=0,this.percent=0,this.pixel=0,this.buffer=0,this.keyInterval=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"slider\"),this._createSlider(),this._createEvents(),this.buff(t.buffer),this.val(t.value),H.exec(t.onSliderCreate,null,e[0]),e.fire(\"slidercreate\")},_createSlider:function(){var t,n=this.element,i=this.options,s=n.prev(),a=n.parent(),o=e(\"<div>\").addClass(\"slider \"+n[0].className).addClass(i.clsSlider),r=e(\"<div>\").addClass(\"backside\").addClass(i.clsBackside),l=e(\"<div>\").addClass(\"complete\").addClass(i.clsComplete),c=e(\"<div>\").addClass(\"buffer\").addClass(i.clsBuffer),d=e(\"<button>\").attr(\"type\",\"button\").addClass(\"marker\").addClass(i.clsMarker),h=e(\"<div>\").addClass(\"hint\").addClass(i.hintPosition+\"-side\").addClass(i.clsHint),u=H.elementId(\"slider\");if(b.checkRuntime(n,\"slider\"),o.attr(\"id\",u),i.size>0&&(!0===i.vertical?o.outerHeight(i.size):o.outerWidth(i.size)),!0===i.vertical&&o.addClass(\"vertical-slider\"),0===s.length?a.prepend(o):o.insertAfter(s),!0===i.hintAlways&&h.css({display:\"block\"}).addClass(\"permanent-hint\"),n.appendTo(o),r.appendTo(o),l.appendTo(o),c.appendTo(o),d.appendTo(o),h.appendTo(d),!0===i.showMinMax){var p=e(\"<div>\").addClass(\"slider-min-max clear\").addClass(i.clsMinMax);e(\"<span>\").addClass(\"place-left\").addClass(i.clsMin).html(i.min).appendTo(p),e(\"<span>\").addClass(\"place-right\").addClass(i.clsMax).html(i.max).appendTo(p),i.minMaxPosition===b.position.TOP?p.insertBefore(o):p.insertAfter(o)}if(n[0].className=\"\",!0===i.copyInlineStyles)for(t=0;t<n[0].style.length;t++)o.css(n[0].style[t],n.css(n[0].style[t]));n.is(\":disabled\")?this.disable():this.enable(),this.slider=o},_createEvents:function(){var t=this,n=this.element,i=this.slider,s=this.options,a=i.find(\".marker\"),o=i.find(\".hint\");a.on(b.events.startAll,(function(){!0===s.hint&&!0!==s.hintAlways&&o.fadeIn(300),e(document).on(b.events.moveAll,(function(e){t._move(e),H.exec(s.onMove,[t.value,t.percent],n[0]),n.fire(\"move\",{val:t.value,percent:t.percent})}),{ns:i.attr(\"id\")}),e(document).on(b.events.stopAll,(function(){e(document).off(b.events.moveAll,{ns:i.attr(\"id\")}),e(document).off(b.events.stopAll,{ns:i.attr(\"id\")}),!0!==s.hintAlways&&o.fadeOut(300),H.exec(s.onStop,[t.value,t.percent],n[0]),n.fire(\"stop\",{val:t.value,percent:t.percent})}),{ns:i.attr(\"id\")}),H.exec(s.onStart,[t.value,t.percent],n[0]),n.fire(\"start\",{val:t.value,percent:t.percent})})),a.on(b.events.focus,(function(){H.exec(s.onFocus,[t.value,t.percent],n[0]),n.fire(\"focus\",{val:t.value,percent:t.percent})})),a.on(b.events.blur,(function(){H.exec(s.onBlur,[t.value,t.percent],n[0]),n.fire(\"blur\",{val:t.value,percent:t.percent})})),a.on(b.events.keydown,(function(e){var n=e.keyCode?e.keyCode:e.which;if(-1!==[37,38,39,40].indexOf(n)){var i=0===s.accuracy?1:s.accuracy;t.keyInterval||(t.keyInterval=setInterval((function(){var n=t.value;37!==e.keyCode&&40!==e.keyCode||(n-i<s.min?n=s.min:n-=i),38!==e.keyCode&&39!==e.keyCode||(n+i>s.max?n=s.max:n+=i),t.value=t._correct(n),t.percent=t._convert(t.value,\"val2prc\"),t.pixel=t._convert(t.percent,\"prc2pix\"),t._redraw()}),100),e.preventDefault())}})),a.on(b.events.keyup,(function(){clearInterval(t.keyInterval),t.keyInterval=!1})),i.on(b.events.click,(function(e){t._move(e),H.exec(s.onSliderClick,[t.value,t.percent],n[0]),n.fire(\"sliderclick\",{val:t.value,percent:t.percent}),H.exec(s.onStop,[t.value,t.percent],n[0]),n.fire(\"stop\",{val:t.value,percent:t.percent})})),e(window).on(b.events.resize,(function(){t.val(t.value),t.buff(t.buffer)}),{ns:i.attr(\"id\")})},_convert:function(e,t){var n=this.slider,i=this.options,s=(!0===i.vertical?n.outerHeight():n.outerWidth())-n.find(\".marker\").outerWidth();switch(t){case\"pix2prc\":return 100*e/s;case\"pix2val\":return this._convert(e,\"pix2prc\")*((i.max-i.min)/100)+i.min;case\"val2prc\":return(e-i.min)/((i.max-i.min)/100);case\"prc2pix\":return e/(100/s);case\"val2pix\":return this._convert(this._convert(e,\"val2prc\"),\"prc2pix\")}return 0},_correct:function(e){var t=e,n=this.options.accuracy,i=this.options.min,s=this.options.max;return 0===n||isNaN(n)?t:((t=Math.round(e/n)*n)<i&&(t=i),t>s&&(t=s),t.toFixed(H.decCount(n)))},_move:function(e){var t,n,i=this.slider,s=this.options,a=i.offset(),o=i.find(\".marker\").outerWidth(),r=!0===s.vertical?i.outerHeight():i.outerWidth(),l=r-o;t=!0===s.vertical?H.pageXY(e).y-a.top:H.pageXY(e).x-a.left,(n=!0===s.vertical?r-t-o/2:t-o/2)<0||n>l||(this.value=this._correct(this._convert(n,\"pix2val\")),this.percent=this._convert(this.value,\"val2prc\"),this.pixel=this._convert(this.percent,\"prc2pix\"),this._redraw())},_hint:function(){var e=this.options,t=this.slider.find(\".hint\"),n=+this.value||0,i=+this.percent||0;e.roundValue&&(n=(H.isValue(n)?+n:0).toFixed(H.decCount(e.accuracy)),i=(H.isValue(i)?+i:0).toFixed(H.decCount(e.accuracy))),t.text(e.hintMask.replace(\"$1\",n).replace(\"$2\",i))},_value:function(){var t=this.element,n=this.options,i=(this.slider,\"value\"===n.returnType?this.value:this.percent),s=this.percent,a=this.buffer;if(n.roundValue&&(i=(H.isValue(i)?+i:0).toFixed(H.decCount(n.accuracy)),s=(H.isValue(s)?+s:0).toFixed(H.decCount(n.accuracy)),a=(H.isValue(a)?+a:0).toFixed(H.decCount(n.accuracy))),\"INPUT\"===t[0].tagName&&t.val(i),null!==n.target){var o=e(n.target);0!==o.length&&e.each(o,(function(){var t=e(this);\"INPUT\"===this.tagName?t.val(i):t.text(i),t.trigger(\"change\")}))}H.exec(n.onChangeValue,[i],t[0]),t.fire(\"changevalue\",{val:i}),H.exec(n.onChange,[i,s,a],t[0]),t.fire(\"change\",{val:i,percent:s,buffer:a})},_marker:function(){var e=this.slider,t=this.options,n=e.find(\".marker\"),i=e.find(\".complete\"),s=!0===t.vertical?e.outerHeight():e.outerWidth(),a=parseInt(H.getStyleOne(n,\"width\")),o=H.isVisible(e);o&&n.css({\"margin-top\":0,\"margin-left\":0}),!0===t.vertical?(o?n.css(\"top\",s-this.pixel):(n.css(\"top\",100-this.percent+\"%\"),n.css(\"margin-top\",a/2)),i.css(\"height\",this.percent+\"%\")):(o?n.css(\"left\",this.pixel):(n.css(\"left\",this.percent+\"%\"),n.css(\"margin-left\",0===this.percent?0:-1*a/2)),i.css(\"width\",this.percent+\"%\"))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){var e=this.element,t=this.options,n=this.slider.find(\".buffer\");!0===t.vertical?n.css(\"height\",this.buffer+\"%\"):n.css(\"width\",this.buffer+\"%\"),H.exec(t.onChangeBuffer,[this.buffer],e[0]),e.fire(\"changebuffer\",{val:this.buffer}),H.exec(t.onChange,[e.val(),this.percent,this.buffer],e[0]),e.fire(\"change\",{val:e.val(),percent:this.percent,buffer:this.buffer})},val:function(e){var t=this.options;if(void 0===e||isNaN(e))return this.value;e<t.min&&(e=t.min),e>t.max&&(e=t.max),this.value=this._correct(e),this.percent=this._convert(this.value,\"val2prc\"),this.pixel=this._convert(this.percent,\"prc2pix\"),this._redraw()},buff:function(e){var t=this.slider.find(\".buffer\");return void 0===e||isNaN(e)?this.buffer:0!==t.length&&((e=parseInt(e))>100&&(e=100),e<0&&(e=0),this.buffer=e,void this._buffer())},changeValue:function(){var e=this.element,t=this.options,n=e.attr(\"data-value\");n<t.min&&(n=t.min),n>t.max&&(n=t.max),this.val(n)},changeBuffer:function(){var e=this.element,t=parseInt(e.attr(\"data-buffer\"));t<0&&(t=0),t>100&&(t=100),this.buff(t)},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case\"data-value\":this.changeValue();break;case\"data-buffer\":this.changeBuffer();break;case\"disabled\":this.toggleState()}},destroy:function(){var t=this.element,n=this.slider,i=n.find(\".marker\");return i.off(b.events.startAll),i.off(b.events.focus),i.off(b.events.blur),i.off(b.events.keydown),i.off(b.events.keyup),n.off(b.events.click),e(window).off(b.events.resize,{ns:n.attr(\"id\")}),t}};b.plugin(\"slider\",Nt);var Rt={thousandSeparator:\",\",decimalSeparator:\",\",sortTarget:null,sortSource:null,sortDir:\"asc\",sortStart:!0,saveInitial:!0,onSortStart:b.noop,onSortStop:b.noop,onSortItemSwitch:b.noop,onSorterCreate:b.noop};b.sorterSetup=function(t){Rt=e.extend({},Rt,t)},void 0!==typeof window.metroSorterSetup&&b.sorterSetup(window.metroSorterSetup);var Ft={init:function(t,n){return this.options=e.extend({},Rt,t),this.elem=n,this.element=e(n),this.initial=[],this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"sorter\"),this._createStructure(),H.exec(t.onSorterCreate,null,e[0]),e.fire(\"sortercreate\")},_createStructure:function(){var e=this.element,t=this.options;null===t.sortTarget&&(t.sortTarget=e.children()[0].tagName),this.initial=e.find(t.sortTarget).get(),!0===t.sortStart&&this.sort(t.sortDir)},_getItemContent:function(e){var t,n,i,s,a=this.options;if(H.isValue(a.sortSource)){if(t=\"\",(n=e.getElementsByClassName(a.sortSource)).length>0)for(i=0;i<n.length;i++)t+=n[i].textContent;s=n[0].dataset.format}else t=e.textContent,s=e.dataset.format;if(t=(\"\"+t).toLowerCase().replace(/[\\n\\r]+|[\\s]{2,}/g,\" \").trim(),H.isValue(s))switch(-1===[\"number\",\"int\",\"float\",\"money\"].indexOf(s)||\",\"===a.thousandSeparator&&\".\"===a.decimalSeparator||(t=H.parseNumber(t,a.thousandSeparator,a.decimalSeparator)),s){case\"date\":t=H.isDate(t)?new Date(t):\"\";break;case\"number\":t=Number(t);break;case\"int\":t=parseInt(t);break;case\"float\":t=parseFloat(t);break;case\"money\":t=H.parseMoney(t);break;case\"card\":t=H.parseCard(t);break;case\"phone\":t=H.parsePhone(t)}return t},sort:function(t){var n,i,s=this,a=this.element,o=this.options,r=H.elementId(\"temp\");void 0!==t&&(o.sortDir=t),0!==(n=a.find(o.sortTarget).get()).length&&(i=e(\"<div>\").attr(\"id\",r).insertBefore(e(a.find(o.sortTarget)[0])),H.exec(o.onSortStart,[n],a[0]),a.fire(\"sortstart\",{items:n}),n.sort((function(e,t){var n=s._getItemContent(e),i=s._getItemContent(t),r=0;return n<i?-1:n>i?1:(0!==r&&(H.exec(o.onSortItemSwitch,[e,t,r],a[0]),a.fire(\"sortitemswitch\",{a:e,b:t,result:r})),r)})),\"desc\"===o.sortDir&&n.reverse(),a.find(o.sortTarget).remove(),e.each(n,(function(){var t=e(this);t.insertAfter(i),i=t})),e(\"#\"+r).remove(),H.exec(o.onSortStop,[n],a[0]),a.fire(\"sortstop\"))},reset:function(){var t,n,i=this.element,s=this.options,a=H.uniqueId();0!==(t=this.initial).length&&(n=e(\"<div>\").attr(\"id\",a).insertBefore(e(i.find(s.sortTarget)[0])),i.find(s.sortTarget).remove(),e.each(t,(function(){var t=e(this);t.insertAfter(n),n=t})),e(\"#\"+a).remove())},changeAttribute:function(e){var t,n,i=this,s=this.element,a=this.options;switch(e){case\"data-sort-dir\":\"\"!==(n=s.attr(\"data-sort-dir\").trim())&&(a.sortDir=n,i.sort());break;case\"data-sort-content\":\"\"!==(t=s.attr(\"data-sort-content\").trim())&&(a.sortContent=t,i.sort())}},destroy:function(){return this.element}};b.plugin(\"sorter\",Ft),b.sorter={create:function(e,t){return H.$()(e).sorter(t)},isSorter:function(e){return H.isMetroObject(e,\"sorter\")},sort:function(t,n){if(!this.isSorter(t))return!1;void 0===n&&(n=\"asc\"),b.getPlugin(e(t)[0],\"sorter\").sort(n)},reset:function(t){if(!this.isSorter(t))return!1;b.getPlugin(e(t)[0],\"sorter\").reset()}};var Lt={step:1,plusIcon:\"<span class='default-icon-plus'></span>\",minusIcon:\"<span class='default-icon-minus'></span>\",buttonsPosition:\"default\",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:1e3,hideCursor:!1,clsSpinner:\"\",clsSpinnerInput:\"\",clsSpinnerButton:\"\",clsSpinnerButtonPlus:\"\",clsSpinnerButtonMinus:\"\",onBeforeChange:b.noop_true,onChange:b.noop,onPlusClick:b.noop,onMinusClick:b.noop,onArrowUp:b.noop,onArrowDown:b.noop,onButtonClick:b.noop,onArrowClick:b.noop,onSpinnerCreate:b.noop};b.spinnerSetup=function(t){Lt=e.extend({},Lt,t)},void 0!==typeof window.metroSpinnerSetup&&b.spinnerSetup(window.metroSpinnerSetup);var Vt={init:function(t,n){return this.options=e.extend({},Lt,t),this.elem=n,this.element=e(n),this.repeat_timer=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"spinner\"),this._createStructure(),this._createEvents(),H.exec(t.onSpinnerCreate,null,e[0]),e.fire(\"spinnercreate\")},_createStructure:function(){var t=this.element,n=this.options,i=e(\"<div>\").addClass(\"spinner\").addClass(\"buttons-\"+n.buttonsPosition).addClass(t[0].className).addClass(n.clsSpinner),s=e(\"<button>\").attr(\"type\",\"button\").addClass(\"button spinner-button spinner-button-plus\").addClass(n.clsSpinnerButton+\" \"+n.clsSpinnerButtonPlus).html(n.plusIcon),a=e(\"<button>\").attr(\"type\",\"button\").addClass(\"button spinner-button spinner-button-minus\").addClass(n.clsSpinnerButton+\" \"+n.clsSpinnerButtonMinus).html(n.minusIcon),o=t.val().trim();H.isValue(o)||t.val(0),t[0].className=\"\",i.insertBefore(t),t.appendTo(i).addClass(n.clsSpinnerInput),t.addClass(\"original-input\"),s.appendTo(i),a.appendTo(i),!0===n.hideCursor&&i.addClass(\"hide-cursor\"),!0===n.disabled||t.is(\":disabled\")?this.disable():this.enable()},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.closest(\".spinner\"),a=s.find(\".spinner-button\"),o=function(e,s){var a=n.val(),r=Number(n.val()),l=Number(i.step);e?r+=l:r-=l,t._setValue(r.toFixed(i.fixed),!0),H.exec(e?i.onPlusClick:i.onMinusClick,[a,r,n.val()],n[0]),n.fire(e?\"plusclick\":\"minusclick\",{curr:a,val:r,elementVal:n.val()}),H.exec(e?i.onArrowUp:i.onArrowDown,[a,r,n.val()],n[0]),n.fire(e?\"arrowup\":\"arrowdown\",{curr:a,val:r,elementVal:n.val()}),H.exec(i.onButtonClick,[a,r,n.val(),e?\"plus\":\"minus\"],n[0]),n.fire(\"buttonclick\",{button:e?\"plus\":\"minus\",curr:a,val:r,elementVal:n.val()}),H.exec(i.onArrowClick,[a,r,n.val(),e?\"plus\":\"minus\"],n[0]),n.fire(\"arrowclick\",{button:e?\"plus\":\"minus\",curr:a,val:r,elementVal:n.val()}),setTimeout((function(){t.repeat_timer&&o(e,100)}),s)};s.on(b.events.click,(function(t){e(\".focused\").removeClass(\"focused\"),s.addClass(\"focused\"),t.preventDefault(),t.stopPropagation()})),a.on(b.events.start,(function(n){var s=e(this).closest(\".spinner-button\").hasClass(\"spinner-button-plus\");n.preventDefault(),t.repeat_timer=!0,o(s,i.repeatThreshold)})),a.on(b.events.stop,(function(){t.repeat_timer=!1})),n.on(b.events.keydown,(function(e){e.keyCode!==b.keyCode.UP_ARROW&&e.keyCode!==b.keyCode.DOWN_ARROW||(t.repeat_timer=!0,o(e.keyCode===b.keyCode.UP_ARROW,i.repeatThreshold))})),s.on(b.events.keyup,(function(){t.repeat_timer=!1}))},_setValue:function(e,t){var n=this.element,i=this.options;!0===H.exec(i.onBeforeChange,[e],n[0])&&(H.isValue(i.maxValue)&&e>Number(i.maxValue)&&(e=Number(i.maxValue)),H.isValue(i.minValue)&&e<Number(i.minValue)&&(e=Number(i.minValue)),n.val(e),H.exec(i.onChange,[e],n[0]),!0===t&&n.fire(\"change\",{val:e}))},val:function(e){var t=this.element,n=this.options;if(!H.isValue(e))return t.val();this._setValue(e.toFixed(n.fixed),!0)},toDefault:function(){var e=this.element,t=this.options,n=H.isValue(t.defaultValue)?Number(t.defaultValue):0;this._setValue(n.toFixed(t.fixed),!0),H.exec(t.onChange,[n],e[0]),e.fire(\"change\",{val:n})},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,n=this,i=this.element;switch(e){case\"disabled\":this.toggleState();break;case\"value\":t=i.attr(\"value\").trim(),H.isValue(t)&&n._setValue(Number(t),!1)}},destroy:function(){var e=this.element,t=e.closest(\".spinner\"),n=t.find(\".spinner-button\");return t.off(b.events.click),n.off(b.events.start),n.off(b.events.stop),e.off(b.events.keydown),t.off(b.events.keyup),e}};b.plugin(\"spinner\",Vt),e(document).on(b.events.click,(function(){e(\".spinner\").removeClass(\"focused\")}));var Bt={splitMode:\"horizontal\",splitSizes:null,gutterSize:4,minSizes:null,children:\"*\",gutterClick:\"expand\",saveState:!1,onResizeStart:b.noop,onResizeStop:b.noop,onResizeSplit:b.noop,onSplitterCreate:b.noop};b.splitterSetup=function(t){Bt=e.extend({},Bt,t)},void 0!==typeof window.metroSplitterSetup&&b.splitterSetup(window.metroSplitterSetup);var Ht={init:function(t,n){return this.options=e.extend({},Bt,t),this.elem=n,this.element=e(n),this.storage=H.isValue(b.storage)?b.storage:null,this.storageKey=\"SPLITTER:\",this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"splitter\"),this._createStructure(),this._createEvents(),H.exec(t.onSplitterCreate,null,e[0]),e.fire(\"splittercreate\")},_createStructure:function(){var t,n=this.element,i=this.options,s=n.children(i.children).addClass(\"split-block\"),a=[],o=\"horizontal\"===i.splitMode?\"width\":\"height\";for(H.isValue(n.attr(\"id\"))||n.attr(\"id\",H.elementId(\"splitter\")),n.addClass(\"splitter\"),\"vertical\"===i.splitMode.toLowerCase()&&n.addClass(\"vertical\"),t=0;t<s.length-1;t++)e(\"<div>\").addClass(\"gutter\").css(o,i.gutterSize).insertAfter(e(s[t]));if(this._setSize(),H.isValue(i.minSizes))if(String(i.minSizes).contains(\",\"))for(a=H.strToArray(i.minSizes),t=0;t<a.length;t++)e(s[t]).data(\"min-size\",a[t]),s[t].style.setProperty(\"min-\"+o,String(a[t]).contains(\"%\")?a[t]:String(a[t]).replace(\"px\",\"\")+\"px\",\"important\");else e.each(s,(function(){this.style.setProperty(\"min-\"+o,String(i.minSizes).contains(\"%\")?i.minSizes:String(i.minSizes).replace(\"px\",\"\")+\"px\",\"important\")}));i.saveState&&null!==this.storage&&this._getSize()},_setSize:function(){var t,n,i,s=this.element,a=this.options,o=s.children(\".split-block\");if(t=s.children(\".gutter\"),H.isValue(a.splitSizes))for(n=H.strToArray(a.splitSizes),i=0;i<n.length;i++)e(o[i]).css({flexBasis:\"calc(\"+n[i]+\"% - \"+t.length*a.gutterSize+\"px)\"});else o.css({flexBasis:\"calc(\"+100/o.length+\"% - \"+t.length*a.gutterSize+\"px)\"})},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.children(\".gutter\");s.on(b.events.start,(function(a){var o=\"horizontal\"===i.splitMode?n.width():n.height(),r=e(this),l=r.prev(\".split-block\"),c=r.next(\".split-block\"),d=100*(\"horizontal\"===i.splitMode?l.outerWidth(!0):l.outerHeight(!0))/o,h=100*(\"horizontal\"===i.splitMode?c.outerWidth(!0):c.outerHeight(!0))/o,u=H.getCursorPosition(n[0],a);r.addClass(\"active\"),l.addClass(\"stop-select stop-pointer\"),c.addClass(\"stop-select stop-pointer\"),H.exec(i.onResizeStart,[u,r[0],l[0],c[0]],n[0]),n.fire(\"resizestart\",{pos:u,gutter:r[0],prevBlock:l[0],nextBlock:c[0]}),e(window).on(b.events.move,(function(e){var t,a=H.getCursorPosition(n[0],e);t=\"horizontal\"===i.splitMode?100*a.x/o-100*u.x/o:100*a.y/o-100*u.y/o,l.css(\"flex-basis\",\"calc(\"+(d+t)+\"% - \"+s.length*i.gutterSize+\"px)\"),c.css(\"flex-basis\",\"calc(\"+(h-t)+\"% - \"+s.length*i.gutterSize+\"px)\"),H.exec(i.onResizeSplit,[a,r[0],l[0],c[0]],n[0]),n.fire(\"resizesplit\",{pos:a,gutter:r[0],prevBlock:l[0],nextBlock:c[0]})}),{ns:n.attr(\"id\")}),e(window).on(b.events.stop,(function(s){var a;l.removeClass(\"stop-select stop-pointer\"),c.removeClass(\"stop-select stop-pointer\"),t._saveSize(),r.removeClass(\"active\"),e(window).off(b.events.move,{ns:n.attr(\"id\")}),e(window).off(b.events.stop,{ns:n.attr(\"id\")}),a=H.getCursorPosition(n[0],s),H.exec(i.onResizeStop,[a,r[0],l[0],c[0]],n[0]),n.fire(\"resizestop\",{pos:a,gutter:r[0],prevBlock:l[0],nextBlock:c[0]})}),{ns:n.attr(\"id\")})}))},_saveSize:function(){var t=this.element,n=this.options,i=this.storage,s=[];!0===n.saveState&&null!==i&&(e.each(t.children(\".split-block\"),(function(){var t=e(this);s.push(t.css(\"flex-basis\"))})),i.setItem(this.storageKey+t.attr(\"id\"),s))},_getSize:function(){var t=this.element,n=this.options,i=this.storage,s=[];!0===n.saveState&&null!==i&&(s=i.getItem(this.storageKey+t.attr(\"id\")),e.each(t.children(\".split-block\"),(function(t,n){var i=e(n);H.isValue(s)&&H.isValue(s[t])&&i.css(\"flex-basis\",s[t])})))},size:function(e){var t=this.options;return H.isValue(e)&&(t.splitSizes=e,this._setSize()),this},changeAttribute:function(e){var t,n=this,i=this.element;\"data-split-sizes\"===e&&(t=i.attr(\"data-split-sizes\"),n.size(t))},destroy:function(){var e=this.element;return e.children(\".gutter\").off(b.events.start),e}};b.plugin(\"splitter\",Ht);var zt={view:b.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:\"\",clsStep:\"\",clsComplete:\"\",clsCurrent:\"\",onStep:b.noop,onStepClick:b.noop,onStepperCreate:b.noop};b.stepperSetup=function(t){zt=e.extend({},zt,t)},void 0!==typeof window.metroStepperSetup&&b.stepperSetup(window.metroStepperSetup);var jt={init:function(t,n){return this.options=e.extend({},zt,t),this.elem=n,this.element=e(n),this.current=0,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"stepper\"),t.step<=0&&(t.step=1),this._createStepper(),this._createEvents(),H.exec(t.onStepperCreate,null,e[0]),e.fire(\"steppercreate\")},_createStepper:function(){var t,n=this.element,i=this.options;for(n.addClass(\"stepper\").addClass(i.view).addClass(i.clsStepper),t=1;t<=i.steps;t++)e(\"<span>\").addClass(\"step\").addClass(i.clsStep).data(\"step\",t).html(\"<span>\"+t+\"</span>\").appendTo(n);this.current=1,this.toStep(i.step)},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".step\",(function(){var s=e(this).data(\"step\");!0===i.stepClick&&(t.toStep(s),H.exec(i.onStepClick,[s],n[0]),n.fire(\"stepclick\",{step:s}))}))},next:function(){var e=this.element,t=(this.options,e.find(\".step\"));this.current+1>t.length||(this.current++,this.toStep(this.current))},prev:function(){this.element,this.options,this.current-1!=0&&(this.current--,this.toStep(this.current))},last:function(){var e=this.element;this.options,this.toStep(e.find(\".step\").length)},first:function(){this.toStep(1)},toStep:function(t){var n=this.element,i=this.options,s=e(n.find(\".step\").get(t-1));0!==s.length&&(this.current=t,n.find(\".step\").removeClass(\"complete current\").removeClass(i.clsCurrent).removeClass(i.clsComplete),s.addClass(\"current\").addClass(i.clsCurrent),s.prevAll().addClass(\"complete\").addClass(i.clsComplete),H.exec(i.onStep,[this.current],n[0]),n.fire(\"step\",{step:this.current}))},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.click,\".step\"),e}};b.plugin(\"stepper\",jt);var Ut=function(e){return new Ut.init(e)};Ut.prototype={setKey:function(e){this.key=e},getKey:function(){return this.key},setItem:function(e,t){this.storage.setItem(this.key+\":\"+e,JSON.stringify(t))},getItem:function(e,t,n){var i,s;s=this.storage.getItem(this.key+\":\"+e);try{i=JSON.parse(s,n)}catch(e){i=null}return H.nvl(i,t)},getItemPart:function(e,t,n,i){var s,a=this.getItem(e,n,i);for(t=t.split(\"->\"),s=0;s<t.length;s++)a=a[t[s]];return a},delItem:function(e){this.storage.removeItem(this.key+\":\"+e)},size:function(e){var t;switch(e){case\"m\":case\"M\":t=1048576;break;case\"k\":case\"K\":t=1024;break;default:t=1}return JSON.stringify(this.storage).length/t}},Ut.init=function(e){return this.key=\"\",this.storage=e||window.localStorage,this},Ut.init.prototype=Ut.prototype,b.storage=Ut(window.localStorage),b.session=Ut(window.sessionStorage);var Wt={wheel:!1,duration:METRO_ANIMATION_DURATION,defaultClosedIcon:\"\",defaultOpenIcon:\"\",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:\"select\",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:\"\",excludeClickClass:\"\",excludeClass:\"\",onDataLoad:b.noop,onDataLoaded:b.noop,onDataLoadError:b.noop,onStreamClick:b.noop,onStreamSelect:b.noop,onEventClick:b.noop,onEventSelect:b.noop,onEventsScroll:b.noop,onStreamerCreate:b.noop};b.streamerSetup=function(t){Wt=e.extend({},Wt,t)},void 0!==typeof window.metroStreamerSetup&&b.streamerSetup(window.metroStreamerSetup);var Yt={init:function(t,n){return this.options=e.extend({},Wt,t),this.elem=n,this.element=e(n),this.data=null,this.scroll=0,this.scrollDir=\"left\",this.events=null,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this,n=this.element,i=this.options;if(b.checkRuntime(n,\"streamer\"),n.addClass(\"streamer\"),void 0===n.attr(\"id\")&&n.attr(\"id\",H.elementId(\"streamer\")),null===i.source&&null===i.data)return!1;e(\"<div>\").addClass(\"streams\").appendTo(n),e(\"<div>\").addClass(\"events-area\").appendTo(n),null!==i.source?(H.exec(i.onDataLoad,[i.source],n[0]),n.fire(\"dataload\",{source:i.source}),e.json(i.source).then((function(e){H.exec(i.onDataLoaded,[i.source,e],n[0]),n.fire(\"dataloaded\",{source:i.source,data:e}),t.data=e,t.build()}),(function(e){H.exec(i.onDataLoadError,[i.source,e],n[0]),n.fire(\"dataloaderror\",{source:i.source,xhr:e})}))):(this.data=i.data,this.build()),!0===i.chromeNotice&&!0===H.detectChrome()&&!1===H.isTouchDevice()&&e(\"<p>\").addClass(\"text-small text-muted\").html(\"*) In Chrome browser please press and hold Shift and turn the mouse wheel.\").insertAfter(n)},build:function(){var t=this,n=this.element,i=this.options,s=this.data,a=n.find(\".streams\").html(\"\"),o=n.find(\".events-area\").html(\"\"),r=e(\"<ul>\").addClass(\"streamer-timeline\").html(\"\").appendTo(o),l=e(\"<div>\").addClass(\"streamer-events\").appendTo(o),c=e(\"<div>\").addClass(\"event-group\").appendTo(l),d=H.getURIParameter(null,\"StreamerIDS\");null!==d&&!0===i.encodeLink&&(d=atob(d));var h=d?d.split(\"|\")[0]:null,u=d?d.split(\"|\")[1].split(\",\"):[];if(void 0!==s.actions){var p=e(\"<div>\").addClass(\"streamer-actions\").appendTo(a);e.each(s.actions,(function(){var t=this,i=e(\"<button>\").addClass(\"streamer-action\").addClass(t.cls).html(t.html);void 0!==t.onclick&&i.on(b.events.click,(function(){H.exec(t.onclick,[n])})),i.appendTo(p)}))}r.html(\"\"),void 0===s.timeline&&(s.timeline={start:\"09:00\",stop:\"18:00\",step:20});var f=new Date,m=new Date,v=s.timeline.start?s.timeline.start.split(\":\"):[9,0],g=s.timeline.stop?s.timeline.stop.split(\":\"):[18,0],C=s.timeline.step?60*parseInt(s.timeline.step):1200;f.setHours(v[0]),f.setMinutes(v[1]),f.setSeconds(0),m.setHours(g[0]),m.setMinutes(g[1]),m.setSeconds(0);for(var w=f.getTime()/1e3;w<=m.getTime()/1e3;w+=C){var y=new Date(1e3*w),x=y.getHours(),S=y.getMinutes(),T=(x<10?\"0\"+x:x)+\":\"+(S<10?\"0\"+S:S);e(\"<li>\").data(\"time\",T).addClass(\"js-time-point-\"+T.replace(\":\",\"-\")).html(\"<em>\"+T+\"</em>\").appendTo(r)}void 0!==s.streams&&e.each(s.streams,(function(t){var s=0,o=e(\"<div>\").addClass(\"stream\").addClass(this.cls).appendTo(a);o.addClass(this.cls).data(\"one\",!1).data(\"data\",this.data),e(\"<div>\").addClass(\"stream-title\").html(this.title).appendTo(o),e(\"<div>\").addClass(\"stream-secondary\").html(this.secondary).appendTo(o),e(this.icon).addClass(\"stream-icon\").appendTo(o);var l=H.computedRgbToHex(H.getStyleOne(o,\"background-color\")),d=H.computedRgbToHex(H.getStyleOne(o,\"color\")),p=e(\"<div>\").addClass(\"stream-events\").data(\"background-color\",l).data(\"text-color\",d).appendTo(c);if(void 0!==this.events){e.each(this.events,(function(a){var c,f,m=void 0===this.row?1:parseInt(this.row),v=t+\":\"+a,g=void 0!==this.custom?this.custom:\"\",C=void 0!==this.custom_open?this.custom_open:\"\",b=void 0!==this.custom_close?this.custom_close:\"\";if(void 0===this.skip||!H.bool(this.skip)){f=e(\"<div>\").data(\"origin\",this).data(\"sid\",v).data(\"data\",this.data).data(\"time\",this.time).data(\"target\",this.target).addClass(\"stream-event\").addClass(\"size-\"+this.size+\"x\").addClass(this.cls).appendTo(p);var w=r.find(\".js-time-point-\"+this.time.replace(\":\",\"-\"))[0].offsetLeft-o.outerWidth(),y=75*(m-1);if(m>s&&(s=m),f.css({position:\"absolute\",left:w,top:y}),H.isNull(this.html)){var x=e(\"<div>\").addClass(\"stream-event-slide\").appendTo(f),S=e(\"<div>\").addClass(\"slide-logo\").appendTo(x),T=e(\"<div>\").addClass(\"slide-data\").appendTo(x);void 0!==this.icon&&(H.isTag(this.icon)?e(this.icon).addClass(\"icon\").appendTo(S):e(\"<img>\").addClass(\"icon\").attr(\"src\",this.icon).appendTo(S)),e(\"<span>\").addClass(\"time\").css({backgroundColor:l,color:d}).html(this.time).appendTo(S),e(\"<div>\").addClass(\"title\").html(this.title).appendTo(T),e(\"<div>\").addClass(\"subtitle\").html(this.subtitle).appendTo(T),e(\"<div>\").addClass(\"desc\").html(this.desc).appendTo(T),(!1===i.closed&&n.attr(\"id\")===h&&-1!==u.indexOf(v)||!0===this.selected||1===parseInt(this.selected))&&f.addClass(\"selected\"),!0===i.closed||!0===this.closed||1===parseInt(this.closed)?(c=void 0!==this.closedIcon?H.isTag(this.closedIcon)?this.closedIcon:\"<span>\"+this.closedIcon+\"</span>\":H.isTag(i.defaultClosedIcon)?i.defaultClosedIcon:\"<span>\"+i.defaultClosedIcon+\"</span>\",e(c).addClass(\"state-icon\").addClass(this.clsClosedIcon).appendTo(x),f.data(\"closed\",!0).data(\"target\",this.target),f.append(C)):(c=void 0!==this.openIcon?H.isTag(this.openIcon)?this.openIcon:\"<span>\"+this.openIcon+\"</span>\":H.isTag(i.defaultOpenIcon)?i.defaultOpenIcon:\"<span>\"+i.defaultOpenIcon+\"</span>\",e(c).addClass(\"state-icon\").addClass(this.clsOpenIcon).appendTo(x),f.data(\"closed\",!1),f.append(b)),f.append(g)}else f.html(this.html)}}));var f=p.find(\".stream-event\").last();f.length>0&&p.outerWidth(f[0].offsetLeft+f.outerWidth())}p.css({height:75*s}),n.find(\".stream\").eq(p.index()).css({height:75*s})})),void 0!==s.global&&e.each([\"before\",\"after\"],(function(){void 0!==s.global[this]&&e.each(s.global[this],(function(){var t=e(\"<div>\").addClass(\"event-group\").addClass(\"size-\"+this.size+\"x\"),n=e(\"<div>\").addClass(\"stream-events global-stream\").appendTo(t),i=e(\"<div>\").addClass(\"stream-event\").appendTo(n);i.addClass(\"global-event\").addClass(this.cls).data(\"time\",this.time).data(\"origin\",this).data(\"data\",this.data),e(\"<div>\").addClass(\"event-title\").html(this.title).appendTo(i),e(\"<div>\").addClass(\"event-subtitle\").html(this.subtitle).appendTo(i),e(\"<div>\").addClass(\"event-html\").html(this.html).appendTo(i);var s,o=r.find(\".js-time-point-\"+this.time.replace(\":\",\"-\"));o.length>0&&(s=o[0].offsetLeft-a.find(\".stream\").outerWidth()),t.css({position:\"absolute\",left:s,height:\"100%\"}).appendTo(l)}))})),n.data(\"stream\",-1),n.find(\".events-area\").scrollLeft(0),this.events=n.find(\".stream-event\"),this._createEvents(),null!==i.startFrom&&!0===i.slideToStart&&setTimeout((function(){t.slideTo(i.startFrom)}),i.startSlideSleep),H.exec(i.onStreamerCreate,null,n[0]),n.fire(\"streamercreate\"),this._fireScroll()},_fireScroll:function(){var t=this.element,n=this.options,i=t.find(\".events-area\"),s=this.scroll;0!==i.length&&(this.scrollDir=this.scroll<i[0].scrollLeft?\"left\":\"right\",this.scroll=i[0].scrollLeft,H.exec(n.onEventsScroll,[i[0].scrollLeft,s,this.scrollDir,e.toArray(this.events)],t[0]),t.fire(\"eventsscroll\",{scrollLeft:i[0].scrollLeft,oldScroll:s,scrollDir:this.scrollDir,events:e.toArray(this.events)}))},_createEvents:function(){var t=this,n=this.element,i=this.options;n.off(b.events.click,\".stream-event\").on(b.events.click,\".stream-event\",(function(s){var a=e(this);if(!(\"\"!==i.excludeClass&&a.hasClass(i.excludeClass)||null!==i.excludeElement&&e(s.target).is(i.excludeElement)))if(!1===i.closed&&!0!==a.data(\"closed\")&&\"select\"===i.eventClick)\"\"!==i.excludeSelectClass&&a.hasClass(i.excludeSelectClass)||null!==i.excludeSelectElement&&e(s.target).is(i.excludeSelectElement)||(a.hasClass(\"global-event\")?!0===i.selectGlobal&&a.toggleClass(\"selected\"):a.toggleClass(\"selected\"),!0===i.changeUri&&t._changeURI(),H.exec(i.onEventSelect,[a[0],a.hasClass(\"selected\")],n[0]),n.fire(\"eventselect\",{event:a[0],selected:a.hasClass(\"selected\")}));else if(\"\"!==i.excludeClickClass&&a.hasClass(i.excludeClickClass));else if(null!==i.excludeClickElement&&e(s.target).is(i.excludeClickElement));else if(H.exec(i.onEventClick,[a[0]],n[0]),n.fire(\"eventclick\",{event:a[0]}),!0===i.closed||!0===a.data(\"closed\")){var o=a.data(\"target\");o&&(window.location.href=o)}})),n.off(b.events.click,\".stream\").on(b.events.click,\".stream\",(function(s){var a=e(this),o=a.index();!1!==i.streamSelect&&(n.data(\"stream\")===o?(n.find(\".stream-event\").removeClass(\"disabled\"),n.data(\"stream\",-1)):(n.data(\"stream\",o),n.find(\".stream-event\").addClass(\"disabled\"),t.enableStream(a),H.exec(i.onStreamSelect,[a],n[0]),n.fire(\"streamselect\",{stream:a})),H.exec(i.onStreamClick,[a],n[0]),n.fire(\"streamclick\",{stream:a}))})),!0===i.wheel&&(n.find(\".events-area\").off(b.events.mousewheel),n.find(\".events-area\").on(b.events.mousewheel,(function(t){var n,i=e(this),s=t.originalEvent,a=s.deltaY<0?-1:1;void 0!==s.deltaY&&(n=i.scrollLeft()-100*a,i.scrollLeft(n),s.preventDefault())}))),n.find(\".events-area\").last().off(\"scroll\"),n.find(\".events-area\").last().on(\"scroll\",(function(e){t._fireScroll()})),!0===H.isTouchDevice()&&n.off(b.events.click,\".stream\").on(b.events.click,\".stream\",(function(){var t=e(this);t.toggleClass(\"focused\"),e.each(n.find(\".stream\"),(function(){e(this).is(t)||e(this).removeClass(\"focused\")}))}))},_changeURI:function(){this.element,this.options,this.data;var e=this.getLink();history.pushState({},document.title,e)},slideTo:function(t){var n,i=this.element,s=this.options;this.data,n=e(void 0===t?i.find(\".streamer-timeline li\")[0]:i.find(\".streamer-timeline .js-time-point-\"+t.replace(\":\",\"-\"))[0]),i.find(\".events-area\").animate({scrollLeft:n[0].offsetLeft-i.find(\".streams .stream\").outerWidth()},s.duration)},enableStream:function(e){var t=this.element,n=(this.options,this.data,e.index()-1);e.removeClass(\"disabled\").data(\"streamDisabled\",!1),t.find(\".stream-events\").eq(n).find(\".stream-event\").removeClass(\"disabled\")},disableStream:function(e){var t=this.element,n=(this.options,this.data,e.index()-1);e.addClass(\"disabled\").data(\"streamDisabled\",!0),t.find(\".stream-events\").eq(n).find(\".stream-event\").addClass(\"disabled\")},toggleStream:function(e){!0===e.data(\"streamDisabled\")?this.enableStream(e):this.disableStream(e)},getLink:function(){var t,n=this.element,i=this.options,s=(this.data,n.find(\".stream-event\")),a=[],o=window.location.href;return e.each(s,(function(){var t=e(this);void 0!==t.data(\"sid\")&&t.hasClass(\"selected\")&&a.push(t.data(\"sid\"))})),t=n.attr(\"id\")+\"|\"+a.join(\",\"),!0===i.encodeLink&&(t=btoa(t)),H.updateURIParameter(o,\"StreamerIDS\",t)},getTimes:function(){var t=this.element,n=(this.options,this.data,t.find(\".streamer-timeline > li\")),i=[];return e.each(n,(function(){i.push(e(this).data(\"time\"))})),i},getEvents:function(t,n){var i,s=this.element,a=(this.options,this.data,[]);switch(t){case\"selected\":i=s.find(\".stream-event.selected\");break;case\"non-selected\":i=s.find(\".stream-event:not(.selected)\");break;default:i=s.find(\".stream-event\")}return e.each(i,(function(){var t,i=e(this);!0!==n&&i.parent().hasClass(\"global-stream\")||(t=i.data(\"origin\"),a.push(t))})),a},source:function(e){var t=this.element;if(this.options,void 0===e)return this.options.source;t.attr(\"data-source\",e),this.options.source=e,this.changeSource()},dataSet:function(e){if(void 0===e)return this.options.data;this.options.data=e,this.changeData(e)},getStreamerData:function(){return this.data},toggleEvent:function(t){this.element;var n=this.options;this.data,(t=e(t)).hasClass(\"global-event\")&&!0!==n.selectGlobal||(t.hasClass(\"selected\")?this.selectEvent(t,!1):this.selectEvent(t,!0))},selectEvent:function(t,n){var i=this.element,s=this.options;this.data,void 0===n&&(n=!0),(t=e(t)).hasClass(\"global-event\")&&!0!==s.selectGlobal||(!0===n?t.addClass(\"selected\"):t.removeClass(\"selected\"),!0===s.changeUri&&this._changeURI(),H.exec(s.onEventSelect,[t[0],n],i[0]),i.fire(\"eventselect\",{event:t[0],selected:n}))},changeSource:function(){var t=this,n=this.element,i=this.options,s=(this.data,n.attr(\"data-source\"));\"\"!==String(s).trim()&&(i.source=s,H.exec(i.onDataLoad,[i.source],n[0]),n.fire(\"dataload\",{source:i.source}),e.json(i.source).then((function(e){H.exec(i.onDataLoaded,[i.source,e],n[0]),n.fire(\"dataloaded\",{source:i.source,data:e}),t.data=e,t.build()}),(function(e){H.exec(i.onDataLoadError,[i.source,e],n[0]),n.fire(\"dataloaderror\",{source:i.source,xhr:e})})),n.fire(\"sourcechange\"))},changeData:function(e){var t=this.element,n=this.options,i=this.data;n.data=\"object\"==typeof e?e:JSON.parse(t.attr(\"data-data\")),this.data=n.data,this.build(),t.fire(\"datachange\",{oldData:i,newData:n.data})},changeStreamSelectOption:function(){var e=this.element,t=this.options;this.data,t.streamSelect=\"true\"===e.attr(\"data-stream-select\").toLowerCase()},changeAttribute:function(e){switch(e){case\"data-source\":this.changeSource();break;case\"data-data\":this.changeData();break;case\"data-stream-select\":this.changeStreamSelectOption()}},destroy:function(){var e=this.element;return e.off(b.events.click,\".stream-event\"),e.off(b.events.click,\".stream\"),e.find(\".events-area\").off(b.events.mousewheel),e.find(\".events-area\").last().off(\"scroll\"),e}};b.plugin(\"streamer\",Yt);var Jt={material:!1,transition:!0,caption:\"\",captionPosition:\"right\",clsSwitch:\"\",clsCheck:\"\",clsCaption:\"\",onSwitchCreate:b.noop};b.switchSetup=function(t){Jt=e.extend({},Jt,t)},void 0!==typeof window.metroSwitchSetup&&b.switchSetup(window.metroSwitchSetup);var Gt={init:function(t,n){return this.options=e.extend({},Jt,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options,i=e(\"<label>\").addClass((!0===n.material?\" switch-material \":\" switch \")+t[0].className),s=e(\"<span>\").addClass(\"check\"),a=e(\"<span>\").addClass(\"caption\").html(n.caption);b.checkRuntime(t,\"switch\"),t.attr(\"type\",\"checkbox\"),i.insertBefore(t),t.appendTo(i),s.appendTo(i),a.appendTo(i),!0===n.transition&&i.addClass(\"transition-on\"),\"left\"===n.captionPosition&&i.addClass(\"caption-left\"),t[0].className=\"\",i.addClass(n.clsSwitch),a.addClass(n.clsCaption),s.addClass(n.clsCheck),t.is(\":disabled\")?this.disable():this.enable(),H.exec(n.onSwitchCreate,null,t[0]),t.fire(\"switchcreate\")},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case\"disabled\":this.toggleState()}},destroy:function(){return this.element}};b.plugin(\"switch\",Gt);var Kt={emptyTableTitle:\"Nothing to show\",templateBeginToken:\"<%\",templateEndToken:\"%>\",paginationDistance:5,locale:METRO_LOCALE,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:\"checkbox\",checkStyle:1,checkColIndex:0,checkName:null,checkStoreKey:\"TABLE:$1:KEYS\",rownum:!1,rownumTitle:\"#\",filters:null,filtersOperator:\"and\",head:null,body:null,static:!1,source:null,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,rows:10,rowsSteps:\"10,25,50,100\",staticView:!1,viewSaveMode:\"client\",viewSavePath:\"TABLE:$1:OPTIONS\",sortDir:\"asc\",decimalSeparator:\".\",thousandSeparator:\",\",tableRowsCountTitle:\"Show entries:\",tableSearchTitle:\"Search:\",tableInfoTitle:\"Showing $1 to $2 of $3 entries\",paginationPrevTitle:\"Prev\",paginationNextTitle:\"Next\",allRecordsTitle:\"All\",inspectorTitle:\"Inspector\",activityType:\"cycle\",activityStyle:\"color\",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,cellWrapper:!1,clsComponent:\"\",clsTableContainer:\"\",clsTable:\"\",clsHead:\"\",clsHeadRow:\"\",clsHeadCell:\"\",clsBody:\"\",clsBodyRow:\"\",clsBodyCell:\"\",clsCellWrapper:\"\",clsFooter:\"\",clsFooterRow:\"\",clsFooterCell:\"\",clsTableTop:\"\",clsRowsCount:\"\",clsSearch:\"\",clsTableBottom:\"\",clsTableInfo:\"\",clsTablePagination:\"\",clsPagination:\"\",clsEvenRow:\"\",clsOddRow:\"\",clsRow:\"\",clsEmptyTableTitle:\"\",onDraw:b.noop,onDrawRow:b.noop,onDrawCell:b.noop,onAppendRow:b.noop,onAppendCell:b.noop,onSortStart:b.noop,onSortStop:b.noop,onSortItemSwitch:b.noop,onSearch:b.noop,onRowsCountChange:b.noop,onDataLoad:b.noop,onDataLoadError:b.noop,onDataLoaded:b.noop,onDataSaveError:b.noop,onFilterRowAccepted:b.noop,onFilterRowDeclined:b.noop,onCheckClick:b.noop,onCheckClickAll:b.noop,onCheckDraw:b.noop,onViewSave:b.noop,onViewGet:b.noop,onViewCreated:b.noop,onTableCreate:b.noop};b.tableSetup=function(t){Kt=e.extend({},Kt,t)},void 0!==typeof window.metroTableSetup&&b.tableSetup(window.metroTableSetup);var qt={init:function(t,n){return this.options=e.extend({},Kt,t),this.elem=n,this.element=e(n),this.currentPage=1,this.pagesCount=1,this.searchString=\"\",this.data=null,this.activity=null,this.loadActivity=null,this.busy=!1,this.filters=[],this.wrapperInfo=null,this.wrapperSearch=null,this.wrapperRows=null,this.wrapperPagination=null,this.filterIndex=null,this.filtersIndexes=[],this.component=null,this.inspector=null,this.view={},this.viewDefault={},this.locale=b.locales[\"en-US\"],this.input_interval=null,this.searchFields=[],this.sort={dir:\"asc\",colIndex:0},this.service=[],this.heads=[],this.items=[],this.foots=[],this.filteredItems=[],this.index={},this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t,n,i,s=this,a=this.element,o=this.options,r=H.elementId(\"table\");if(b.checkRuntime(a,\"table\"),H.isValue(a.attr(\"id\"))||a.attr(\"id\",r),H.isValue(b.locales[o.locale])&&(this.locale=b.locales[o.locale]),H.isValue(o.searchFields)&&(this.searchFields=H.strToArray(o.searchFields)),H.isValue(o.head)){var l=o.head;o.head=H.isObject(o.head),o.head||(console.warn(\"Head \"+l+\" defined but not exists!\"),o.head=null)}if(H.isValue(o.body)){var c=o.body;o.body=H.isObject(o.body),o.body||(console.warn(\"Body \"+c+\" defined but not exists!\"),o.body=null)}if(!0===o.static&&(o.showPagination=!1,o.showRowsSteps=!1,o.showSearch=!1,o.showTableInfo=!1,o.rows=-1),(t=e(\"<div>\").addClass(\"table-component\")).attr(\"id\",H.elementId(\"table\")),t.insertBefore(a),n=e(\"<div>\").addClass(\"table-container\").addClass(o.clsTableContainer).appendTo(t),a.appendTo(n),!0===o.horizontalScroll&&n.addClass(\"horizontal-scroll\"),!H.isNull(o.horizontalScrollStop)&&H.mediaExist(o.horizontalScrollStop)&&n.removeClass(\"horizontal-scroll\"),t.addClass(o.clsComponent),this.activity=e(\"<div>\").addClass(\"table-progress\").appendTo(t),i=e(\"<div>\").appendTo(this.activity),b.makePlugin(i,\"activity\",{type:o.activityType,style:o.activityStyle}),!0!==o.showActivity&&this.activity.css({visibility:\"hidden\"}),this.component=t,null!==o.source){H.exec(o.onDataLoad,[o.source],a[0]),a.fire(\"dataload\",{source:o.source});var d=H.isObject(o.source);!1!==d&&e.isPlainObject(d)?s._build(d):this.activity.show((function(){e.json(o.source).then((function(e){if(s.activity.hide(),\"object\"!=typeof e)throw new Error(\"Data for table is not a object\");H.exec(o.onDataLoaded,[o.source,e],a[0]),a.fire(\"dataloaded\",{source:o.source,data:e}),s._build(e)}),(function(e){s.activity.hide(),H.exec(o.onDataLoadError,[o.source,e],a[0]),a.fire(\"dataloaderror\",{source:o.source,xhr:e})}))}))}else s._build()},_createIndex:function(){var e=this,t=this.options.checkColIndex;i((function(){e.items.forEach((function(n,i){e.index[n[t]]=i}))}))},_build:function(t){var n,i=this,s=this.element,a=this.options,o=s.attr(\"id\");a.rows=parseInt(a.rows),this.items=[],this.heads=[],this.foots=[],Array.isArray(a.head)&&(this.heads=a.head),Array.isArray(a.body)&&(this.items=a.body),H.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=H.objectClone(this.view),\"client\"===a.viewSaveMode.toLowerCase()?(n=b.storage.getItem(a.viewSavePath.replace(\"$1\",o)),H.isValue(n)&&H.objectLength(n)===H.objectLength(this.view)&&(this.view=n,H.exec(a.onViewGet,[n],s[0]),s.fire(\"viewget\",{source:\"client\",view:n})),this._final()):e.json(a.viewSavePath,{id:o}).then((function(e){H.isValue(e)&&H.objectLength(e)===H.objectLength(i.view)&&(i.view=e,H.exec(a.onViewGet,[e],s[0]),s.fire(\"viewget\",{source:\"server\",view:e})),i._final()}),(function(){i._final(),console.log(\"Warning! Error loading view for table \"+s.attr(\"id\")+\" \")}))},_final:function(){var e=this.element,t=this.options,n=e.attr(\"id\");b.storage.delItem(t.checkStoreKey.replace(\"$1\",n)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),H.exec(t.onTableCreate,[e],e[0]),e.fire(\"tablecreate\")},_service:function(){var e=this.options;this.service=[{title:e.rownumTitle,format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:\"rownum-cell \"+(!0!==e.rownum?\"d-none\":\"\"),cls:\"rownum-cell \"+(!0!==e.rownum?\"d-none\":\"\"),colspan:void 0,type:\"rownum\"},{title:\"checkbox\"===e.checkType?\"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='\"+e.checkStyle+\"'>\":\"\",format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:\"check-cell \"+(!0!==e.check?\"d-none\":\"\"),cls:\"check-cell \"+(!0!==e.check?\"d-none\":\"\"),colspan:void 0,type:\"rowcheck\"}]},_createView:function(){var t,n=this.element,i=this.options;return t={},e.each(this.heads,(function(e){H.isValue(this.cls)&&(this.cls=this.cls.replace(\"hidden\",\"\")),H.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace(\"hidden\",\"\")),t[e]={index:e,\"index-view\":e,show:!H.isValue(this.show)||this.show,size:H.isValue(this.size)?this.size:\"\"}})),H.exec(i.onViewCreated,[t],t),n.fire(\"viewcreated\",{view:t}),t},_createInspectorItems:function(t){var n,i,s=this,a=this.options,o=[],r=this.heads;for(t.html(\"\"),n=0;n<r.length;n++)o[n]=null;for(e.each(r,(function(t){(i=e(\"<tr>\")).data(\"index\",t),i.data(\"index-view\",t),e(\"<td>\").html(\"<input type='checkbox' data-style='\"+a.checkStyle+\"' data-role='checkbox' name='column_show_check[]' value='\"+t+\"' \"+(H.bool(s.view[t].show)?\"checked\":\"\")+\">\").appendTo(i),e(\"<td>\").html(this.title).appendTo(i),e(\"<td>\").html(\"<input type='number' data-role='spinner' name='column_size' value='\"+s.view[t].size+\"' data-index='\"+t+\"'>\").appendTo(i),e(\"<td>\").html(\"<button class='button square js-table-inspector-field-up' type='button'><span class='mif-arrow-up'></span></button><button class='button square js-table-inspector-field-down' type='button'><span class='mif-arrow-down'></span></button>\").appendTo(i),o[s.view[t][\"index-view\"]]=i})),n=0;n<r.length;n++)o[n].appendTo(t)},_createInspector:function(){var t,n,i,s,a,o=this.options;(t=e(\"<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>\").addClass(\"table-inspector\")).attr(\"for\",this.element.attr(\"id\")),e(\"<div class='table-inspector-header'>\"+o.inspectorTitle+\"</div>\").appendTo(t),n=e(\"<div>\").addClass(\"table-wrap\").appendTo(t),i=e(\"<table>\").addClass(\"table subcompact\"),s=e(\"<tbody>\").appendTo(i),i.appendTo(n),this._createInspectorItems(s),a=e(\"<div class='table-inspector-actions'>\").appendTo(t),e(\"<button class='button primary js-table-inspector-save' type='button'>\").html(this.locale.buttons.save).appendTo(a),e(\"<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>\").html(this.locale.buttons.reset).appendTo(a),e(\"<button class='button link js-table-inspector-cancel place-right' type='button'>\").html(this.locale.buttons.cancel).appendTo(a),t.data(\"open\",!1),this.inspector=t,e(\"body\").append(t),this._createInspectorEvents()},_resetInspector:function(){var e=this.inspector.find(\"table tbody\");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){var t=this,n=this.element.find(\"thead\");n.length>0&&e.each(n.find(\"tr > *\"),(function(){var n,i,s,a=e(this);n=H.isValue(a.data(\"sort-dir\"))?a.data(\"sort-dir\"):a.hasClass(\"sort-asc\")?\"asc\":a.hasClass(\"sort-desc\")?\"desc\":void 0,s=(s=(s=(s=a[0].className.replace(\"sortable-column\",\"\")).replace(\"sort-asc\",\"\")).replace(\"sort-desc\",\"\")).replace(\"hidden\",\"\"),i={type:\"data\",title:a.html(),name:H.isValue(a.data(\"name\"))?a.data(\"name\"):a.text().replace(\" \",\"_\"),sortable:a.hasClass(\"sortable-column\")||H.isValue(a.data(\"sortable\"))&&JSON.parse(!0===a.data(\"sortable\")),sortDir:n,format:H.isValue(a.data(\"format\"))?a.data(\"format\"):\"string\",clsColumn:H.isValue(a.data(\"cls-column\"))?a.data(\"cls-column\"):\"\",cls:s,colspan:a.attr(\"colspan\"),size:H.isValue(a.data(\"size\"))?a.data(\"size\"):\"\",show:!(a.hasClass(\"hidden\")||H.isValue(a.data(\"show\"))&&!1===JSON.parse(a.data(\"show\"))),required:!!H.isValue(a.data(\"required\"))&&!0===JSON.parse(a.data(\"required\")),field:H.isValue(a.data(\"field\"))?a.data(\"field\"):\"input\",fieldType:H.isValue(a.data(\"field-type\"))?a.data(\"field-type\"):\"text\",validator:H.isValue(a.data(\"validator\"))?a.data(\"validator\"):null,template:H.isValue(a.data(\"template\"))?a.data(\"template\"):null},t.heads.push(i)}))},_createFootsFromHTML:function(){var t=this,n=this.element.find(\"tfoot\");n.length>0&&e.each(n.find(\"tr > *\"),(function(){var n,i=e(this);n={title:i.html(),name:!!H.isValue(i.data(\"name\"))&&i.data(\"name\"),cls:i[0].className,colspan:i.attr(\"colspan\")},t.foots.push(n)}))},_createItemsFromHTML:function(){var t=this,n=this.element.find(\"tbody\");n.length>0&&e.each(n.find(\"tr\"),(function(){var n=e(this),i=[];e.each(n.children(\"td\"),(function(){var t=e(this);i.push(t.html())})),t.items.push(i)})),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(t){var n=this;\"string\"==typeof t&&(t=JSON.parse(t)),void 0!==t.header?n.heads=t.header:this._createHeadsFromHTML(),void 0!==t.data&&e.each(t.data,(function(){var t=[];e.each(this,(function(){t.push(this)})),n.items.push(t)})),void 0!==t.footer?this.foots=t.footer:this._createFootsFromHTML()},_createTableHeader:function(){var t,n,i,s,a=this.element,o=this.options,r=e(\"<thead>\").html(\"\"),l=[],c=o.staticView?this._createView():this.view;if(a.find(\"thead\").remove(),r.addClass(o.clsHead),0===this.heads.length)return r;for(t=e(\"<tr>\").addClass(o.clsHeadRow).appendTo(r),e.each(this.service,(function(){var i=[];n=e(\"<th>\").appendTo(t),H.isValue(this.title)&&n.html(this.title),H.isValue(this.size)&&n.css({width:this.size}),H.isValue(this.cls)&&i.push(this.cls),i.push(o.clsHeadCell),n.addClass(i.join(\" \"))})),s=this.heads,i=0;i<s.length;i++)l[i]=null;for(e.each(s,(function(t){var i=[];(n=e(\"<th>\")).data(\"index\",t),H.isValue(this.title)&&n.html(this.title),H.isValue(this.format)&&n.attr(\"data-format\",this.format),H.isValue(this.name)&&n.attr(\"data-name\",this.name),H.isValue(this.colspan)&&n.attr(\"colspan\",this.colspan),H.isValue(c[t].size)&&n.css({width:c[t].size}),!0===this.sortable&&(i.push(\"sortable-column\"),H.isValue(this.sortDir)&&i.push(\"sort-\"+this.sortDir)),H.isValue(this.cls)&&e.each(this.cls.toArray(),(function(){i.push(this)})),!1===H.bool(c[t].show)&&-1===i.indexOf(\"hidden\")&&i.push(\"hidden\"),i.push(o.clsHeadCell),H.bool(c[t].show)&&H.arrayDelete(i,\"hidden\"),n.addClass(i.join(\" \")),l[c[t][\"index-view\"]]=n})),i=0;i<s.length;i++)l[i].appendTo(t);a.prepend(r)},_createTableBody:function(){var t,n=this.element;t=n.find(\"thead\"),n.find(\"tbody\").remove(),e(\"<tbody>\").addClass(this.options.clsBody).insertAfter(t)},_createTableFooter:function(){var t,n,i=this.element,s=this.options,a=e(\"<tfoot>\").addClass(s.clsFooter);i.find(\"tfoot\").remove(),0!==this.foots.length?(t=e(\"<tr>\").addClass(s.clsHeadRow).appendTo(a),e.each(this.foots,(function(){n=e(\"<th>\").appendTo(t),void 0!==this.title&&n.html(this.title),void 0!==this.name&&n.addClass(\"foot-column-name-\"+this.name),void 0!==this.cls&&n.addClass(this.cls),H.isValue(this.colspan)&&n.attr(\"colspan\",this.colspan),n.appendTo(t)})),i.append(a)):i.append(a)},_createTopBlock:function(){var t,n,i,s,a=this,o=this.element,r=this.options,l=e(\"<div>\").addClass(\"table-top\").addClass(r.clsTableTop).insertBefore(o.parent());return(t=H.isValue(this.wrapperSearch)?this.wrapperSearch:e(\"<div>\").addClass(\"table-search-block\").addClass(r.clsSearch).appendTo(l)).addClass(r.clsSearch),n=e(\"<input>\").attr(\"type\",\"text\").appendTo(t),b.makePlugin(n,\"input\",{prepend:r.tableSearchTitle}),!0!==r.showSearch&&t.hide(),(i=H.isValue(this.wrapperRows)?this.wrapperRows:e(\"<div>\").addClass(\"table-rows-block\").appendTo(l)).addClass(r.clsRowsCount),s=e(\"<select>\").appendTo(i),e.each(H.strToArray(r.rowsSteps),(function(){var t=parseInt(this),n=e(\"<option>\").attr(\"value\",t).text(-1===t?r.allRecordsTitle:t).appendTo(s);t===parseInt(r.rows)&&n.attr(\"selected\",\"selected\")})),b.makePlugin(s,\"select\",{filter:!1,prepend:r.tableRowsCountTitle,onChange:function(e){(e=parseInt(e))!==parseInt(r.rows)&&(r.rows=e,a.currentPage=1,a._draw(),H.exec(r.onRowsCountChange,[e],o[0]),o.fire(\"rowscountchange\",{val:e}))}}),!0!==r.showRowsSteps&&i.hide(),l},_createBottomBlock:function(){var t,n,i=this.element,s=this.options,a=e(\"<div>\").addClass(\"table-bottom\").addClass(s.clsTableBottom).insertAfter(i.parent());return(t=H.isValue(this.wrapperInfo)?this.wrapperInfo:e(\"<div>\").addClass(\"table-info\").appendTo(a)).addClass(s.clsTableInfo),!0!==s.showTableInfo&&t.hide(),(n=H.isValue(this.wrapperPagination)?this.wrapperPagination:e(\"<div>\").addClass(\"table-pagination\").appendTo(a)).addClass(s.clsTablePagination),!0!==s.showPagination&&n.hide(),a},_createStructure:function(){var t,n=this,i=this.element,s=this.options,a=e(s.searchWrapper),o=e(s.infoWrapper),r=e(s.rowsWrapper),l=e(s.paginationWrapper);a.length>0&&(this.wrapperSearch=a),o.length>0&&(this.wrapperInfo=o),r.length>0&&(this.wrapperRows=r),l.length>0&&(this.wrapperPagination=l),i.html(\"\").addClass(s.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var c,d=!1;this.heads.length>0&&e.each(this.heads,(function(e){!d&&[\"asc\",\"desc\"].indexOf(this.sortDir)>-1&&(d=!0,n.sort.colIndex=e,n.sort.dir=this.sortDir)})),d&&(t=i.find(\"thead th\"),this._resetSortClass(t),e(t.get(this.sort.colIndex+n.service.length)).addClass(\"sort-\"+this.sort.dir),this.sorting()),H.isValue(s.filters)&&e.each(H.strToArray(s.filters),(function(){!1!==(c=H.isFunc(this))&&n.filtersIndexes.push(n.addFilter(c))})),this.currentPage=1,this._draw()},_resetSortClass:function(t){e(t).removeClass(\"sort-asc sort-desc\")},_createEvents:function(){var t,n=this,s=this.element,a=this.options,o=s.closest(\".table-component\"),r=o.find(\".table-container\"),l=o.find(\".table-search-block input\"),c=s.attr(\"id\");e(window).on(b.events.resize,(function(){!0===a.horizontalScroll&&(!H.isNull(a.horizontalScrollStop)&&H.mediaExist(a.horizontalScrollStop)?r.removeClass(\"horizontal-scroll\"):r.addClass(\"horizontal-scroll\"))}),{ns:o.attr(\"id\")}),s.on(b.events.click,\".sortable-column\",(function(){if(!0===a.muteTable&&s.addClass(\"disabled\"),n.busy)return!1;n.busy=!0;var t=e(this);n.activity.show((function(){i((function(){n.currentPage=1,n.sort.colIndex=t.data(\"index\"),t.hasClass(\"sort-asc\")||t.hasClass(\"sort-desc\")?t.hasClass(\"sort-asc\")?n.sort.dir=\"desc\":n.sort.dir=\"asc\":n.sort.dir=a.sortDir,n._resetSortClass(s.find(\".sortable-column\")),t.addClass(\"sort-\"+n.sort.dir),n.sorting(),n._draw((function(){n.busy=!1,!0===a.muteTable&&s.removeClass(\"disabled\")}))}))}))})),s.on(b.events.click,\".table-service-check input\",(function(){var t=e(this),n=t.is(\":checked\"),i=\"\"+t.val(),o=a.checkStoreKey.replace(\"$1\",c),r=b.storage,l=r.getItem(o);\"radio\"===t.attr(\"type\")&&(l=[]),n?H.isValue(l)?-1===Array(l).indexOf(i)&&l.push(i):l=[i]:H.isValue(l)?H.arrayDelete(l,i):l=[],r.setItem(o,l),H.exec(a.onCheckClick,[n],this),s.fire(\"checkclick\",{check:this,status:n})})),s.on(b.events.click,\".table-service-check-all input\",(function(){var t=e(this).is(\":checked\"),i=a.checkStoreKey.replace(\"$1\",c),o=[];t?e.each(n.filteredItems,(function(){-1===o.indexOf(this[a.checkColIndex])&&o.push(\"\"+this[a.checkColIndex])})):o=[],b.storage.setItem(i,o),n._draw(),H.exec(a.onCheckClickAll,[t],this),s.fire(\"checkclickall\",{check:this,status:t})}));var d=function(){n.searchString=this.value.trim().toLowerCase(),clearInterval(n.input_interval),n.input_interval=!1,n.input_interval||(n.input_interval=setTimeout((function(){n.currentPage=1,n._draw(),clearInterval(n.input_interval),n.input_interval=!1}),a.searchThreshold))};function h(t){var i=e(t),s=i.parent();0!==n.filteredItems.length&&(s.hasClass(\"active\")||(s.hasClass(\"service\")?\"prev\"===i.data(\"page\")?(n.currentPage--,0===n.currentPage&&(n.currentPage=1)):(n.currentPage++,n.currentPage>n.pagesCount&&(n.currentPage=n.pagesCount)):n.currentPage=i.data(\"page\"),n._draw()))}l.on(b.events.inputchange,d),H.isValue(this.wrapperSearch)&&(t=this.wrapperSearch.find(\"input\")).length>0&&t.on(b.events.inputchange,d),o.on(b.events.click,\".pagination .page-link\",(function(){h(this)})),H.isValue(this.wrapperPagination)&&this.wrapperPagination.on(b.events.click,\".pagination .page-link\",(function(){h(this)})),this._createInspectorEvents(),s.on(b.events.click,\".js-table-crud-button\",(function(){}))},_createInspectorEvents:function(){var t=this,n=this.inspector;this._removeInspectorEvents(),n.on(b.events.click,\".js-table-inspector-field-up\",(function(){var n,i=e(this).closest(\"tr\"),s=i.prev(\"tr\"),a=i.data(\"index\");0!==s.length&&(i.insertBefore(s),i.addClass(\"flash\"),setTimeout((function(){i.removeClass(\"flash\")}),1e3),n=i.index(),i.data(\"index-view\",n),t.view[a][\"index-view\"]=n,e.each(i.nextAll(),(function(){var i=e(this);n++,i.data(\"index-view\",n),t.view[i.data(\"index\")][\"index-view\"]=n})),t._createTableHeader(),t._draw())})),n.on(b.events.click,\".js-table-inspector-field-down\",(function(){var n,i=e(this).closest(\"tr\"),s=i.next(\"tr\"),a=i.data(\"index\");0!==s.length&&(i.insertAfter(s),i.addClass(\"flash\"),setTimeout((function(){i.removeClass(\"flash\")}),1e3),n=i.index(),i.data(\"index-view\",n),t.view[a][\"index-view\"]=n,e.each(i.prevAll(),(function(){var i=e(this);n--,i.data(\"index-view\",n),t.view[i.data(\"index\")][\"index-view\"]=n})),t._createTableHeader(),t._draw())})),n.on(b.events.click,\"input[type=checkbox]\",(function(){var n=e(this),i=n.is(\":checked\"),s=n.val(),a=[\"cls\",\"clsColumn\"];i?e.each(a,(function(){var e;e=H.isValue(t.heads[s][this])?H.strToArray(t.heads[s][this],\" \"):[],H.arrayDelete(e,\"hidden\"),t.heads[s][this]=e.join(\" \"),t.view[s].show=!0})):e.each(a,(function(){var e;-1===(e=H.isValue(t.heads[s][this])?H.strToArray(t.heads[s][this],\" \"):[]).indexOf(\"hidden\")&&e.push(\"hidden\"),t.heads[s][this]=e.join(\" \"),t.view[s].show=!1})),t._createTableHeader(),t._draw()})),n.find(\"input[type=number]\").on(b.events.inputchange,(function(){var n=e(this),i=n.attr(\"data-index\"),s=parseInt(n.val());t.view[i].size=0===s?\"\":s,t._createTableHeader()})),n.on(b.events.click,\".js-table-inspector-save\",(function(){t._saveTableView(),t.openInspector(!1)})),n.on(b.events.click,\".js-table-inspector-cancel\",(function(){t.openInspector(!1)})),n.on(b.events.click,\".js-table-inspector-reset\",(function(){t.resetView()}))},_removeInspectorEvents:function(){var e=this.inspector;e.off(b.events.click,\".js-table-inspector-field-up\"),e.off(b.events.click,\".js-table-inspector-field-down\"),e.off(b.events.click,\"input[type=checkbox]\"),e.off(b.events.click,\".js-table-inspector-save\"),e.off(b.events.click,\".js-table-inspector-cancel\"),e.off(b.events.click,\".js-table-inspector-reset\"),e.find(\"input[type=number]\").off(b.events.inputchange)},_saveTableView:function(){var t=this.element,n=this.options,i=this.view,s=t.attr(\"id\");if(\"client\"===n.viewSaveMode.toLowerCase())b.storage.setItem(n.viewSavePath.replace(\"$1\",s),i),H.exec(n.onViewSave,[n.viewSavePath,i],t[0]),t.fire(\"viewsave\",{target:\"client\",path:n.viewSavePath,view:i});else{var a={id:t.attr(\"id\"),view:i};e.post(n.viewSavePath,a).then((function(e){H.exec(n.onViewSave,[n.viewSavePath,i,a,e],t[0]),t.fire(\"viewsave\",{target:\"server\",path:n.viewSavePath,view:i,post_data:a})}),(function(e){H.exec(n.onDataSaveError,[n.viewSavePath,a,e],t[0]),t.fire(\"datasaveerror\",{source:n.viewSavePath,xhr:e,post_data:a})}))}},_info:function(e,t,n){var i,s=this.element,a=this.options,o=s.closest(\".table-component\"),r=H.isValue(this.wrapperInfo)?this.wrapperInfo:o.find(\".table-info\");0!==r.length&&(t>n&&(t=n),0===this.items.length&&(e=t=n=0),i=(i=(i=(i=a.tableInfoTitle).replace(\"$1\",e)).replace(\"$2\",t)).replace(\"$3\",n),r.html(i))},_paging:function(e){var t=this.element,n=this.options,i=t.closest(\".table-component\");this.pagesCount=Math.ceil(e/n.rows),dt({length:e,rows:n.rows,current:this.currentPage,target:H.isValue(this.wrapperPagination)?this.wrapperPagination:i.find(\".table-pagination\"),claPagination:n.clsPagination,prevTitle:n.paginationPrevTitle,nextTitle:n.paginationNextTitle,distance:!0===n.paginationShortMode?n.paginationDistance:0})},_filter:function(){var t,n=this,i=this.options,s=this.element;return t=H.isValue(this.searchString)&&n.searchString.length>=i.searchMinLength||this.filters.length>0?this.items.filter((function(t){var a,o,r,l=\"\",c=0;if(n.filters.length>0){for(a=\"and\"===i.filtersOperator.toLowerCase(),r=0;r<n.filters.length;r++)H.isNull(n.filters[r])||(c++,a=\"and\"===i.filtersOperator.toLowerCase()?a&&H.exec(n.filters[r],[t,n.heads]):a||H.exec(n.filters[r],[t,n.heads]));0===c&&(a=!0)}else a=!0;return n.searchFields.length>0?e.each(n.heads,(function(e,i){n.searchFields.indexOf(i.name)>-1&&(l+=\"•\"+t[e])})):l=t.join(\"•\"),l=l.replace(/[\\n\\r]+|[\\s]{2,}/g,\" \").trim().toLowerCase(),o=!(H.isValue(n.searchString)&&n.searchString.length>=i.searchMinLength)||~l.indexOf(n.searchString),(a=a&&o)?(H.exec(i.onFilterRowAccepted,[t],s[0]),s.fire(\"filterrowaccepted\",{row:t})):(H.exec(i.onFilterRowDeclined,[t],s[0]),s.fire(\"filterrowdeclined\",{row:t})),a})):this.items,H.exec(i.onSearch,[n.searchString,t],s[0]),s.fire(\"search\",{search:n.searchString,items:t}),this.filteredItems=t,t},_draw:function(t){var n,i,s,a,o,r,l,c,d,h=this,u=this.element,p=this.options,f=u.find(\"tbody\"),m=-1===parseInt(p.rows)?0:p.rows*(this.currentPage-1),v=-1===parseInt(p.rows)?this.items.length-1:m+p.rows-1,g=b.storage.getItem(p.checkStoreKey.replace(\"$1\",u.attr(\"id\"))),C=p.staticView?this.viewDefault:this.view;if(f.html(\"\"),this.heads.length){if((d=this._filter()).length>0){for(n=m;n<=v;n++)if(r=d[n],l=[],H.isValue(r)){for((s=e(\"<tr>\").addClass(p.clsBodyRow)).data(\"original\",r),c=n%2==0,a=e(\"<td>\").html(n+1),void 0!==h.service[0].clsColumn&&a.addClass(h.service[0].clsColumn),a.appendTo(s),a=e(\"<td>\"),o=\"checkbox\"===p.checkType?e(\"<input type='checkbox' data-style='\"+p.checkStyle+\"' data-role='checkbox' name='\"+(H.isValue(p.checkName)?p.checkName:\"table_row_check\")+\"[]' value='\"+d[n][p.checkColIndex]+\"'>\"):e(\"<input type='radio' data-style='\"+p.checkStyle+\"' data-role='radio' name='\"+(H.isValue(p.checkName)?p.checkName:\"table_row_check\")+\"' value='\"+d[n][p.checkColIndex]+\"'>\"),H.isValue(g)&&Array.isArray(g)&&g.indexOf(\"\"+d[n][p.checkColIndex])>-1&&o.prop(\"checked\",!0),o.addClass(\"table-service-check\"),H.exec(p.onCheckDraw,[o],o[0]),u.fire(\"checkdraw\",{check:o}),o.appendTo(a),void 0!==h.service[1].clsColumn&&a.addClass(h.service[1].clsColumn),a.appendTo(s),i=0;i<r.length;i++)l[i]=null;for(e.each(r,(function(t){var n=this,i=e(\"<td>\");H.isValue(h.heads[t].template)&&(n=h.heads[t].template.replace(\"%VAL%\",n)),i.html(n),i.addClass(p.clsBodyCell),H.isValue(h.heads[t].clsColumn)&&i.addClass(h.heads[t].clsColumn),!1===H.bool(C[t].show)&&i.addClass(\"hidden\"),H.bool(C[t].show)&&i.removeClass(\"hidden\"),i.data(\"original\",this),l[C[t][\"index-view\"]]=i,H.exec(p.onDrawCell,[i,n,t,h.heads[t],r],i[0]),u.fire(\"drawcell\",{td:i,val:n,cellIndex:t,head:h.heads[t],items:r}),!0===p.cellWrapper&&(n=e(\"<div>\").addClass(\"data-wrapper\").addClass(p.clsCellWrapper).html(i.html()),i.html(\"\").append(n))})),i=0;i<r.length;i++)l[i].appendTo(s),H.exec(p.onAppendCell,[l[i],s,i,u],l[i][0]),u.fire(\"appendcell\",{td:l[i],tr:s,index:i});H.exec(p.onDrawRow,[s,h.view,h.heads,r],s[0]),u.fire(\"drawrow\",{tr:s,view:h.view,heads:h.heads,items:r}),s.addClass(p.clsRow).addClass(c?p.clsEvenRow:p.clsOddRow).appendTo(f),H.exec(p.onAppendRow,[s,u],s[0]),u.fire(\"appendrow\",{tr:s})}}else i=0,e.each(C,(function(){this.show&&i++})),s=e(\"<tr>\").addClass(p.clsBodyRow).appendTo(f),(a=e(\"<td>\").attr(\"colspan\",i).addClass(\"text-center\").html(e(\"<span>\").addClass(p.clsEmptyTableTitle).html(p.emptyTableTitle))).appendTo(s);this._info(m+1,v+1,d.length),this._paging(d.length),this.activity&&this.activity.hide(),H.exec(p.onDraw,[u],u[0]),u.fire(\"draw\",u[0]),void 0!==t&&H.exec(t,[u],u[0])}else console.warn(\"Heads is not defined for table ID \"+u.attr(\"id\"))},_getItemContent:function(e){var t,n=this.options,i=e[this.sort.colIndex],s=this.heads[this.sort.colIndex].format,a=H.isNull(this.heads)||H.isNull(this.heads[this.sort.colIndex])||!H.isValue(this.heads[this.sort.colIndex].formatMask)?\"%Y-%m-%d\":this.heads[this.sort.colIndex].formatMask,o=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:n.thousandSeparator,r=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:n.decimalSeparator;if(t=(\"\"+i).toLowerCase().replace(/[\\n\\r]+|[\\s]{2,}/g,\" \").trim(),H.isValue(t)&&H.isValue(s))switch(-1!==[\"number\",\"int\",\"float\",\"money\"].indexOf(s)&&(t=H.parseNumber(t,o,r)),s){case\"date\":t=H.isValue(a)?t.toDate(a):new Date(t);break;case\"number\":t=Number(t);break;case\"int\":t=parseInt(t);break;case\"float\":t=parseFloat(t);break;case\"money\":t=H.parseMoney(t);break;case\"card\":t=H.parseCard(t);break;case\"phone\":t=H.parsePhone(t)}return t},addItem:function(e,t){if(!Array.isArray(e))return console.warn(\"Item is not an array and can't be added\"),this;this.items.push(e),!1!==t&&this.draw()},addItems:function(e,t){if(!Array.isArray(e))return console.warn(\"Items is not an array and can't be added\"),this;e.forEach((function(e){Array.isArray(e)&&this.items.push(e,!1)})),this.draw(),!1!==t&&this.draw()},updateItem:function(e,t,n){var i=this.items[this.index[e]],s=null;return H.isNull(i)?(console.warn(\"Item is undefined for update\"),this):(isNaN(t)&&this.heads.forEach((function(e,n){e.name===t&&(s=n)})),H.isNull(s)?(console.log(\"Item is undefined for update. Field \"+t+\" not found in data structure\"),this):(i[s]=n,this.items[this.index[e]]=i,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,t){var n,i=[],s=H.isFunc(t);for(n=0;n<this.items.length;n++)s?H.exec(t,[this.items[n][e]])&&i.push(n):this.items[n][e]===t&&i.push(n);return this.items=H.arrayDeleteByMultipleKeys(this.items,i),this},deleteItemByName:function(e,t){var n,i,s=[],a=H.isFunc(t);for(n=0;n<this.heads.length;n++)if(this.heads[n].name===e){i=n;break}for(n=0;n<this.items.length;n++)a?H.exec(t,[this.items[n][i]])&&s.push(n):this.items[n][i]===t&&s.push(n);return this.items=H.arrayDeleteByMultipleKeys(this.items,s),this},draw:function(){return this._draw(),this},sorting:function(e){var t=this,n=this.element,i=this.options;return H.isValue(e)&&(this.sort.dir=e),H.exec(i.onSortStart,[this.items],n[0]),n.fire(\"sortstart\",this.items),this.items.sort((function(e,s){var a=t._getItemContent(e),o=t._getItemContent(s),r=0;return a<o&&(r=\"asc\"===t.sort.dir?-1:1),a>o&&(r=\"asc\"===t.sort.dir?1:-1),0!==r&&(H.exec(i.onSortItemSwitch,[e,s,r],n[0]),n.fire(\"sortitemswitch\",{a:e,b:s,result:r})),r})),H.exec(i.onSortStop,[this.items],n[0]),n.fire(\"sortstop\",this.items),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(t){var n,i=this,s=this.element,a=!1;this._createIndex(),!0===t&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&e.each(this.heads,(function(e){!a&&[\"asc\",\"desc\"].indexOf(this.sortDir)>-1&&(a=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),a&&(n=s.find(\".sortable-column\"),this._resetSortClass(n),e(n.get(i.sort.colIndex)).addClass(\"sort-\"+i.sort.dir),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,t){var n,i;for(n=0;n<this.heads.length;n++)if(this.heads[n].name===e){i=n;break}return this.heads[i]=t,this},setItems:function(e){return this.items=e,this},setData:function(e){var t=this.options;return this.items=[],this.heads=[],this.foots=[],Array.isArray(t.head)&&(this.heads=t.head),Array.isArray(t.body)&&(this.items=t.body),this._createItemsFromJSON(e),this._rebuild(!0),this},loadData:function(t,n){var i=this,s=this.element,a=this.options;H.isValue(n)||(n=!0),s.html(\"\"),H.isValue(t)?(a.source=t,H.exec(a.onDataLoad,[a.source],s[0]),s.fire(\"dataload\",{source:a.source}),i.activity.show((function(){e.json(a.source).then((function(e){i.activity.hide(),i.items=[],i.heads=[],i.foots=[],H.exec(a.onDataLoaded,[a.source,e],s[0]),s.fire(\"dataloaded\",{source:a.source,data:e}),Array.isArray(a.head)&&(i.heads=a.head),Array.isArray(a.body)&&(i.items=a.body),i._createItemsFromJSON(e),i._rebuild(n)}),(function(e){i.activity.hide(),H.exec(a.onDataLoadError,[a.source,e],s[0]),i._createItemsFromJSON(data),i._rebuild(n),s.fire(\"dataloaderror\",{source:a.source,xhr:e})}))}))):this._rebuild(n)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(0!==this.items.length){if(this.currentPage++,!(this.currentPage>this.pagesCount))return this._draw(),this;this.currentPage=this.pagesCount}},prev:function(){if(0!==this.items.length){if(this.currentPage--,0!==this.currentPage)return this._draw(),this;this.currentPage=1}},first:function(){if(0!==this.items.length)return this.currentPage=1,this._draw(),this},last:function(){if(0!==this.items.length)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){return e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw(),this},addFilter:function(e,t){var n,i=null,s=H.isFunc(e);if(!1!==s){for(n=0;n<this.filters.length;n++)if(H.isNull(this.filters[n])){i=n,this.filters[n]=s;break}return H.isNull(i)&&(this.filters.push(s),i=this.filters.length-1),!0===t&&(this.currentPage=1,this.draw()),i}},removeFilter:function(e,t){return this.filters[e]=null,!0===t&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],!0===e&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var t=this.element,n=this.options,i=b.storage.getItem(n.checkStoreKey.replace(\"$1\",t.attr(\"id\"))),s=[];return H.isValue(i)?(e.each(this.items,(function(){-1!==i.indexOf(\"\"+this[n.checkColIndex])&&s.push(this)})),s):[]},getStoredKeys:function(){var e=this.element,t=this.options;return b.storage.getItem(t.checkStoreKey.replace(\"$1\",e.attr(\"id\")),[])},clearSelected:function(e){var t=this.element,n=this.options;b.storage.setItem(n.checkStoreKey.replace(\"$1\",t.attr(\"id\")),[]),t.find(\"table-service-check-all input\").prop(\"checked\",!1),!0===e&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(t){var n=this.inspector;t?n.show(0,(function(){n.css({top:(e(window).height()-n.outerHeight(!0))/2+pageYOffset,left:(e(window).width()-n.outerWidth(!0))/2+pageXOffset}).data(\"open\",!0)})):n.hide().data(\"open\",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data(\"open\"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(t,n,i,s){var a,o,r,l,c,d,h,u,p=this,f=this.options,m=document.createElement(\"table\"),v=e(\"<thead>\").appendTo(m),g=e(\"<tbody>\").appendTo(m),C=[];if(\"function\"==typeof k.tableToCSV){for(n=H.isValue(n)?n.toLowerCase():\"all-filtered\",i=H.isValue(i)?i:H.elementId(\"table\")+\"-export.csv\",c=e(\"<tr>\"),r=this.heads,o=0;o<r.length;o++)C[o]=null;for(e.each(r,(function(t){!1!==H.bool(p.view[t].show)&&(d=e(\"<th>\"),H.isValue(this.title)&&d.html(this.title),C[p.view[t][\"index-view\"]]=d)})),o=0;o<r.length;o++)H.isValue(C[o])&&C[o].appendTo(c);for(c.appendTo(v),\"checked\"===n?(h=0,u=(l=this.getSelectedItems()).length-1):\"view\"===n?(l=this._filter(),h=-1===parseInt(f.rows)?0:f.rows*(this.currentPage-1),u=-1===parseInt(f.rows)?l.length-1:h+f.rows-1):\"all\"===n?(h=0,u=(l=this.items).length-1):(h=0,u=(l=this._filter()).length-1),a=h;a<=u;a++)if(H.isValue(l[a])){for(c=e(\"<tr>\"),r=l[a],o=0;o<r.length;o++)C[o]=null;for(e.each(r,(function(t){!1!==H.bool(p.view[t].show)&&(d=e(\"<td>\").html(this),C[p.view[t][\"index-view\"]]=d)})),o=0;o<r.length;o++)H.isValue(C[o])&&C[o].appendTo(c);c.appendTo(g)}k.tableToCSV(m,i,s),m.remove()}},changeAttribute:function(e){var t=this,n=this.element,i=this.options;switch(e){case\"data-check\":i.check=H.bool(n.attr(\"data-check\")),t._service(),t._createTableHeader(),t._draw();break;case\"data-rownum\":i.rownum=H.bool(n.attr(\"data-rownum\")),t._service(),t._createTableHeader(),t._draw()}},destroy:function(){var t=this.element,n=t.closest(\".table-component\"),i=n.find(\"input\"),s=n.find(\"select\");if(i.data(\"input\").destroy(),s.data(\"select\").destroy(),e(window).off(b.events.resize,{ns:n.attr(\"id\")}),t.off(b.events.click,\".sortable-column\"),t.off(b.events.click,\".table-service-check input\"),t.off(b.events.click,\".table-service-check-all input\"),i.off(b.events.inputchange),H.isValue(this.wrapperSearch)){var a=this.wrapperSearch.find(\"input\");a.length>0&&a.off(b.events.inputchange)}return n.off(b.events.click,\".pagination .page-link\"),H.isValue(this.wrapperPagination)&&this.wrapperPagination.off(b.events.click,\".pagination .page-link\"),t.off(b.events.click,\".js-table-crud-button\"),this._removeInspectorEvents(),t}};b.plugin(\"table\",qt);var Qt={deep:!1,fixedTabs:!1,clsComponent:\"\",clsTab:\"\",clsTabActive:\"\",clsMarker:\"\",onBeforeTabOpen:b.noop_true,onTabOpen:b.noop,onTabsScroll:b.noop,onTabsCreate:b.noop};b.materialTabsSetup=function(t){Qt=e.extend({},Qt,t)},void 0!==typeof window.metroMaterialTabsSetup&&b.materialTabsSetup(window.metroMaterialTabsSetup);var Xt={init:function(t,n){return this.options=e.extend({},Qt,t),this.elem=n,this.element=e(n),this.marker=null,this.scroll=0,this.scrollDir=\"left\",this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"materialtabs\"),this._createStructure(),this._createEvents(),H.exec(t.onTabsCreate,null,e[0]),e.fire(\"tabscreate\")},_applyColor:function(t,n,i){t=e(t),H.isValue(n)&&(H.isColor(n)?t.css(i,n):t.addClass(n))},_createStructure:function(){var t=this.element,n=this.options,i=t.find(\"li\"),s=t.find(\"li.active\");t.addClass(\"tabs-material\").addClass(n.clsComponent),i.addClass(n.clsTab),!0===n.deep&&t.addClass(\"deep\"),!0===n.fixedTabs&&t.addClass(\"fixed-tabs\"),this.marker=t.find(\".tab-marker\"),0===this.marker.length&&(this.marker=e(\"<span>\").addClass(\"tab-marker\").addClass(n.clsMarker).appendTo(t)),this.openTab(0===s.length?i[0]:s[0])},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\"li\",(function(s){var a=e(this),o=n.find(\"li.active\"),r=a.index()>o.index(),l=a.children(\"a\").attr(\"href\");if(H.isValue(l)&&\"#\"===l[0]){if(a.hasClass(\"active\"))return;if(a.hasClass(\"disabled\"))return;if(!1===H.exec(i.onBeforeTabOpen,[a,l,r],this))return;t.openTab(a,r),s.preventDefault()}})),n.on(b.events.scroll,(function(){var e=this.scroll;this.scrollDir=this.scroll<n[0].scrollLeft?\"left\":\"right\",this.scroll=n[0].scrollLeft,H.exec(i.onTabsScroll,[n[0].scrollLeft,e,this.scrollDir],n[0]),n.fire(\"tabsscroll\",{scrollLeft:n[0].scrollLeft,oldScroll:e,scrollDir:t.scrollDir})}))},openTab:function(t,n){var i,s,a,o,r,l,c,d=this.element,h=this.options,u=d.find(\"li\");t=e(t),e.each(u,(function(){var t=e(this).find(\"a\").attr(\"href\");H.isValue(t)&&\"#\"===t[0]&&t.length>1&&e(t).hide()})),s=d.width(),l=d.scrollLeft(),i=(r=t.position().left)+(a=t.width()),u.removeClass(\"active\").removeClass(h.clsTabActive),t.addClass(\"active\").addClass(h.clsTabActive),c=i+52>s+l?l+104:r<l?r-104:l,d.animate({scrollLeft:c}),this.marker.animate({left:r,width:a}),o=t.find(\"a\").attr(\"href\"),H.isValue(o)&&\"#\"===o[0]&&o.length>1&&e(o).show(),H.exec(h.onTabOpen,[t[0],o,n],d[0]),d.fire(\"tabopen\",{tab:t[0],target:o,tab_next:n})},open:function(e){var t=this.element,n=t.find(\"li\"),i=t.find(\"li.active\"),s=n.eq(e-1),a=n.index(s)>n.index(i);this.openTab(s,a)},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.click,\"li\"),e.off(b.events.scroll),e}};b.plugin(\"materialtabs\",Xt);var $t={expand:!1,expandPoint:null,tabsPosition:\"top\",tabsType:\"default\",clsTabs:\"\",clsTabsList:\"\",clsTabsListItem:\"\",clsTabsListItemActive:\"\",onTab:b.noop,onBeforeTab:b.noop_true,onTabsCreate:b.noop};b.tabsSetup=function(t){$t=e.extend({},$t,t)},void 0!==typeof window.metroTabsSetup&&b.tabsSetup(window.metroTabsSetup);var Zt={init:function(t,n){return this.options=e.extend({},$t,t),this.elem=n,this.element=e(n),this._targets=[],this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options,i=t.find(\".active\").length>0?e(t.find(\".active\")[0]):void 0;b.checkRuntime(t,\"tabs\"),this._createStructure(),this._createEvents(),this._open(i),H.exec(n.onTabsCreate,null,t[0]),t.fire(\"tabscreate\")},_createStructure:function(){var t,n,i=this.element,s=this.options,a=i.parent(),o=a.hasClass(\"tabs\"),r=o?a:e(\"<div>\").addClass(\"tabs tabs-wrapper\");if(H.isValue(i.attr(\"id\"))||i.attr(\"id\",H.elementId(\"tabs\")),r.addClass(s.tabsPosition.replace([\"-\",\"_\",\"+\"],\" \")),i.addClass(\"tabs-list\"),\"default\"!==s.tabsType&&i.addClass(\"tabs-\"+s.tabsType),o||(r.insertBefore(i),i.appendTo(r)),i.data(\"expanded\",!1),t=e(\"<div>\").addClass(\"expand-title\"),r.prepend(t),0===(n=r.find(\".hamburger\")).length){n=e(\"<button>\").attr(\"type\",\"button\").addClass(\"hamburger menu-down\").appendTo(r);for(var l=0;l<3;l++)e(\"<span>\").addClass(\"line\").appendTo(n);!0===T.isLight(H.computedRgbToHex(H.getStyleOne(r,\"background-color\")))&&n.addClass(\"dark\")}r.addClass(s.clsTabs),i.addClass(s.clsTabsList),i.children(\"li\").addClass(s.clsTabsListItem),!0!==s.expand||s.tabsPosition.contains(\"vertical\")?H.isValue(s.expandPoint)&&H.mediaExist(s.expandPoint)&&!s.tabsPosition.contains(\"vertical\")&&r.addClass(\"tabs-expand\"):r.addClass(\"tabs-expand\"),s.tabsPosition.contains(\"vertical\")&&r.addClass(\"tabs-expand\")},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.parent();e(window).on(b.events.resize,(function(){i.tabsPosition.contains(\"vertical\")||(!0!==i.expand||i.tabsPosition.contains(\"vertical\")?H.isValue(i.expandPoint)&&H.mediaExist(i.expandPoint)&&!i.tabsPosition.contains(\"vertical\")?s.hasClass(\"tabs-expand\")||s.addClass(\"tabs-expand\"):s.hasClass(\"tabs-expand\")&&s.removeClass(\"tabs-expand\"):s.addClass(\"tabs-expand\"))}),{ns:n.attr(\"id\")}),s.on(b.events.click,\".hamburger, .expand-title\",(function(){!1===n.data(\"expanded\")?(n.addClass(\"expand\"),n.data(\"expanded\",!0),s.find(\".hamburger\").addClass(\"active\")):(n.removeClass(\"expand\"),n.data(\"expanded\",!1),s.find(\".hamburger\").removeClass(\"active\"))})),n.on(b.events.click,\"a\",(function(a){var o=e(this),r=o.attr(\"href\").trim(),l=o.parent(\"li\");if(l.hasClass(\"active\")&&a.preventDefault(),!0===n.data(\"expanded\")&&(n.removeClass(\"expand\"),n.data(\"expanded\",!1),s.find(\".hamburger\").removeClass(\"active\")),!0!==H.exec(i.onBeforeTab,[l,n],l[0]))return!1;H.isValue(r)&&\"#\"===r[0]&&(t._open(l),a.preventDefault())}))},_collectTargets:function(){var t=this,n=this.element.find(\"li\");this._targets=[],e.each(n,(function(){var n=e(this).find(\"a\").attr(\"href\").trim();n.length>1&&\"#\"===n[0]&&t._targets.push(n)}))},_open:function(t){var n=this.element,i=this.options,s=n.find(\"li\"),a=n.siblings(\".expand-title\");if(0!==s.length){this._collectTargets(),void 0===t&&(t=e(s[0]));var o=t.find(\"a\").attr(\"href\");void 0!==o&&(s.removeClass(\"active\"),t.parent().hasClass(\"d-menu\")?t.parent().parent().addClass(\"active\"):t.addClass(\"active\"),e.each(this._targets,(function(){var t=e(this);t.length>0&&t.hide()})),\"#\"!==o&&\"#\"===o[0]&&e(o).show(),a.html(t.find(\"a\").html()),t.addClass(i.clsTabsListItemActive),H.exec(i.onTab,[t[0]],n[0]),n.fire(\"tab\",{tab:t[0]}))}},next:function(){var e;(e=this.element.find(\"li.active\").next(\"li\")).length>0&&this._open(e)},prev:function(){var e;(e=this.element.find(\"li.active\").prev(\"li\")).length>0&&this._open(e)},open:function(t){var n=this.element.find(\"li\");H.isValue(t)||(t=1),H.isInt(t)?H.isValue(n[t-1])&&this._open(e(n[t-1])):this._open(e(t))},changeAttribute:function(e){},destroy:function(){var t=this.element,n=t.parent();return e(window).off(b.events.resize,{ns:t.attr(\"id\")}),n.off(b.events.click,\".hamburger, .expand-title\"),t.off(b.events.click,\"a\"),t}};b.plugin(\"tabs\",Zt);var en={randomColor:!1,maxTags:0,tagSeparator:\",\",tagTrigger:\"13,188\",clsTag:\"\",clsTagTitle:\"\",clsTagRemover:\"\",onBeforeTagAdd:b.noop_true,onTagAdd:b.noop,onBeforeTagRemove:b.noop_true,onTagRemove:b.noop,onTag:b.noop,onTagInputCreate:b.noop};b.tagInputSetup=function(t){en=e.extend({},en,t)},void 0!==typeof window.metroTagInputSetup&&b.tagInputSetup(window.metroTagInputSetup);var tn={init:function(t,n){return this.options=e.extend({},en,t),this.elem=n,this.element=e(n),this.values=[],this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"taginput\"),this._createStructure(),this._createEvents(),H.exec(t.onTagInputCreate,null,e[0]),e.fire(\"taginputcreate\")},_createStructure:function(){var t,n=this,i=this.element,s=this.options,a=i.val().trim();t=e(\"<div>\").addClass(\"tag-input \"+i[0].className).insertBefore(i),i.appendTo(t),i[0].className=\"\",i.addClass(\"original-input\"),e(\"<input type='text'>\").addClass(\"input-wrapper\").attr(\"size\",1).appendTo(t),H.isValue(a)&&e.each(H.strToArray(a,s.tagSeparator),(function(){n._addTag(this)})),i.is(\":disabled\")?this.disable():this.enable()},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.closest(\".tag-input\"),a=s.find(\".input-wrapper\");a.on(b.events.focus,(function(){s.addClass(\"focused\")})),a.on(b.events.blur,(function(){s.removeClass(\"focused\")})),a.on(b.events.inputchange,(function(){a.attr(\"size\",Math.ceil(a.val().length/2)+2)})),a.on(b.events.keyup,(function(e){var n=a.val().trim();\"\"!==n&&-1!==H.strToArray(i.tagTrigger,\",\",\"integer\").indexOf(e.keyCode)&&(a.val(\"\"),t._addTag(n.replace(\",\",\"\")),a.attr(\"size\",1),e.keyCode===b.keyCode.ENTER&&e.preventDefault())})),s.on(b.events.click,\".tag .remover\",(function(){var n=e(this).closest(\".tag\");t._delTag(n)})),s.on(b.events.click,(function(){a.focus()}))},_addTag:function(t){var n,i,s,a=this.element,o=this.options,r=a.closest(\".tag-input\").find(\".input-wrapper\");if(!(o.maxTags>0&&this.values.length===o.maxTags)&&\"\"!==(\"\"+t).trim()&&H.exec(o.onBeforeTagAdd,[t,this.values],a[0])){if((n=e(\"<span>\").addClass(\"tag\").addClass(o.clsTag).insertBefore(r)).data(\"value\",t),i=e(\"<span>\").addClass(\"title\").addClass(o.clsTagTitle).html(t),s=e(\"<span>\").addClass(\"remover\").addClass(o.clsTagRemover).html(\"&times;\"),i.appendTo(n),s.appendTo(n),!0===o.randomColor){var l,c,d,h=T.colors(T.PALETTES.ALL);l=h[H.random(0,h.length-1)],d=T.darken(l,15),c=T.isDark(l)?\"#ffffff\":\"#000000\",n.css({backgroundColor:l,color:c}),s.css({backgroundColor:d,color:c})}this.values.push(t),a.val(this.values.join(o.tagSeparator)),H.exec(o.onTagAdd,[n[0],t,this.values],a[0]),a.fire(\"tagadd\",{tag:n[0],val:t,values:this.values}),H.exec(o.onTag,[n[0],t,this.values],a[0]),a.fire(\"tag\",{tag:n[0],val:t,values:this.values})}},_delTag:function(e){var t=this.element,n=this.options,i=e.data(\"value\");H.exec(n.onBeforeTagRemove,[e,i,this.values],t[0])&&(H.arrayDelete(this.values,i),t.val(this.values.join(n.tagSeparator)),H.exec(n.onTagRemove,[e[0],i,this.values],t[0]),t.fire(\"tagremove\",{tag:e[0],val:i,values:this.values}),H.exec(n.onTag,[e[0],i,this.values],t[0]),t.fire(\"tag\",{tag:e[0],val:i,values:this.values}),e.remove())},tags:function(){return this.values},val:function(t){var n=this,i=this.options;if(!H.isValue(t))return this.tags();this.values=[],H.isValue(t)&&e.each(H.strToArray(t,i.tagSeparator),(function(){n._addTag(this)}))},clear:function(){var e=this.element,t=e.closest(\".tag-input\");this.values=[],e.val(\"\"),t.find(\".tag\").remove()},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,n=this,i=this.element;switch(this.options,e){case\"value\":t=i.attr(\"value\").trim(),n.clear(),H.isValue(t)&&n.val(H.strToArray(t,\",\"));break;case\"disabled\":this.toggleState()}},destroy:function(){var e=this.element,t=e.closest(\".tag-input\"),n=t.find(\".input-wrapper\");return n.off(b.events.focus),n.off(b.events.blur),n.off(b.events.keydown),t.off(b.events.click,\".tag .remover\"),t.off(b.events.click),e}};b.plugin(\"taginput\",tn);var nn={charsCounter:null,charsCounterTemplate:\"$1\",defaultValue:\"\",prepend:\"\",append:\"\",copyInlineStyles:!0,clearButton:!0,clearButtonIcon:\"<span class='default-icon-cross'></span>\",autoSize:!0,clsPrepend:\"\",clsAppend:\"\",clsComponent:\"\",clsTextarea:\"\",onChange:b.noop,onTextareaCreate:b.noop};b.textareaSetup=function(t){nn=e.extend({},nn,t)},void 0!==typeof window.metroTextareaSetup&&b.textareaSetup(window.metroTextareaSetup);var sn={init:function(t,n){return this.options=e.extend({},nn,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"textarea\"),this._createStructure(),this._createEvents(),H.exec(t.onTextareaCreate,null,e[0]),e.fire(\"textareacreate\")},_createStructure:function(){var t,n=this,i=this.element,s=this.elem,a=this.options,o=e(\"<div>\").addClass(\"textarea \"+i[0].className),r=e(\"<textarea>\").addClass(\"fake-textarea\");if(o.insertBefore(i),i.appendTo(o),r.appendTo(o),!1===a.clearButton||i[0].readOnly||(t=e(\"<button>\").addClass(\"button input-clear-button\").attr(\"tabindex\",-1).attr(\"type\",\"button\").html(a.clearButtonIcon)).appendTo(o),\"rtl\"===i.attr(\"dir\")&&o.addClass(\"rtl\").attr(\"dir\",\"rtl\"),\"\"!==a.prepend&&e(\"<div>\").html(a.prepend).addClass(\"prepend\").addClass(a.clsPrepend).appendTo(o),\"\"!==a.append){var l=e(\"<div>\").html(a.append);l.addClass(\"append\").addClass(a.clsAppend).appendTo(o),t.css({right:l.outerWidth()+4})}if(s.className=\"\",!0===a.copyInlineStyles)for(var c=0,d=s.style.length;c<d;c++)o.css(s.style[c],i.css(s.style[c]));H.isValue(a.defaultValue)&&\"\"===i.val().trim()&&i.val(a.defaultValue),o.addClass(a.clsComponent),i.addClass(a.clsTextarea),i.is(\":disabled\")?this.disable():this.enable(),r.val(i.val()),!0===a.autoSize&&(o.addClass(\"autosize no-scroll-vertical\"),setTimeout((function(){n.resize()}),100))},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.closest(\".textarea\"),a=s.find(\".fake-textarea\"),o=e(i.charsCounter);s.on(b.events.click,\".input-clear-button\",(function(){n.val(H.isValue(i.defaultValue)?i.defaultValue:\"\").trigger(\"change\").trigger(\"keyup\").focus()})),i.autoSize&&n.on(b.events.inputchange+\" \"+b.events.keyup,(function(){a.val(this.value),t.resize()})),n.on(b.events.blur,(function(){s.removeClass(\"focused\")})),n.on(b.events.focus,(function(){s.addClass(\"focused\")})),n.on(b.events.keyup,(function(){H.isValue(i.charsCounter)&&o.length>0&&(\"INPUT\"===o[0].tagName?o.val(t.length()):o.html(i.charsCounterTemplate.replace(\"$1\",t.length()))),H.exec(i.onChange,[n.val(),t.length()],n[0]),n.fire(\"change\",{val:n.val(),length:t.length()})}))},resize:function(){var e=this.element,t=e.closest(\".textarea\").find(\".fake-textarea\");t[0].style.cssText=\"height:auto;\",t[0].style.cssText=\"height:\"+t[0].scrollHeight+\"px\",e[0].style.cssText=\"height:\"+t[0].scrollHeight+\"px\"},clear:function(){this.element.val(\"\").trigger(\"change\").trigger(\"keyup\").focus()},toDefault:function(){this.element.val(H.isValue(this.options.defaultValue)?this.options.defaultValue:\"\").trigger(\"change\").trigger(\"keyup\").focus()},length:function(){return this.elem.value.split(\"\").length},disable:function(){this.element.data(\"disabled\",!0),this.element.parent().addClass(\"disabled\")},enable:function(){this.element.data(\"disabled\",!1),this.element.parent().removeClass(\"disabled\")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case\"disabled\":this.toggleState()}},destroy:function(){var e=this.element,t=this.options;return e.closest(\".textarea\").off(b.events.click,\".input-clear-button\"),t.autoSize&&e.off(b.events.inputchange+\" \"+b.events.keyup),e.off(b.events.blur),e.off(b.events.focus),e.off(b.events.keyup),e}};b.plugin(\"textarea\",sn);var an={size:\"medium\",cover:\"\",coverPosition:\"center\",effect:\"\",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onClick:b.noop,onTileCreate:b.noop};b.tileSetup=function(t){an=e.extend({},an,t)},void 0!==typeof window.metroTileSetup&&b.tileSetup(window.metroTileSetup);var on={init:function(t,n){return this.options=e.extend({},an,t),this.elem=n,this.element=e(n),this.effectInterval=!1,this.images=[],this.slides=[],this.currentSlide=-1,this.unload=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"tile\"),this._createTile(),this._createEvents(),H.exec(t.onTileCreate,null,e[0]),e.fire(\"tilecreate\")},_createTile:function(){function t(t,n,i){e.setTimeout((function(){t.fadeOut(500,(function(){t.css(\"background-image\",\"url(\"+n+\")\"),t.fadeIn()}))}),300*i)}var n=this,i=this.element,s=this.options,a=i.find(\".slide\"),o=i.find(\".slide-front, .slide-back\");if(i.addClass(\"tile-\"+s.size),s.effect.indexOf(\"hover-\")>-1&&(i.addClass(\"effect-\"+s.effect),e.each(o,(function(){var t=e(this);void 0!==t.data(\"cover\")&&n._setCover(t,t.data(\"cover\"),t.data(\"cover-position\"))}))),s.effect.indexOf(\"animate-\")>-1&&a.length>1&&(e.each(a,(function(t){var i=e(this);n.slides.push(this),void 0!==i.data(\"cover\")&&n._setCover(i,i.data(\"cover\"),i.data(\"cover-position\")),t>0&&([\"animate-slide-up\",\"animate-slide-down\"].indexOf(s.effect)>-1&&i.css(\"top\",\"100%\"),[\"animate-slide-left\",\"animate-slide-right\"].indexOf(s.effect)>-1&&i.css(\"left\",\"100%\"),[\"animate-fade\"].indexOf(s.effect)>-1&&i.css(\"opacity\",0))})),this.currentSlide=0,this._runEffects()),\"\"!==s.cover&&this._setCover(i,s.cover),\"image-set\"===s.effect){i.addClass(\"image-set\"),e.each(i.children(\"img\"),(function(t){n.images.push(this),e(this).remove()}));for(var r=this.images.slice(),l=0;l<5;l++){var c=H.random(0,r.length-1),d=e(\"<div>\").addClass(\"img -js-img-\"+l).css(\"background-image\",\"url(\"+r[c].src+\")\");i.prepend(d),r.splice(c,1)}var h=[0,1,4,3,2];e.setInterval((function(){var e,s=n.images.slice(),a=T.colors(T.PALETTES.ALL);e=a[H.random(0,a.length-1)],i.css(\"background-color\",e);for(var o=0;o<h.length;o++){var r=H.random(0,s.length-1);t(i.find(\".-js-img-\"+h[o]),s[r].src,o),s.splice(r,1)}h=h.reverse()}),5e3)}},_runEffects:function(){var t=this,n=this.options;!1===this.effectInterval&&(this.effectInterval=e.setInterval((function(){var i,s;i=e(t.slides[t.currentSlide]),t.currentSlide++,t.currentSlide===t.slides.length&&(t.currentSlide=0),s=t.slides[t.currentSlide],\"animate-slide-up\"===n.effect&&w.slideUp(e(i),e(s),n.effectDuration),\"animate-slide-down\"===n.effect&&w.slideDown(e(i),e(s),n.effectDuration),\"animate-slide-left\"===n.effect&&w.slideLeft(e(i),e(s),n.effectDuration),\"animate-slide-right\"===n.effect&&w.slideRight(e(i),e(s),n.effectDuration),\"animate-fade\"===n.effect&&w.fade(e(i),e(s),n.effectDuration)}),n.effectInterval))},_stopEffects:function(){e.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(e,t,n){H.isValue(n)||(n=this.options.coverPosition),e.css({backgroundImage:\"url(\"+t+\")\",backgroundSize:\"cover\",backgroundRepeat:\"no-repeat\",backgroundPosition:n})},_createEvents:function(){var t=this.element,n=this.options;t.on(b.events.startAll,(function(i){var s,a=e(this),o=t.width(),r=t.height(),l=H.pageXY(i).x-a.offset().left,c=H.pageXY(i).y-a.offset().top;!1===H.isRightMouse(i)&&(s=l<1*o/3&&(c<1*r/2||c>1*r/2)?\"left\":l>2*o/3&&(c<1*r/2||c>1*r/2)?\"right\":l>1*o/3&&l<2*o/3&&c>r/2?\"bottom\":\"top\",!0===n.canTransform&&a.addClass(\"transform-\"+s),null!==n.target&&setTimeout((function(){document.location.href=n.target}),100),H.exec(n.onClick,[s],t[0]),t.fire(\"click\",{side:s}))})),t.on([b.events.stopAll,b.events.leave].join(\" \"),(function(){e(this).removeClass(\"transform-left\").removeClass(\"transform-right\").removeClass(\"transform-top\").removeClass(\"transform-bottom\")}))},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.startAll),e.off([b.events.stopAll,b.events.leave].join(\" \")),e}};b.plugin(\"tile\",on);var rn={hoursStep:1,minutesStep:1,secondsStep:1,value:null,locale:METRO_LOCALE,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!0,clsPicker:\"\",clsPart:\"\",clsHours:\"\",clsMinutes:\"\",clsSeconds:\"\",okButtonIcon:\"<span class='default-icon-check'></span>\",cancelButtonIcon:\"<span class='default-icon-cross'></span>\",onSet:b.noop,onOpen:b.noop,onClose:b.noop,onScroll:b.noop,onTimePickerCreate:b.noop};b.timePickerSetup=function(t){rn=e.extend({},rn,t)},void 0!==typeof window.metroTimePickerSetup&&b.timePickerSetup(window.metroTimePickerSetup);var ln={init:function(t,n){return this.options=e.extend({},rn,t),this.elem=n,this.element=e(n),this.picker=null,this.isOpen=!1,this.value=[],this.locale=b.locales[METRO_LOCALE].calendar,this.listTimer={hours:null,minutes:null,seconds:null},this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e,t=this.element,n=this.options;for(b.checkRuntime(t,\"timepicker\"),n.distance<1&&(n.distance=1),n.hoursStep<1&&(n.hoursStep=1),n.hoursStep>23&&(n.hoursStep=23),n.minutesStep<1&&(n.minutesStep=1),n.minutesStep>59&&(n.minutesStep=59),n.secondsStep<1&&(n.secondsStep=1),n.secondsStep>59&&(n.secondsStep=59),\"\"!==t.val()||H.isValue(n.value)||(n.value=(new Date).format(\"%H:%M:%S\")),this.value=H.strToArray(\"\"!==t.val()?t.val():String(n.value),\":\"),e=0;e<3;e++)void 0===this.value[e]||null===this.value[e]?this.value[e]=0:this.value[e]=parseInt(this.value[e]);this._normalizeValue(),void 0===b.locales[n.locale]&&(n.locale=METRO_LOCALE),this.locale=b.locales[n.locale].calendar,this._createStructure(),this._createEvents(),this._set(),H.exec(n.onTimePickerCreate,null,t[0]),t.fire(\"timepickercreate\")},_normalizeValue:function(){var e=this.options;e.hoursStep>1&&(this.value[0]=H.nearest(this.value[0],e.hoursStep,!0)),e.minutesStep>1&&(this.value[1]=H.nearest(this.value[1],e.minutesStep,!0)),e.minutesStep>1&&(this.value[2]=H.nearest(this.value[2],e.secondsStep,!0))},_createStructure:function(){var t,n,i,s,a,o,r,l,c,d=this.element,h=this.options,u=d.prev(),p=d.parent(),f=H.elementId(\"time-picker\");if(t=e(\"<div>\").attr(\"id\",f).addClass(\"wheel-picker time-picker \"+d[0].className).addClass(h.clsPicker),0===u.length?p.prepend(t):t.insertAfter(u),d.attr(\"readonly\",!0).appendTo(t),o=e(\"<div>\").addClass(\"time-wrapper\").appendTo(t),!0===h.hours&&(n=e(\"<div>\").attr(\"data-title\",this.locale.time.hours).addClass(\"hours\").addClass(h.clsPart).addClass(h.clsHours).appendTo(o)),!0===h.minutes&&(i=e(\"<div>\").attr(\"data-title\",this.locale.time.minutes).addClass(\"minutes\").addClass(h.clsPart).addClass(h.clsMinutes).appendTo(o)),!0===h.seconds&&(s=e(\"<div>\").attr(\"data-title\",this.locale.time.seconds).addClass(\"seconds\").addClass(h.clsPart).addClass(h.clsSeconds).appendTo(o)),r=e(\"<div>\").addClass(\"select-wrapper\").appendTo(t),l=e(\"<div>\").addClass(\"select-block\").appendTo(r),!0===h.hours){for(n=e(\"<ul>\").addClass(\"sel-hours\").appendTo(l),a=0;a<h.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(n);for(a=0;a<24;a+=h.hoursStep)e(\"<li>\").addClass(\"js-hours-\"+a).html(a<10?\"0\"+a:a).data(\"value\",a).appendTo(n);for(a=0;a<h.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(n)}if(!0===h.minutes){for(i=e(\"<ul>\").addClass(\"sel-minutes\").appendTo(l),a=0;a<h.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(i);for(a=0;a<60;a+=h.minutesStep)e(\"<li>\").addClass(\"js-minutes-\"+a).html(a<10?\"0\"+a:a).data(\"value\",a).appendTo(i);for(a=0;a<h.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(i)}if(!0===h.seconds){for(s=e(\"<ul>\").addClass(\"sel-seconds\").appendTo(l),a=0;a<h.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(s);for(a=0;a<60;a+=h.secondsStep)e(\"<li>\").addClass(\"js-seconds-\"+a).html(a<10?\"0\"+a:a).data(\"value\",a).appendTo(s);for(a=0;a<h.distance;a++)e(\"<li>\").html(\"&nbsp;\").data(\"value\",-1).appendTo(s)}if(l.height(40*(2*h.distance+1)),c=e(\"<div>\").addClass(\"action-block\").appendTo(r),e(\"<button>\").attr(\"type\",\"button\").addClass(\"button action-ok\").html(h.okButtonIcon).appendTo(c),e(\"<button>\").attr(\"type\",\"button\").addClass(\"button action-cancel\").html(h.cancelButtonIcon).appendTo(c),d[0].className=\"\",!0===h.copyInlineStyles)for(a=0;a<d[0].style.length;a++)t.css(d[0].style[a],d.css(d[0].style[a]));!0===h.showLabels&&t.addClass(\"show-labels\"),this.picker=t},_createEvents:function(){var t=this,n=this.options,i=this.picker;i.on(b.events.start,\".select-block ul\",(function(t){if(!t.changedTouches){var s=this,a=H.pageXY(t).y;e(document).on(b.events.move,(function(e){s.scrollTop-=n.scrollSpeed*(a>H.pageXY(e).y?-1:1),a=H.pageXY(e).y}),{ns:i.attr(\"id\")}),e(document).on(b.events.stop,(function(){e(document).off(b.events.move,{ns:i.attr(\"id\")}),e(document).off(b.events.stop,{ns:i.attr(\"id\")})}),{ns:i.attr(\"id\")})}})),i.on(b.events.click,(function(e){!1===t.isOpen&&t.open(),e.stopPropagation()})),i.on(b.events.click,\".action-ok\",(function(e){var n,s,a,o=i.find(\".sel-hours li.active\"),r=i.find(\".sel-minutes li.active\"),l=i.find(\".sel-seconds li.active\");n=0===o.length?0:o.data(\"value\"),s=0===r.length?0:r.data(\"value\"),a=0===l.length?0:l.data(\"value\"),t.value=[n,s,a],t._normalizeValue(),t._set(),t.close(),e.stopPropagation()})),i.on(b.events.click,\".action-cancel\",(function(e){t.close(),e.stopPropagation()})),e.each([\"hours\",\"minutes\",\"seconds\"],(function(){var e=this,s=i.find(\".sel-\"+e);s.on(\"scroll\",(function(){t.isOpen&&(t.listTimer[e]&&(clearTimeout(t.listTimer[e]),t.listTimer[e]=null),t.listTimer[e]||(t.listTimer[e]=setTimeout((function(){var a,o,r;t.listTimer[e]=null,a=Math.round(Math.ceil(s.scrollTop())/40),r=(o=s.find(\".js-\"+e+\"-\"+a)).position().top-40*n.distance,s.find(\".active\").removeClass(\"active\"),s[0].scrollTop=r,o.addClass(\"active\"),H.exec(n.onScroll,[o,s,i],s[0])}),150)))}))}))},_set:function(){var e=this.element,t=this.options,n=this.picker,i=\"00\",s=\"00\",a=\"00\";!0===t.hours&&((i=parseInt(this.value[0]))<10&&(i=\"0\"+i),n.find(\".hours\").html(i)),!0===t.minutes&&((s=parseInt(this.value[1]))<10&&(s=\"0\"+s),n.find(\".minutes\").html(s)),!0===t.seconds&&((a=parseInt(this.value[2]))<10&&(a=\"0\"+a),n.find(\".seconds\").html(a)),e.val([i,s,a].join(\":\")).trigger(\"change\"),H.exec(t.onSet,[this.value,e.val()],e[0]),e.fire(\"set\",{val:this.value,elementVal:e.val()})},open:function(){var e,t,n,i,s,a,o,r,l,c,d,h=this.element,u=this.options,p=this.picker,f=p.find(\"li\"),m=p.find(\".select-wrapper\");m.parent().removeClass(\"for-top for-bottom\"),m.show(0),f.removeClass(\"active\"),o=H.inViewport(m[0]),r=H.rect(m[0]),!o&&r.top>0&&m.parent().addClass(\"for-bottom\"),!o&&r.top<0&&m.parent().addClass(\"for-top\");var v=function(e,t){e.scrollTop(0).animate({scrollTop:t.position().top-40*u.distance+e.scrollTop()},100)};!0===u.hours&&(e=parseInt(this.value[0]),l=(i=p.find(\".sel-hours\")).find(\"li.js-hours-\"+e).addClass(\"active\"),v(i,l)),!0===u.minutes&&(t=parseInt(this.value[1]),c=(s=p.find(\".sel-minutes\")).find(\"li.js-minutes-\"+t).addClass(\"active\"),v(s,c)),!0===u.seconds&&(n=parseInt(this.value[2]),d=(a=p.find(\".sel-seconds\")).find(\"li.js-seconds-\"+n).addClass(\"active\"),v(a,d)),this.isOpen=!0,H.exec(u.onOpen,[this.value],h[0]),h.fire(\"open\",{val:this.value})},close:function(){var e=this.picker,t=this.options,n=this.element;e.find(\".select-wrapper\").hide(0),this.isOpen=!1,H.exec(t.onClose,[this.value],n[0]),n.fire(\"close\",{val:this.value})},_convert:function(e){return Array.isArray(e)?e:\"function\"==typeof e.getMonth?[e.getHours(),e.getMinutes(),e.getSeconds()]:H.isObject(e)?[e.h,e.m,e.s]:H.strToArray(e,\":\")},val:function(e){if(void 0===e)return this.element.val();this.value=this._convert(e),this._normalizeValue(),this._set()},time:function(e){if(void 0===e)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(e),this._normalizeValue(),this._set()},date:function(e){if(void 0===e||\"function\"!=typeof e.getMonth){var t=new Date;return t.setHours(this.value[0]),t.setMinutes(this.value[1]),t.setSeconds(this.value[2]),t.setMilliseconds(0),t}this.value=this._convert(e),this._normalizeValue(),this._set()},changeAttribute:function(e){var t=this,n=this.element;\"data-value\"===e&&t.val(n.attr(\"data-value\"))},destroy:function(){var t=this.element,n=this.picker;return e.each([\"hours\",\"minutes\",\"seconds\"],(function(){n.find(\".sel-\"+this).off(\"scroll\")})),n.off(b.events.start,\".select-block ul\"),n.off(b.events.click),n.off(b.events.click,\".action-ok\"),n.off(b.events.click,\".action-cancel\"),t}};b.plugin(\"timepicker\",ln),e(document).on(b.events.click,(function(){e.each(e(\".time-picker\"),(function(){e(this).find(\"input\").each((function(){b.getPlugin(this,\"timepicker\").close()}))}))}));var cn={options:{callback:b.noop,timeout:METRO_TIMEOUT,distance:20,showTop:!1,clsToast:\"\"},create:function(t,n,i,s,a){var o=a||cn.options,r=e(\"<div>\").addClass(\"toast\").html(t).appendTo(e(\"body\")),l=r.outerWidth();r.hide(),i=i||o.timeout,n=n||o.callback,s=s||o.clsToast,!0===o.showTop?r.addClass(\"show-top\").css({top:o.distance}):r.css({bottom:o.distance}),r.css({left:\"50%\",\"margin-left\":-l/2}),r.addClass(o.clsToast),r.addClass(s),r.fadeIn(METRO_ANIMATION_DURATION),setTimeout((function(){r.fadeOut(METRO_ANIMATION_DURATION,(function(){r.remove(),H.callback(n)}))}),i)}};b.toast=cn;var dn={LEFT:\"left\",RIGHT:\"right\",UP:\"up\",DOWN:\"down\",IN:\"in\",OUT:\"out\",NONE:\"none\",AUTO:\"auto\",SWIPE:\"swipe\",PINCH:\"pinch\",TAP:\"tap\",DOUBLE_TAP:\"doubletap\",LONG_TAP:\"longtap\",HOLD:\"hold\",HORIZONTAL:\"horizontal\",VERTICAL:\"vertical\",ALL_FINGERS:\"all\",DOUBLE_TAP_THRESHOLD:10,PHASE_START:\"start\",PHASE_MOVE:\"move\",PHASE_END:\"end\",PHASE_CANCEL:\"cancel\",SUPPORTS_TOUCH:\"ontouchstart\"in window,SUPPORTS_POINTER_IE10:window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!(\"ontouchstart\"in window),SUPPORTS_POINTER:(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!(\"ontouchstart\"in window),IN_TOUCH:\"intouch\"},hn={init:function(t,n){return this.options=e.extend({},this.options,t),this.elem=n,this.element=e(n),this.useTouchEvents=dn.SUPPORTS_TOUCH||dn.SUPPORTS_POINTER||!this.options.fallbackToMouseEvents,this.START_EV=this.useTouchEvents?dn.SUPPORTS_POINTER?dn.SUPPORTS_POINTER_IE10?\"MSPointerDown\":\"pointerdown\":\"touchstart\":\"mousedown\",this.MOVE_EV=this.useTouchEvents?dn.SUPPORTS_POINTER?dn.SUPPORTS_POINTER_IE10?\"MSPointerMove\":\"pointermove\":\"touchmove\":\"mousemove\",this.END_EV=this.useTouchEvents?dn.SUPPORTS_POINTER?dn.SUPPORTS_POINTER_IE10?\"MSPointerUp\":\"pointerup\":\"touchend\":\"mouseup\",this.LEAVE_EV=this.useTouchEvents?dn.SUPPORTS_POINTER?\"mouseleave\":null:\"mouseleave\",this.CANCEL_EV=dn.SUPPORTS_POINTER?dn.SUPPORTS_POINTER_IE10?\"MSPointerCancel\":\"pointercancel\":\"touchcancel\",this.distance=0,this.direction=null,this.currentDirection=null,this.duration=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.pinchDistance=0,this.pinchDirection=0,this.maximumsMap=null,this.phase=\"start\",this.fingerCount=0,this.fingerData={},this.startTime=0,this.endTime=0,this.previousTouchEndTime=0,this.fingerCountAtRelease=0,this.doubleTapStartTime=0,this.singleTapTimeout=null,this.holdTimeout=null,this._setOptionsFromDOM(),this._create(),this},options:{fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:\"auto\",fallbackToMouseEvents:!0,excludedElements:\".no-swipe\",preventDefaultEvents:!0,onSwipe:b.noop,onSwipeLeft:b.noop,onSwipeRight:b.noop,onSwipeUp:b.noop,onSwipeDown:b.noop,onSwipeStatus:b.noop_true,onPinchIn:b.noop,onPinchOut:b.noop,onPinchStatus:b.noop_true,onTap:b.noop,onDoubleTap:b.noop,onLongTap:b.noop,onHold:b.noop,onSwipeCreate:b.noop},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this.element,n=this.options;void 0!==n.allowPageScroll||n.onSwipe===b.noop&&n.onSwipeStatus===b.noop||(n.allowPageScroll=dn.NONE);try{t.on(this.START_EV,e.proxy(this.touchStart,this)),t.on(this.CANCEL_EV,e.proxy(this.touchCancel,this))}catch(e){throw new Error(\"Events not supported \"+this.START_EV+\",\"+this.CANCEL_EV+\" on Swipe\")}H.exec(n.onSwipeCreate,null,t[0]),t.fire(\"swipecreate\")},touchStart:function(t){var n=this.element,i=this.options;if(!(this.getTouchInProgress()||e(t.target).closest(i.excludedElements).length>0)){var s,a=t,o=a.touches,r=o?o[0]:a;return this.phase=dn.PHASE_START,o?this.fingerCount=o.length:!1!==i.preventDefaultEvents&&t.preventDefault(),this.distance=0,this.direction=null,this.currentDirection=null,this.pinchDirection=null,this.duration=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.pinchDistance=0,this.maximumsMap=this.createMaximumsData(),this.cancelMultiFingerRelease(),this.createFingerData(0,r),!o||this.fingerCount===i.fingers||i.fingers===dn.ALL_FINGERS||this.hasPinches()?(this.startTime=this.getTimeStamp(),2===this.fingerCount&&(this.createFingerData(1,o[1]),this.startTouchesDistance=this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].start,this.fingerData[1].start)),i.onSwipeStatus===b.noop&&i.onPinchStatus===b.noop||(s=this.triggerHandler(a,this.phase))):s=!1,!1===s?(this.phase=dn.PHASE_CANCEL,this.triggerHandler(a,this.phase),s):(i.onHold!==b.noop&&(this.holdTimeout=setTimeout(e.proxy((function(){n.trigger(\"hold\",[a.target]),i.onHold!==b.noop&&(s=H.exec(i.onHold,[a,a.target],n[0]),n.fire(\"hold\",{event:a,target:a.target}))}),this),i.longTapThreshold)),this.setTouchInProgress(!0),null)}},touchMove:function(e){var t=e;if(this.phase!==dn.PHASE_END&&this.phase!==dn.PHASE_CANCEL&&!this.inMultiFingerRelease()){var n,i=t.touches,s=i?i[0]:t,a=this.updateFingerData(s);if(this.endTime=this.getTimeStamp(),i&&(this.fingerCount=i.length),this.options.onHold!==b.noop&&clearTimeout(this.holdTimeout),this.phase=dn.PHASE_MOVE,2===this.fingerCount&&(0===this.startTouchesDistance?(this.createFingerData(1,i[1]),this.startTouchesDistance=this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].start,this.fingerData[1].start)):(this.updateFingerData(i[1]),this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].end,this.fingerData[1].end),this.pinchDirection=this.calculatePinchDirection(this.fingerData[0].end,this.fingerData[1].end)),this.pinchZoom=this.calculatePinchZoom(this.startTouchesDistance,this.endTouchesDistance),this.pinchDistance=Math.abs(this.startTouchesDistance-this.endTouchesDistance)),this.fingerCount===this.options.fingers||this.options.fingers===dn.ALL_FINGERS||!i||this.hasPinches()){if(this.direction=this.calculateDirection(a.start,a.end),this.currentDirection=this.calculateDirection(a.last,a.end),this.validateDefaultEvent(e,this.currentDirection),this.distance=this.calculateDistance(a.start,a.end),this.duration=this.calculateDuration(),this.setMaxDistance(this.direction,this.distance),n=this.triggerHandler(t,this.phase),!this.options.triggerOnTouchEnd||this.options.triggerOnTouchLeave){var o=!0;if(this.options.triggerOnTouchLeave){var r=this.getBounds(this);o=this.isInBounds(a.end,r)}!this.options.triggerOnTouchEnd&&o?this.phase=this.getNextPhase(dn.PHASE_MOVE):this.options.triggerOnTouchLeave&&!o&&(this.phase=this.getNextPhase(dn.PHASE_END)),this.phase!==dn.PHASE_CANCEL&&this.phase!==dn.PHASE_END||this.triggerHandler(t,this.phase)}}else this.phase=dn.PHASE_CANCEL,this.triggerHandler(t,this.phase);!1===n&&(this.phase=dn.PHASE_CANCEL,this.triggerHandler(t,this.phase))}},touchEnd:function(e){var t=e,n=t.touches;if(n){if(n.length&&!this.inMultiFingerRelease())return this.startMultiFingerRelease(t),!0;if(n.length&&this.inMultiFingerRelease())return!0}return this.inMultiFingerRelease()&&(this.fingerCount=this.fingerCountAtRelease),this.endTime=this.getTimeStamp(),this.duration=this.calculateDuration(),this.didSwipeBackToCancel()||!this.validateSwipeDistance()?(this.phase=dn.PHASE_CANCEL,this.triggerHandler(t,this.phase)):this.options.triggerOnTouchEnd||!1===this.options.triggerOnTouchEnd&&this.phase===dn.PHASE_MOVE?(!1!==this.options.preventDefaultEvents&&e.preventDefault(),this.phase=dn.PHASE_END,this.triggerHandler(t,this.phase)):!this.options.triggerOnTouchEnd&&this.hasTap()?(this.phase=dn.PHASE_END,this.triggerHandlerForGesture(t,this.phase,dn.TAP)):this.phase===dn.PHASE_MOVE&&(this.phase=dn.PHASE_CANCEL,this.triggerHandler(t,this.phase)),this.setTouchInProgress(!1),null},touchCancel:function(){this.fingerCount=0,this.endTime=0,this.startTime=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.cancelMultiFingerRelease(),this.setTouchInProgress(!1)},touchLeave:function(e){this.options.triggerOnTouchLeave&&(this.phase=this.getNextPhase(dn.PHASE_END),this.triggerHandler(e,this.phase))},getNextPhase:function(e){var t=this.options,n=e,i=this.validateSwipeTime(),s=this.validateSwipeDistance(),a=this.didSwipeBackToCancel();return!i||a?n=dn.PHASE_CANCEL:!s||e!==dn.PHASE_MOVE||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!s&&e===dn.PHASE_END&&t.triggerOnTouchLeave&&(n=dn.PHASE_CANCEL):n=dn.PHASE_END,n},triggerHandler:function(e,t){var n,i=e.touches;return(this.didSwipe()||this.hasSwipes())&&(n=this.triggerHandlerForGesture(e,t,dn.SWIPE)),(this.didPinch()||this.hasPinches())&&!1!==n&&(n=this.triggerHandlerForGesture(e,t,dn.PINCH)),this.didDoubleTap()&&!1!==n?n=this.triggerHandlerForGesture(e,t,dn.DOUBLE_TAP):this.didLongTap()&&!1!==n?n=this.triggerHandlerForGesture(e,t,dn.LONG_TAP):this.didTap()&&!1!==n&&(n=this.triggerHandlerForGesture(e,t,dn.TAP)),t===dn.PHASE_CANCEL&&this.touchCancel(e),t===dn.PHASE_END&&(i&&i.length||this.touchCancel(e)),n},triggerHandlerForGesture:function(t,n,i){var s,a=this.element,o=this.options;if(i===dn.SWIPE){if(a.trigger(\"swipeStatus\",[n,this.direction||null,this.distance||0,this.duration||0,this.fingerCount,this.fingerData,this.currentDirection]),s=H.exec(o.onSwipeStatus,[t,n,this.direction||null,this.distance||0,this.duration||0,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire(\"swipestatus\",{event:t,phase:n,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection}),!1===s)return!1;if(n===dn.PHASE_END&&this.validateSwipe()){if(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),a.trigger(\"swipe\",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),s=H.exec(o.onSwipe,[t,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire(\"swipe\",{event:t,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection}),!1===s)return!1;switch(this.direction){case dn.LEFT:a.trigger(\"swipeLeft\",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),s=H.exec(o.onSwipeLeft,[t,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire(\"swipeleft\",{event:t,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case dn.RIGHT:a.trigger(\"swipeRight\",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),s=H.exec(o.onSwipeRight,[t,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire(\"swiperight\",{event:t,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case dn.UP:a.trigger(\"swipeUp\",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),s=H.exec(o.onSwipeUp,[t,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire(\"swipeup\",{event:t,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case dn.DOWN:a.trigger(\"swipeDown\",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),s=H.exec(o.onSwipeDown,[t,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire(\"swipedown\",{event:t,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection})}}}if(i===dn.PINCH){if(a.trigger(\"pinchStatus\",[n,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),s=H.exec(o.onPinchStatus,[t,n,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],a[0]),a.fire(\"pinchstatus\",{event:t,phase:n,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom}),!1===s)return!1;if(n===dn.PHASE_END&&this.validatePinch())switch(this.pinchDirection){case dn.IN:a.trigger(\"pinchIn\",[this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),s=H.exec(o.onPinchIn,[t,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],a[0]),a.fire(\"pinchin\",{event:t,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom});break;case dn.OUT:a.trigger(\"pinchOut\",[this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),s=H.exec(o.onPinchOut,[t,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],a[0]),a.fire(\"pinchout\",{event:t,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom})}}return i===dn.TAP?n!==dn.PHASE_CANCEL&&n!==dn.PHASE_END||(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),this.hasDoubleTap()&&!this.inDoubleTap()?(this.doubleTapStartTime=this.getTimeStamp(),this.singleTapTimeout=setTimeout(e.proxy((function(){this.doubleTapStartTime=null,s=H.exec(o.onTap,[t,t.target],a[0]),a.fire(\"tap\",{event:t,target:t.target})}),this),o.doubleTapThreshold)):(this.doubleTapStartTime=null,s=H.exec(o.onTap,[t,t.target],a[0]),a.fire(\"tap\",{event:t,target:t.target}))):i===dn.DOUBLE_TAP?n!==dn.PHASE_CANCEL&&n!==dn.PHASE_END||(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),this.doubleTapStartTime=null,s=H.exec(o.onDoubleTap,[t,t.target],a[0]),a.fire(\"doubletap\",{event:t,target:t.target})):i===dn.LONG_TAP&&(n!==dn.PHASE_CANCEL&&n!==dn.PHASE_END||(clearTimeout(this.singleTapTimeout),this.doubleTapStartTime=null,s=H.exec(o.onLongTap,[t,t.target],a[0]),a.fire(\"longtap\",{event:t,target:t.target}))),s},validateSwipeDistance:function(){var e=!0;return null!==this.options.threshold&&(e=this.distance>=this.options.threshold),e},didSwipeBackToCancel:function(){var e=this.options,t=!1;return null!==e.cancelThreshold&&null!==this.direction&&(t=this.getMaxDistance(this.direction)-this.distance>=e.cancelThreshold),t},validatePinchDistance:function(){return null===this.options.pinchThreshold||this.pinchDistance>=this.options.pinchThreshold},validateSwipeTime:function(){var e=this.options;return!e.maxTimeThreshold||duration<e.maxTimeThreshold},validateDefaultEvent:function(e,t){var n=this.options;if(!1!==n.preventDefaultEvents)if(n.allowPageScroll===dn.NONE)e.preventDefault();else{var i=n.allowPageScroll===dn.AUTO;switch(t){case dn.LEFT:(n.onSwipeLeft!==b.noop&&i||!i&&n.allowPageScroll.toLowerCase()!==dn.HORIZONTAL)&&e.preventDefault();break;case dn.RIGHT:(n.onSwipeRight!==b.noop&&i||!i&&n.allowPageScroll.toLowerCase()!==dn.HORIZONTAL)&&e.preventDefault();break;case dn.UP:(n.onSwipeUp!==b.noop&&i||!i&&n.allowPageScroll.toLowerCase()!==dn.VERTICAL)&&e.preventDefault();break;case dn.DOWN:(n.onSwipeDown!==b.noop&&i||!i&&n.allowPageScroll.toLowerCase()!==dn.VERTICAL)&&e.preventDefault()}}},validatePinch:function(){var e=this.validateFingers(),t=this.validateEndPoint(),n=this.validatePinchDistance();return e&&t&&n},hasPinches:function(){return!!(this.options.onPinchStatus||this.options.onPinchIn||this.options.onPinchOut)},didPinch:function(){return!(!this.validatePinch()||!this.hasPinches())},validateSwipe:function(){var e=this.validateSwipeTime(),t=this.validateSwipeDistance(),n=this.validateFingers(),i=this.validateEndPoint();return!this.didSwipeBackToCancel()&&i&&n&&t&&e},hasSwipes:function(){var e=this.options;return!(e.onSwipe===b.noop&&e.onSwipeStatus===b.noop&&e.onSwipeLeft===b.noop&&e.onSwipeRight===b.noop&&e.onSwipeUp===b.noop&&e.onSwipeDown===b.noop)},didSwipe:function(){return!(!this.validateSwipe()||!this.hasSwipes())},validateFingers:function(){return this.fingerCount===this.options.fingers||this.options.fingers===dn.ALL_FINGERS||!dn.SUPPORTS_TOUCH},validateEndPoint:function(){return 0!==this.fingerData[0].end.x},hasTap:function(){return this.options.onTap!==b.noop},hasDoubleTap:function(){return this.options.onDoubleTap!==b.noop},hasLongTap:function(){return this.options.onLongTap!==b.noop},validateDoubleTap:function(){if(null==this.doubleTapStartTime)return!1;var e=this.getTimeStamp();return this.hasDoubleTap()&&e-this.doubleTapStartTime<=this.options.doubleTapThreshold},inDoubleTap:function(){return this.validateDoubleTap()},validateTap:function(){return(1===this.fingerCount||!dn.SUPPORTS_TOUCH)&&(isNaN(this.distance)||this.distance<this.options.threshold)},validateLongTap:function(){var e=this.options;return this.duration>e.longTapThreshold&&this.distance<dn.DOUBLE_TAP_THRESHOLD},didTap:function(){return!(!this.validateTap()||!this.hasTap())},didDoubleTap:function(){return!(!this.validateDoubleTap()||!this.hasDoubleTap())},didLongTap:function(){return!(!this.validateLongTap()||!this.hasLongTap())},startMultiFingerRelease:function(e){this.previousTouchEndTime=this.getTimeStamp(),this.fingerCountAtRelease=e.touches.length+1},cancelMultiFingerRelease:function(){this.previousTouchEndTime=0,this.fingerCountAtRelease=0},inMultiFingerRelease:function(){var e=!1;return this.previousTouchEndTime&&this.getTimeStamp()-this.previousTouchEndTime<=this.options.fingerReleaseThreshold&&(e=!0),e},getTouchInProgress:function(){return!0===this.element.data(\"intouch\")},setTouchInProgress:function(t){var n=this.element;n&&(!0===t?(n.on(this.MOVE_EV,e.proxy(this.touchMove,this)),n.on(this.END_EV,e.proxy(this.touchEnd,this)),this.LEAVE_EV&&n.on(this.LEAVE_EV,e.proxy(this.touchLeave,this))):(n.off(this.MOVE_EV),n.off(this.END_EV),this.LEAVE_EV&&n.off(this.LEAVE_EV)),n.data(\"intouch\",!0===t))},createFingerData:function(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,this.fingerData[e]=n,n},updateFingerData:function(e){var t=void 0!==e.identifier?e.identifier:0,n=this.getFingerData(t);return null===n&&(n=this.createFingerData(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n},getFingerData:function(e){return this.fingerData[e]||null},setMaxDistance:function(e,t){e!==dn.NONE&&(t=Math.max(t,this.getMaxDistance(e)),this.maximumsMap[e].distance=t)},getMaxDistance:function(e){return this.maximumsMap[e]?this.maximumsMap[e].distance:void 0},createMaximumsData:function(){var e={};return e[dn.LEFT]=this.createMaximumVO(dn.LEFT),e[dn.RIGHT]=this.createMaximumVO(dn.RIGHT),e[dn.UP]=this.createMaximumVO(dn.UP),e[dn.DOWN]=this.createMaximumVO(dn.DOWN),e},createMaximumVO:function(e){return{direction:e,distance:0}},calculateDuration:function(){return this.endTime-this.startTime},calculateTouchesDistance:function(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))},calculatePinchZoom:function(e,t){return(t/e*100).toFixed(2)},calculatePinchDirection:function(){return this.pinchZoom<1?dn.OUT:dn.IN},calculateDistance:function(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))},calculateAngle:function(e,t){var n=e.x-t.x,i=t.y-e.y,s=Math.atan2(i,n),a=Math.round(180*s/Math.PI);return a<0&&(a=360-Math.abs(a)),a},calculateDirection:function(e,t){if(this.comparePoints(e,t))return dn.NONE;var n=this.calculateAngle(e,t);return n<=45&&n>=0?dn.LEFT:n<=360&&n>=315?dn.LEFT:n>=135&&n<=225?dn.RIGHT:n>45&&n<135?dn.DOWN:dn.UP},getTimeStamp:function(){return(new Date).getTime()},getBounds:function(t){var n=(t=e(t)).offset();return{left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()}},isInBounds:function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom},comparePoints:function(e,t){return e.x===t.x&&e.y===t.y},removeListeners:function(){var e=this.element;e.off(this.START_EV),e.off(this.CANCEL_EV),e.off(this.MOVE_EV),e.off(this.END_EV),this.LEAVE_EV&&e.off(this.LEAVE_EV),this.setTouchInProgress(!1)},enable:function(){return this.disable(),this.element.on(this.START_EV,this.touchStart),this.element.on(this.CANCEL_EV,this.touchCancel),this.element},disable:function(){return this.removeListeners(),this.element},changeAttribute:function(e){},destroy:function(){this.removeListeners()}};b.touch=dn,b.plugin(\"touch\",hn);var un={showChildCount:!1,duration:100,onNodeClick:b.noop,onNodeDblClick:b.noop,onNodeDelete:b.noop,onNodeInsert:b.noop,onNodeClean:b.noop,onCheckClick:b.noop,onRadioClick:b.noop,onExpandNode:b.noop,onCollapseNode:b.noop,onTreeViewCreate:b.noop};b.treeViewSetup=function(t){un=e.extend({},un,t)},void 0!==typeof window.metroTreeViewSetup&&b.treeViewSetup(window.metroTreeViewSetup);var pn={init:function(t,n){return this.options=e.extend({},un,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this,n=this.element,i=this.options;b.checkRuntime(n,\"treeview\"),this._createTree(),this._createEvents(),e.each(n.find(\"input\"),(function(){e(this).is(\":checked\")&&t._recheck(this)})),H.exec(i.onTreeViewCreate,null,n[0]),n.fire(\"treeviewcreate\")},_createIcon:function(t){var n,i;return i=H.isTag(t)?e(t):e(\"<img src='' alt=''>\").attr(\"src\",t),(n=e(\"<span>\").addClass(\"icon\")).html(i.outerHTML()),n},_createCaption:function(t){return e(\"<span>\").addClass(\"caption\").html(t)},_createToggle:function(){return e(\"<span>\").addClass(\"node-toggle\")},_createNode:function(t){var n;return n=e(\"<li>\"),void 0!==t.caption&&n.prepend(this._createCaption(t.caption)),void 0!==t.icon&&n.prepend(this._createIcon(t.icon)),void 0!==t.html&&n.append(t.html),n},_createTree:function(){var t=this,n=this.element,i=(this.options,n.find(\"li\"));n.addClass(\"treeview\"),e.each(i,(function(){var n,i,s=e(this);n=s.data(\"caption\"),i=s.data(\"icon\"),void 0!==n&&(s.children(\"ul\").length>0&&(n+=\" (\"+s.children(\"ul\").children(\"li\").length+\")\"),s.prepend(t._createCaption(n))),void 0!==i&&s.prepend(t._createIcon(i)),s.children(\"ul\").length>0&&(s.addClass(\"tree-node\"),s.append(t._createToggle()),!0!==H.bool(s.attr(\"data-collapsed\"))?s.addClass(\"expanded\"):s.children(\"ul\").hide())}))},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".node-toggle\",(function(n){var i=e(this).parent();t.toggleNode(i),n.preventDefault()})),n.on(b.events.click,\"li > .caption\",(function(s){var a=e(this).parent();t.current(a),H.exec(i.onNodeClick,[a[0]],n[0]),n.fire(\"nodeclick\",{node:a[0]}),s.preventDefault()})),n.on(b.events.dblclick,\"li > .caption\",(function(s){var a=e(this).closest(\"li\"),o=a.children(\".node-toggle\"),r=a.children(\"ul\");(o.length>0||r.length>0)&&t.toggleNode(a),H.exec(i.onNodeDblClick,[a[0]],n[0]),n.fire(\"nodedblclick\",{node:a[0]}),s.preventDefault()})),n.on(b.events.click,\"input[type=radio]\",(function(){var s=e(this),a=s.is(\":checked\"),o=s.closest(\"li\");t.current(o),H.exec(i.onRadioClick,[a,s[0],o[0]],n[0]),n.fire(\"radioclick\",{checked:a,check:s[0],node:o[0]})})),n.on(b.events.click,\"input[type=checkbox]\",(function(){var s=e(this),a=s.is(\":checked\"),o=s.closest(\"li\");t._recheck(s),H.exec(i.onCheckClick,[a,s[0],o[0]],n[0]),n.fire(\"checkclick\",{checked:a,check:s[0],node:o[0]})}))},_recheck:function(t){var n,i,s,a,o=this.element;n=(t=e(t)).is(\":checked\"),i=t.closest(\"li\"),this.current(i),(s=t.closest(\"li\").find(\"ul input[type=checkbox]\")).attr(\"data-indeterminate\",!1),s.prop(\"checked\",n),s.trigger(\"change\"),a=[],e.each(o.find(\"input[type=checkbox]\"),(function(){a.push(this)})),e.each(a.reverse(),(function(){var t=e(this),n=t.closest(\"li\").children(\"ul\").find(\"input[type=checkbox]\").length,i=t.closest(\"li\").children(\"ul\").find(\"input[type=checkbox]\").filter((function(e){return e.checked})).length;n>0&&0===i&&(t.attr(\"data-indeterminate\",!1),t.prop(\"checked\",!1),t.trigger(\"change\")),0===i?t.attr(\"data-indeterminate\",!1):i>0&&n>i?t.attr(\"data-indeterminate\",!0):n===i&&(t.attr(\"data-indeterminate\",!1),t.prop(\"checked\",!0),t.trigger(\"change\"))}))},current:function(e){var t=this.element;if(void 0===e)return t.find(\"li.current\");t.find(\"li\").removeClass(\"current\"),e.addClass(\"current\")},toggleNode:function(t){var n,i=e(t),s=this.element,a=this.options,o=!i.data(\"collapsed\");//!node.hasClass(\"expanded\");\ni.toggleClass(\"expanded\"),i.data(\"collapsed\",o),n=!0===o?\"slideUp\":\"slideDown\",o?(H.exec(a.onCollapseNode,[i[0]],s[0]),s.fire(\"collapsenode\",{node:i[0]})):(H.exec(a.onExpandNode,[i[0]],s[0]),s.fire(\"expandnode\",{node:i[0]})),i.children(\"ul\")[n](a.duration)},addTo:function(t,n){var i,s,a=this.element,o=this.options;return null===t?i=a:0===(i=(t=e(t)).children(\"ul\")).length&&(i=e(\"<ul>\").appendTo(t),this._createToggle().appendTo(t),t.addClass(\"expanded\")),(s=this._createNode(n)).appendTo(i),H.exec(o.onNodeInsert,[s[0],t?t[0]:null],a[0]),a.fire(\"nodeinsert\",{node:s[0],parent:t?t[0]:null}),s},insertBefore:function(t,n){var i=this.element,s=this.options,a=this._createNode(n);return H.isNull(t)?this.addTo(t,n):(t=e(t),a.insertBefore(t),H.exec(s.onNodeInsert,[a[0],t[0]],i[0]),i.fire(\"nodeinsert\",{node:a[0],parent:t?t[0]:null}),a)},insertAfter:function(t,n){var i=this.element,s=this.options,a=this._createNode(n);return H.isNull(t)?this.addTo(t,n):(t=e(t),a.insertAfter(t),H.exec(s.onNodeInsert,[a[0],t[0]],i[0]),i.fire(\"nodeinsert\",{node:a[0],parent:t[0]}),a)},del:function(t){var n=this.element,i=this.options,s=(t=e(t)).closest(\"ul\"),a=s.closest(\"li\");H.exec(i.onNodeDelete,[t[0]],n[0]),n.fire(\"nodedelete\",{node:t[0]}),t.remove(),0!==s.children().length||s.is(n)||(s.remove(),a.removeClass(\"expanded\"),a.children(\".node-toggle\").remove())},clean:function(t){var n=this.element,i=this.options;(t=e(t)).children(\"ul\").remove(),t.removeClass(\"expanded\"),t.children(\".node-toggle\").remove(),H.exec(i.onNodeClean,[t[0]],n[0]),n.fire(\"nodeclean\",{node:t[0]})},changeAttribute:function(e){},destroy:function(){var e=this.element;return e.off(b.events.click,\".node-toggle\"),e.off(b.events.click,\"li > .caption\"),e.off(b.events.dblclick,\"li > .caption\"),e.off(b.events.click,\"input[type=radio]\"),e.off(b.events.click,\"input[type=checkbox]\"),e}};b.plugin(\"treeview\",pn);var fn={required:function(e){return Array.isArray(e)?e.length>0&&e:!!H.isValue(e)&&e.trim()},length:function(e,t){return Array.isArray(e)?e.length===parseInt(t):!(!H.isValue(t)||isNaN(t)||t<=0)&&e.trim().length===parseInt(t)},minlength:function(e,t){return Array.isArray(e)?e.length>=parseInt(t):!(!H.isValue(t)||isNaN(t)||t<=0)&&e.trim().length>=parseInt(t)},maxlength:function(e,t){return Array.isArray(e)?e.length<=parseInt(t):!(!H.isValue(t)||isNaN(t)||t<=0)&&e.trim().length<=parseInt(t)},min:function(e,t){return!(!H.isValue(t)||isNaN(t))&&!!this.number(e)&&!isNaN(e)&&Number(e)>=Number(t)},max:function(e,t){return!(!H.isValue(t)||isNaN(t))&&!!this.number(e)&&!isNaN(e)&&Number(e)<=Number(t)},email:function(e){return/^[a-z0-9\\u007F-\\uffff!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9\\u007F-\\uffff!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z]{2,}$/i.test(e)},domain:function(e){return/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}$/.test(e)},url:function(e){return/^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(e)},date:function(e,t,n){return H.isNull(t)?\"invalid date\"!==String(new Date(e)).toLowerCase():\"invalid date\"!==String(e.toDate(t,n)).toLowerCase()},number:function(e){return!isNaN(e)},integer:function(e){return H.isInt(e)},float:function(e){return H.isFloat(e)},digits:function(e){return/^\\d+$/.test(e)},hexcolor:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},color:function(e){return!!H.isValue(e)&&!1!==T.color(e,T.PALETTES.STANDARD)},pattern:function(e,t){return!!H.isValue(e)&&!!H.isValue(t)&&new RegExp(t).test(e)},compare:function(e,t){return e===t},not:function(e,t){return e!==t},notequals:function(e,t){return!H.isNull(e)&&!H.isNull(t)&&e.trim()!==t.trim()},equals:function(e,t){return!H.isNull(e)&&!H.isNull(t)&&e.trim()===t.trim()},custom:function(e,t){return!1!==H.isFunc(t)&&H.exec(t,[e])},is_control:function(e){return e.parent().hasClass(\"input\")||e.parent().hasClass(\"select\")||e.parent().hasClass(\"textarea\")||e.parent().hasClass(\"checkbox\")||e.parent().hasClass(\"switch\")||e.parent().hasClass(\"radio\")||e.parent().hasClass(\"spinner\")},reset_state:function(t){var n=e(t);fn.is_control(n)?n.parent().removeClass(\"invalid valid\"):n.removeClass(\"invalid valid\")},set_valid_state:function(t){var n=e(t);fn.is_control(n)?n.parent().addClass(\"valid\"):n.addClass(\"valid\")},set_invalid_state:function(t){var n=e(t);fn.is_control(n)?n.parent().addClass(\"invalid\"):n.addClass(\"invalid\")},reset:function(t){var n=this;return e.each(e(t).find(\"[data-validate]\"),(function(){n.reset_state(this)})),this},validate:function(t,n,i,s,a){var o=!0,r=e(t),l=void 0!==r.data(\"validate\")?String(r.data(\"validate\")).split(\" \").map((function(e){return e.trim()})):[],c=[];if(0===l.length)return!0;if(this.reset_state(r),r.attr(\"type\")&&\"checkbox\"===r.attr(\"type\").toLowerCase())!1===(o=-1===l.indexOf(\"required\")||r.is(\":checked\"))&&c.push(\"required\"),void 0!==n&&(n.val+=o?0:1);else if(r.attr(\"type\")&&\"radio\"===r.attr(\"type\").toLowerCase()){void 0===r.attr(\"name\")&&(o=!0);var d=\"input[name=\"+r.attr(\"name\")+\"]:checked\";o=e(d).length>0,void 0!==n&&(n.val+=o?0:1)}else e.each(l,(function(){if(!1!==o){var e,t,i,s=this.split(\"=\");e=s[0],s.shift(),t=s.join(\"=\"),[\"compare\",\"equals\",\"notequals\"].indexOf(e)>-1&&(t=r[0].form.elements[t].value),\"date\"===e&&(t=r.attr(\"data-value-format\"),i=r.attr(\"data-value-locale\")),!1===(o=!1===H.isFunc(fn[e])||(!0===a||\"required\"===e?fn[e](r.val(),t,i):\"\"===r.val().trim()||fn[e](r.val(),t,i)))&&c.push(e),void 0!==n&&(n.val+=o?0:1)}}));return!1===o?(this.set_invalid_state(r),void 0!==n&&n.log.push({input:r[0],name:r.attr(\"name\"),value:r.val(),funcs:l,errors:c}),void 0!==s&&H.exec(s,[r,r.val()],r[0])):(this.set_valid_state(r),void 0!==i&&H.exec(i,[r,r.val()],r[0])),o}};b.validator=fn;var mn={submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:b.noop_true,onSubmit:b.noop,onError:b.noop,onValidate:b.noop,onErrorForm:b.noop,onValidateForm:b.noop,onValidatorCreate:b.noop};b.validatorSetup=function(t){mn=e.extend({},mn,t)},void 0!==typeof window.metroValidatorSetup&&b.validatorSetup(window.metroValidatorSetup);var vn={init:function(t,n){return this.options=e.extend({},mn,t),this.elem=n,this.element=e(n),this._onsubmit=null,this._onreset=null,this.result=[],this._setOptionsFromDOM(),this._create(),this},dependencies:[\"utils\",\"colors\"],_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t=this,n=this.element,i=this.options,s=n.find(\"[data-validate]\");n.attr(\"novalidate\",\"novalidate\"),e.each(s,(function(){var t=e(this);t.data(\"validate\").indexOf(\"required\")>-1&&!0===i.useRequiredClass&&(fn.is_control(t)?t.parent().addClass(\"required\"):t.addClass(\"required\")),!0===i.interactiveCheck&&t.on(b.events.inputchange,(function(){fn.validate(this,void 0,void 0,void 0,i.requiredMode)}))})),this._onsubmit=null,this._onreset=null,null!==n[0].onsubmit&&(this._onsubmit=n[0].onsubmit,n[0].onsubmit=null),null!==n[0].onreset&&(this._onreset=n[0].onreset,n[0].onreset=null),n[0].onsubmit=function(){return t._submit()},n[0].onreset=function(){return t._reset()},H.exec(i.onValidatorCreate,null,n[0]),n.fire(\"validatorcreate\")},_reset:function(){fn.reset(this.element),null!==this._onsubmit&&H.exec(this._onsubmit,null,this.element[0])},_submit:function(){var t=this,n=this.element,i=this.options,s=this.elem,a=n.find(\"[data-validate]\"),o=n.find(\"input[type=submit], button[type=submit]\"),r={val:0,log:[]},l=H.formData(n);return o.length>0&&o.attr(\"disabled\",\"disabled\").addClass(\"disabled\"),e.each(a,(function(){fn.validate(this,r,i.onValidate,i.onError,i.requiredMode)})),o.removeAttr(\"disabled\").removeClass(\"disabled\"),r.val+=!1===H.exec(i.onBeforeSubmit,[l],this.elem)?1:0,0===r.val?(H.exec(i.onValidateForm,[l],s),n.fire(\"validateform\",{data:l}),setTimeout((function(){H.exec(i.onSubmit,[l],s),n.fire(\"formsubmit\",{data:l}),null!==t._onsubmit&&H.exec(t._onsubmit,null,s)}),i.submitTimeout)):(H.exec(i.onErrorForm,[r.log,l],s),n.fire(\"errorform\",{log:r.log,data:l}),i.clearInvalid>0&&setTimeout((function(){e.each(a,(function(){var t=e(this);fn.is_control(t)?t.parent().removeClass(\"invalid\"):t.removeClass(\"invalid\")}))}),i.clearInvalid)),0===r.val},changeAttribute:function(e){}};b.plugin(\"validator\",vn);var gn={src:null,poster:\"\",logo:\"\",logoHeight:32,logoWidth:\"auto\",logoTarget:\"\",volume:.5,loop:!1,autoplay:!1,fullScreenMode:b.fullScreenMode.DESKTOP,aspectRatio:b.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:\"<span class='default-icon-loop'></span>\",stopIcon:\"<span class='default-icon-stop'></span>\",playIcon:\"<span class='default-icon-play'></span>\",pauseIcon:\"<span class='default-icon-pause'></span>\",muteIcon:\"<span class='default-icon-mute'></span>\",volumeLowIcon:\"<span class='default-icon-low-volume'></span>\",volumeMediumIcon:\"<span class='default-icon-medium-volume'></span>\",volumeHighIcon:\"<span class='default-icon-high-volume'></span>\",screenMoreIcon:\"<span class='default-icon-enlarge'></span>\",screenLessIcon:\"<span class='default-icon-shrink'></span>\",onPlay:b.noop,onPause:b.noop,onStop:b.noop,onEnd:b.noop,onMetadata:b.noop,onTime:b.noop,onVideoCreate:b.noop};b.videoSetup=function(t){gn=e.extend({},gn,t)},void 0!==typeof window.metroVideoSetup&&b.videoSetup(window.metroVideoSetup);var Cn={init:function(t,n){return this.options=e.extend({},gn,t),this.elem=n,this.element=e(n),this.fullscreen=!1,this.preloader=null,this.player=null,this.video=n,this.stream=null,this.volume=null,this.volumeBackup=0,this.muted=!1,this.fullScreenInterval=!1,this.isPlaying=!1,this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;this.video,b.checkRuntime(e,\"video\"),!1===b.fullScreenEnabled&&(t.fullScreenMode=b.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),!0===t.autoplay&&this.play(),H.exec(t.onVideoCreate,[e,this.player],e[0]),e.fire(\"videocreate\")},_createPlayer:function(){var t=this.element,n=this.options,i=this.video,s=e(\"<div>\").addClass(\"media-player video-player \"+t[0].className),a=e(\"<div>\").addClass(\"preloader\").appendTo(s),o=e(\"<a>\").attr(\"href\",n.logoTarget).addClass(\"logo\").appendTo(s);t.attr(\"id\")||t.attr(\"id\",H.elementId(\"video\")),s.insertBefore(t),t.appendTo(s),e.each([\"muted\",\"autoplay\",\"controls\",\"height\",\"width\",\"loop\",\"poster\",\"preload\"],(function(){t.removeAttr(this)})),t.attr(\"preload\",\"auto\"),\"\"!==n.poster&&t.attr(\"poster\",n.poster),i.volume=n.volume,a.activity({type:\"cycle\",style:\"color\"}),a.hide(),this.preloader=a,\"\"!==n.logo&&e(\"<img>\").css({height:n.logoHeight,width:n.logoWidth}).attr(\"src\",n.logo).appendTo(o),null!==n.src&&this._setSource(n.src),t[0].className=\"\",this.player=s},_setSource:function(t){var n=this.element;n.find(\"source\").remove(),n.removeAttr(\"src\"),Array.isArray(t)?e.each(t,(function(){void 0!==this.src&&e(\"<source>\").attr(\"src\",this.src).attr(\"type\",void 0!==this.type?this.type:\"\").appendTo(n)})):n.attr(\"src\",t)},_createControls:function(){var t,n=this,i=this.element,s=this.options,a=this.elem,o=(this.player,e(\"<div>\").addClass(\"controls\").addClass(s.clsControls).insertAfter(i)),r=e(\"<div>\").addClass(\"stream\").appendTo(o),l=e(\"<input>\").addClass(\"stream-slider ultra-thin cycle-marker\").appendTo(r),c=e(\"<div>\").addClass(\"volume\").appendTo(o),d=e(\"<input>\").addClass(\"volume-slider ultra-thin cycle-marker\").appendTo(c),h=e(\"<div>\").addClass(\"info-box\").appendTo(o);!0!==s.showInfo&&h.hide(),b.makePlugin(l,\"slider\",{clsMarker:\"bg-red\",clsHint:\"bg-cyan fg-white\",clsComplete:\"bg-cyan\",hint:!0,onStart:function(){a.paused||a.pause()},onStop:function(e){a.seekable.length>0&&(a.currentTime=(n.duration*e/100).toFixed(0)),a.paused&&a.currentTime>0&&a.play()}}),this.stream=l,!0!==s.showStream&&r.hide(),b.makePlugin(d,\"slider\",{clsMarker:\"bg-red\",clsHint:\"bg-cyan fg-white\",hint:!0,value:100*s.volume,onChangeValue:function(e){a.volume=e/100}}),this.volume=d,!0!==s.showVolume&&c.hide(),!0===s.showLoop&&(t=e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square loop\").html(s.loopIcon).appendTo(o)),!0===s.showPlay&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square play\").html(s.playIcon).appendTo(o),!0===s.showStop&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square stop\").html(s.stopIcon).appendTo(o),!0===s.showMute&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square mute\").html(s.muteIcon).appendTo(o),!0===s.showFull&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button square full\").html(s.screenMoreIcon).appendTo(o),!0===s.loop&&(t.addClass(\"active\"),i.attr(\"loop\",\"loop\")),this._setVolume(),s.muted&&(n.volumeBackup=a.volume,b.getPlugin(n.volume[0],\"slider\").val(0),a.volume=0),h.html(\"00:00 / 00:00\")},_createEvents:function(){var t=this,n=this.element,i=this.options,s=this.elem,a=this.player;n.on(\"loadstart\",(function(){t.preloader.show()})),n.on(\"loadedmetadata\",(function(){t.duration=s.duration.toFixed(0),t._setInfo(0,t.duration),H.exec(i.onMetadata,[s,a],n[0])})),n.on(\"canplay\",(function(){t._setBuffer(),t.preloader.hide()})),n.on(\"progress\",(function(){t._setBuffer()})),n.on(\"timeupdate\",(function(){var e=Math.round(100*s.currentTime/t.duration);t._setInfo(s.currentTime,t.duration),b.getPlugin(t.stream[0],\"slider\").val(e),H.exec(i.onTime,[s.currentTime,t.duration,s,a],n[0])})),n.on(\"waiting\",(function(){t.preloader.show()})),n.on(\"loadeddata\",(function(){})),n.on(\"play\",(function(){a.find(\".play\").html(i.pauseIcon),H.exec(i.onPlay,[s,a],n[0]),t._onMouse()})),n.on(\"pause\",(function(){a.find(\".play\").html(i.playIcon),H.exec(i.onPause,[s,a],n[0]),t._offMouse()})),n.on(\"stop\",(function(){b.getPlugin(t.stream[0],\"slider\").val(0),H.exec(i.onStop,[s,a],n[0]),t._offMouse()})),n.on(\"ended\",(function(){b.getPlugin(t.stream[0],\"slider\").val(0),H.exec(i.onEnd,[s,a],n[0]),t._offMouse()})),n.on(\"volumechange\",(function(){t._setVolume()})),a.on(b.events.click,\".play\",(function(e){s.paused?t.play():t.pause()})),a.on(b.events.click,\".stop\",(function(e){t.stop()})),a.on(b.events.click,\".mute\",(function(e){t._toggleMute()})),a.on(b.events.click,\".loop\",(function(){t._toggleLoop()})),a.on(b.events.click,\".full\",(function(){t.fullscreen=!t.fullscreen,a.find(\".full\").html(!0===t.fullscreen?i.screenLessIcon:i.screenMoreIcon),i.fullScreenMode===b.fullScreenMode.WINDOW?!0===t.fullscreen?a.addClass(\"full-screen\"):a.removeClass(\"full-screen\"):!0===t.fullscreen?(b.requestFullScreen(s),!1===t.fullScreenInterval&&(t.fullScreenInterval=setInterval((function(){!1===b.inFullScreen()&&(t.fullscreen=!1,clearInterval(t.fullScreenInterval),t.fullScreenInterval=!1,a.find(\".full\").html(i.screenMoreIcon))}),1e3))):b.exitFullScreen()})),e(window).on(b.events.keyup,(function(e){t.fullscreen&&27===e.keyCode&&a.find(\".full\").click()}),{ns:n.attr(\"id\")}),e(window).on(b.events.resize,(function(){t._setAspectRatio()}),{ns:n.attr(\"id\")})},_onMouse:function(){var e=this.options,t=this.player;t.on(b.events.enter,(function(){var n=t.find(\".controls\");e.controlsHide>0&&\"none\"===n.style(\"display\")&&n.stop(!0).fadeIn(500,(function(){n.css(\"display\",\"flex\")}))})),t.on(b.events.leave,(function(){var n=t.find(\".controls\");e.controlsHide>0&&1===parseInt(n.style(\"opacity\"))&&setTimeout((function(){n.stop(!0).fadeOut(500)}),e.controlsHide)}))},_offMouse:function(){var e=this.player,t=this.options,n=e.find(\".controls\");e.off(b.events.enter),e.off(b.events.leave),t.controlsHide>0&&\"none\"===n.style(\"display\")&&n.stop(!0).fadeIn(500,(function(){n.css(\"display\",\"flex\")}))},_toggleLoop:function(){var e=this.player.find(\".loop\");0!==e.length&&(e.toggleClass(\"active\"),e.hasClass(\"active\")?this.element.attr(\"loop\",\"loop\"):this.element.removeAttr(\"loop\"))},_toggleMute:function(){this.muted=!this.muted,!1===this.muted?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),b.getPlugin(this.volume,\"slider\").val(!1===this.muted?100*this.volumeBackup:0)},_setInfo:function(e,t){this.player.find(\".info-box\").html(H.secondsToFormattedString(Math.round(e))+\" / \"+H.secondsToFormattedString(Math.round(t)))},_setBuffer:function(){var e=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;b.getPlugin(this.stream,\"slider\").buff(e)},_setVolume:function(){var e=this.video,t=this.player,n=this.options,i=t.find(\".mute\"),s=100*e.volume;s>1&&s<30?i.html(n.volumeLowIcon):s>=30&&s<60?i.html(n.volumeMediumIcon):s>=60&&s<=100?i.html(n.volumeHighIcon):i.html(n.muteIcon)},_setAspectRatio:function(){var e,t=this.player,n=this.options,i=t.outerWidth();switch(n.aspectRatio){case b.aspectRatio.SD:e=H.aspectRatioH(i,\"4/3\");break;case b.aspectRatio.CINEMA:e=H.aspectRatioH(i,\"21/9\");break;default:e=H.aspectRatioH(i,\"16/9\")}t.outerHeight(e)},aspectRatio:function(e){this.options.aspectRatio=e,this._setAspectRatio()},play:function(e){void 0!==e&&this._setSource(e),void 0===this.element.attr(\"src\")&&0===this.element.find(\"source\").length||(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,b.getPlugin(this.stream[0],\"slider\").val(0),this._offMouse()},volume:function(e){if(void 0===e)return this.video.volume;e>1&&(e/=100),this.video.volume=e,b.getPlugin(this.volume[0],\"slider\").val(100*e)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr(\"data-aspect-ratio\"),this._setAspectRatio()},changeSource:function(){var e=JSON.parse(this.element.attr(\"data-src\"));this.play(e)},changeVolume:function(){var e=this.element.attr(\"data-volume\");this.volume(e)},changeAttribute:function(e){switch(e){case\"data-aspect-ratio\":this.changeAspectRatio();break;case\"data-src\":this.changeSource();break;case\"data-volume\":this.changeVolume()}},destroy:function(){var t=this.element,n=this.player;return b.getPlugin(this.stream[0],\"slider\").destroy(),b.getPlugin(this.volume[0],\"slider\").destroy(),t.off(\"loadstart\"),t.off(\"loadedmetadata\"),t.off(\"canplay\"),t.off(\"progress\"),t.off(\"timeupdate\"),t.off(\"waiting\"),t.off(\"loadeddata\"),t.off(\"play\"),t.off(\"pause\"),t.off(\"stop\"),t.off(\"ended\"),t.off(\"volumechange\"),n.off(b.events.click,\".play\"),n.off(b.events.click,\".stop\"),n.off(b.events.click,\".mute\"),n.off(b.events.click,\".loop\"),n.off(b.events.click,\".full\"),e(window).off(b.events.keyup,{ns:t.attr(\"id\")}),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"video\",Cn);var bn={hidden:!1,width:\"auto\",height:\"auto\",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:\".window-caption .icon, .window-caption .title\",dragArea:\"parent\",shadow:!1,icon:\"\",title:\"Window\",content:null,resizable:!0,overlay:!1,overlayColor:\"transparent\",overlayAlpha:.5,modal:!1,position:\"absolute\",checkEmbed:!0,top:\"auto\",left:\"auto\",place:\"auto\",closeAction:b.actions.REMOVE,customButtons:null,clsCustomButton:\"\",clsCaption:\"\",clsContent:\"\",clsWindow:\"\",_runtime:!1,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:b.noop,onDragStop:b.noop,onDragMove:b.noop,onCaptionDblClick:b.noop,onCloseClick:b.noop,onMaxClick:b.noop,onMinClick:b.noop,onResizeStart:b.noop,onResizeStop:b.noop,onResize:b.noop,onWindowCreate:b.noop,onShow:b.noop,onWindowDestroy:b.noop,onCanClose:b.noop_true,onClose:b.noop};b.windowSetup=function(t){bn=e.extend({},bn,t)},void 0!==typeof window.metroWindowSetup&&b.windowSetup(window.metroWindowSetup);var wn={init:function(t,n){return this.options=e.extend({},bn,t),this.elem=n,this.element=e(n),this.win=null,this.overlay=null,this.position={top:0,left:0},this.hidden=!1,this.content=null,this._setOptionsFromDOM(),this._create(),this},dependencies:[\"draggable\",\"resizeable\"],_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var t,n,i=this,s=this.element,a=this.options,o=\"parent\"===a.dragArea?s.parent():e(a.dragArea);b.checkRuntime(s,\"window\"),!0===a.modal&&(a.btnMax=!1,a.btnMin=!1,a.resizable=!1),H.isNull(a.content)?a.content=s:(H.isUrl(a.content)&&H.isVideoUrl(a.content)?(a.content=H.embedUrl(a.content),s.css({height:\"100%\"})):!H.isQ(a.content)&&H.isFunc(a.content)&&(a.content=H.exec(a.content)),s.append(a.content),a.content=s),!0===a._runtime&&b.makeRuntime(s,\"window\"),(t=this._window(a)).addClass(\"no-visible\"),o.append(t),!0===a.overlay&&((n=this._overlay()).appendTo(t.parent()),this.overlay=n),this.win=t,H.exec(a.onWindowCreate,[this.win[0]],s[0]),s.fire(\"windowcreate\",{win:t[0]}),setTimeout((function(){i._setPosition(),!0!==a.hidden&&i.win.removeClass(\"no-visible\"),H.exec(a.onShow,[i.win[0]],s[0]),s.fire(\"show\",{win:i.win[0]})}),100)},_setPosition:function(){var t,n,i,s,a=this.options,o=this.win,r=\"parent\"===a.dragArea?o.parent():e(a.dragArea),l=r.height()/2-o[0].offsetHeight/2,c=r.width()/2-o[0].offsetWidth/2;if(\"auto\"!==a.place){switch(a.place.toLowerCase()){case\"top-left\":t=0,n=0,i=\"auto\",s=\"auto\";break;case\"top-center\":t=0,n=c,i=\"auto\",s=\"auto\";break;case\"top-right\":t=0,i=0,n=\"auto\",s=\"auto\";break;case\"right-center\":t=l,i=0,n=\"auto\",s=\"auto\";break;case\"bottom-right\":s=0,i=0,n=\"auto\",t=\"auto\";break;case\"bottom-center\":s=0,n=c,i=\"auto\",t=\"auto\";break;case\"bottom-left\":s=0,n=0,i=\"auto\",t=\"auto\";break;case\"left-center\":t=l,n=0,i=\"auto\",s=\"auto\";break;default:t=l,n=c,s=\"auto\",i=\"auto\"}o.css({top:t,left:n,bottom:s,right:i})}},_window:function(t){var n,i,s,a,o,r=this,l=(this.element,t.width),c=t.height;if(n=e(\"<div>\").addClass(\"window\"),!0===t.modal&&n.addClass(\"modal\"),i=e(\"<div>\").addClass(\"window-caption\"),s=e(\"<div>\").addClass(\"window-content\"),n.append(i),n.append(s),!0===t.status&&(o=e(\"<div>\").addClass(\"window-status\"),n.append(o)),!0===t.shadow&&n.addClass(\"win-shadow\"),H.isValue(t.icon)&&e(\"<span>\").addClass(\"icon\").html(t.icon).appendTo(i),e(\"<span>\").addClass(\"title\").html(H.isValue(t.title)?t.title:\"&nbsp;\").appendTo(i),H.isNull(t.content)||(H.isQ(t.content)?t.content.appendTo(s):s.html(t.content)),(a=e(\"<div>\").addClass(\"buttons\")).appendTo(i),!0===t.btnMax&&e(\"<span>\").addClass(\"button btn-max sys-button\").appendTo(a),!0===t.btnMin&&e(\"<span>\").addClass(\"button btn-min sys-button\").appendTo(a),!0===t.btnClose&&e(\"<span>\").addClass(\"button btn-close sys-button\").appendTo(a),H.isValue(t.customButtons)){var d=[];!1!==H.isObject(t.customButtons)&&(t.customButtons=H.isObject(t.customButtons)),\"string\"==typeof t.customButtons&&t.customButtons.indexOf(\"{\")>-1?d=JSON.parse(t.customButtons):\"object\"==typeof t.customButtons&&H.objectLength(t.customButtons)>0?d=t.customButtons:console.log(\"Unknown format for custom buttons\"),e.each(d,(function(){var n=e(\"<span>\");n.addClass(\"button btn-custom\").addClass(t.clsCustomButton).addClass(this.cls).attr(\"tabindex\",-1).html(this.html),n.data(\"action\",this.onclick),a.prepend(n)}))}return i.on(b.events.stop,\".btn-custom\",(function(t){if(!H.isRightMouse(t)){var n=e(this),i=n.data(\"action\");H.exec(i,[n],this)}})),n.attr(\"id\",void 0===t.id?H.elementId(\"window\"):t.id),n.on(b.events.dblclick,\".window-caption\",(function(e){r.maximized(e)})),i.on(b.events.click,\".btn-max, .btn-min, .btn-close\",(function(t){if(!H.isRightMouse(t)){var n=e(t.target);n.hasClass(\"btn-max\")&&r.maximized(t),n.hasClass(\"btn-min\")&&r.minimized(t),n.hasClass(\"btn-close\")&&r.close(t)}})),!0===t.draggable&&b.makePlugin(n,\"draggable\",{dragElement:t.dragElement,dragArea:t.dragArea,onDragStart:t.onDragStart,onDragStop:t.onDragStop,onDragMove:t.onDragMove}),n.addClass(t.clsWindow),i.addClass(t.clsCaption),s.addClass(t.clsContent),0===t.minWidth&&(t.minWidth=34,e.each(a.children(\".btn-custom\"),(function(){t.minWidth+=H.hiddenElementSize(this).width})),t.btnMax&&(t.minWidth+=34),t.btnMin&&(t.minWidth+=34),t.btnClose&&(t.minWidth+=34)),t.minWidth>0&&!isNaN(t.width)&&t.width<t.minWidth&&(l=t.minWidth),t.minHeight>0&&!isNaN(t.height)&&t.height>t.minHeight&&(c=t.minHeight),!0===t.resizable&&(e(\"<span>\").addClass(\"resize-element\").appendTo(n),n.addClass(\"resizable\"),b.makePlugin(n,\"resizable\",{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,resizeElement:\".resize-element\",onResizeStart:t.onResizeStart,onResizeStop:t.onResizeStop,onResize:t.onResize})),n.css({width:l,height:c,position:t.position,top:t.top,left:t.left}),n},_overlay:function(){var t=this.options,n=e(\"<div>\");return n.addClass(\"overlay\"),\"transparent\"===t.overlayColor?n.addClass(\"transparent\"):n.css({background:H.hex2rgba(t.overlayColor,t.overlayAlpha)}),n},maximized:function(t){var n=this.win,i=this.element,s=this.options,a=e(t.currentTarget);n.removeClass(\"minimized\"),n.toggleClass(\"maximized\"),a.hasClass(\"window-caption\")?(H.exec(s.onCaptionDblClick,[n[0]],i[0]),i.fire(\"captiondblclick\",{win:n[0]})):(H.exec(s.onMaxClick,[n[0]],i[0]),i.fire(\"maxclick\",{win:n[0]}))},minimized:function(){var e=this.win,t=this.element,n=this.options;e.removeClass(\"maximized\"),e.toggleClass(\"minimized\"),H.exec(n.onMinClick,[e[0]],t[0]),t.fire(\"minclick\",{win:e[0]})},close:function(){var e=this,t=this.win,n=this.element,i=this.options;if(!1===H.exec(i.onCanClose,[t]))return!1;var s=0;i.onClose!==b.noop&&(s=500),H.exec(i.onClose,[t[0]],n[0]),n.fire(\"close\",{win:t[0]}),setTimeout((function(){!0===i.modal&&t.siblings(\".overlay\").remove(),H.exec(i.onCloseClick,[t[0]],n[0]),n.fire(\"closeclick\",{win:t[0]}),H.exec(i.onWindowDestroy,[t[0]],n[0]),n.fire(\"windowdestroy\",{win:t[0]}),i.closeAction===b.actions.REMOVE?t.remove():e.hide()}),s)},hide:function(){var e=this.element,t=this.options;this.win.css({display:\"none\"}),H.exec(t.onHide,[this.win[0]],e[0]),e.fire(\"hide\",{win:this.win[0]})},show:function(){var e=this.element,t=this.options;this.win.removeClass(\"no-visible\"),this.win.css({display:\"flex\"}),H.exec(t.onShow,[this.win[0]],e[0]),e.fire(\"show\",{win:this.win[0]})},toggle:function(){\"none\"===this.win.css(\"display\")||this.win.hasClass(\"no-visible\")?this.show():this.hide()},isOpen:function(){return this.win.hasClass(\"no-visible\")},min:function(e){e?this.win.addClass(\"minimized\"):this.win.removeClass(\"minimized\")},max:function(e){e?this.win.addClass(\"maximized\"):this.win.removeClass(\"maximized\")},toggleButtons:function(e){var t=this.win,n=t.find(\".btn-close\"),i=t.find(\".btn-min\"),s=t.find(\".btn-max\");\"data-btn-close\"===e&&n.toggle(),\"data-btn-min\"===e&&i.toggle(),\"data-btn-max\"===e&&s.toggle()},changeSize:function(e){var t=this.element,n=this.win;\"data-width\"===e&&n.css(\"width\",t.data(\"width\")),\"data-height\"===e&&n.css(\"height\",t.data(\"height\"))},changeClass:function(e){var t=this.element,n=this.win,i=this.options;\"data-cls-window\"===e&&(n[0].className=\"window \"+(i.resizable?\" resizeable \":\" \")+t.attr(\"data-cls-window\")),\"data-cls-caption\"===e&&(n.find(\".window-caption\")[0].className=\"window-caption \"+t.attr(\"data-cls-caption\")),\"data-cls-content\"===e&&(n.find(\".window-content\")[0].className=\"window-content \"+t.attr(\"data-cls-content\"))},toggleShadow:function(){var e=this.element,t=this.win;!0===JSON.parse(e.attr(\"data-shadow\"))?t.addClass(\"win-shadow\"):t.removeClass(\"win-shadow\")},setContent:function(e){var t,n=this.element,i=this.win,s=H.isValue(e)?e:n.attr(\"data-content\");t=!H.isQ(s)&&H.isFunc(s)?H.exec(s):H.isQ(s)?s.html():s,i.find(\".window-content\").html(t)},setTitle:function(e){var t=this.element,n=this.win,i=H.isValue(e)?e:t.attr(\"data-title\");n.find(\".window-caption .title\").html(i)},setIcon:function(e){var t=this.element,n=this.win,i=H.isValue(e)?e:t.attr(\"data-icon\");n.find(\".window-caption .icon\").html(i)},getIcon:function(){return this.win.find(\".window-caption .icon\").html()},getTitle:function(){return this.win.find(\".window-caption .title\").html()},toggleDraggable:function(){var e=this.element,t=this.win,n=JSON.parse(e.attr(\"data-draggable\")),i=b.getPlugin(t,\"draggable\");!0===n?i.on():i.off()},toggleResizable:function(){var e=this.element,t=this.win,n=JSON.parse(e.attr(\"data-resizable\")),i=b.getPlugin(t,\"resizable\");!0===n?(i.on(),t.find(\".resize-element\").removeClass(\"resize-element-disabled\")):(i.off(),t.find(\".resize-element\").addClass(\"resize-element-disabled\"))},changeTopLeft:function(e){var t,n=this.element,i=this.win;if(\"data-top\"===e){if(t=parseInt(n.attr(\"data-top\")),!isNaN(t))return;i.css(\"top\",t)}if(\"data-left\"===e){if(t=parseInt(n.attr(\"data-left\")),!isNaN(t))return;i.css(\"left\",t)}},changePlace:function(e){var t=this.element,n=this.win,i=H.isValue(e)?e:t.attr(\"data-place\");n.addClass(i)},changeAttribute:function(e){switch(e){case\"data-btn-close\":case\"data-btn-min\":case\"data-btn-max\":this.toggleButtons(e);break;case\"data-width\":case\"data-height\":this.changeSize(e);break;case\"data-cls-window\":case\"data-cls-caption\":case\"data-cls-content\":this.changeClass(e);break;case\"data-shadow\":this.toggleShadow();break;case\"data-icon\":this.setIcon();break;case\"data-title\":this.setTitle();break;case\"data-content\":this.setContent();break;case\"data-draggable\":this.toggleDraggable();break;case\"data-resizable\":this.toggleResizable();break;case\"data-top\":case\"data-left\":this.changeTopLeft(e);break;case\"data-place\":this.changePlace()}},destroy:function(){return this.element}};b.plugin(\"window\",wn),b.window={isWindow:function(e){return H.isMetroObject(e,\"window\")},min:function(e,t){if(!this.isWindow(e))return!1;b.getPlugin(e,\"window\").min(t)},max:function(e,t){if(!this.isWindow(e))return!1;b.getPlugin(e,\"window\").max(t)},show:function(e){if(!this.isWindow(e))return!1;b.getPlugin(e,\"window\").show()},hide:function(e){if(!this.isWindow(e))return!1;b.getPlugin(e,\"window\").hide()},toggle:function(e){if(!this.isWindow(e))return!1;b.getPlugin(e,\"window\").toggle()},isOpen:function(e){return!!this.isWindow(e)&&b.getPlugin(e,\"window\").isOpen()},close:function(e){if(!this.isWindow(e))return!1;b.getPlugin(e,\"window\").close()},create:function(t){var n;n=e(\"<div>\").appendTo(e(\"body\"));var i=e.extend({},{},void 0!==t?t:{});return i._runtime=!0,n.window(i)}};var yn={start:1,finish:0,iconHelp:\"<span class='default-icon-help'></span>\",iconPrev:\"<span class='default-icon-left-arrow'></span>\",iconNext:\"<span class='default-icon-right-arrow'></span>\",iconFinish:\"<span class='default-icon-check'></span>\",buttonMode:\"cycle\",buttonOutline:!0,clsWizard:\"\",clsActions:\"\",clsHelp:\"\",clsPrev:\"\",clsNext:\"\",clsFinish:\"\",onPage:b.noop,onNextPage:b.noop,onPrevPage:b.noop,onFirstPage:b.noop,onLastPage:b.noop,onFinishPage:b.noop,onHelpClick:b.noop,onPrevClick:b.noop,onNextClick:b.noop,onFinishClick:b.noop,onBeforePrev:b.noop_true,onBeforeNext:b.noop_true,onWizardCreate:b.noop};b.wizardSetup=function(t){yn=e.extend({},yn,t)},void 0!==typeof window.metroWizardSetup&&b.wizardSetup(window.metroWizardSetup);var xn={init:function(t,n){return this.options=e.extend({},yn,t),this.elem=n,this.element=e(n),this._setOptionsFromDOM(),this._create(),this},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_create:function(){var e=this.element,t=this.options;b.checkRuntime(e,\"wizard\"),this._createWizard(),this._createEvents(),H.exec(t.onWizardCreate,null,e[0]),e.fire(\"wizardcreate\")},_createWizard:function(){var t,n=this.element,i=this.options;n.attr(\"id\")||n.attr(\"id\",H.elementId(\"wizard\")),n.addClass(\"wizard\").addClass(i.view).addClass(i.clsWizard),t=e(\"<div>\").addClass(\"action-bar\").addClass(i.clsActions).appendTo(n);var s=\"button\"===i.buttonMode?\"\":i.buttonMode;!0===i.buttonOutline&&(s+=\" outline\"),!1!==i.iconHelp&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button wizard-btn-help\").addClass(s).addClass(i.clsHelp).html(H.isTag(i.iconHelp)?i.iconHelp:e(\"<img>\").attr(\"src\",i.iconHelp)).appendTo(t),!1!==i.iconPrev&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button wizard-btn-prev\").addClass(s).addClass(i.clsPrev).html(H.isTag(i.iconPrev)?i.iconPrev:e(\"<img>\").attr(\"src\",i.iconPrev)).appendTo(t),!1!==i.iconNext&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button wizard-btn-next\").addClass(s).addClass(i.clsNext).html(H.isTag(i.iconNext)?i.iconNext:e(\"<img>\").attr(\"src\",i.iconNext)).appendTo(t),!1!==i.iconFinish&&e(\"<button>\").attr(\"type\",\"button\").addClass(\"button wizard-btn-finish\").addClass(s).addClass(i.clsFinish).html(H.isTag(i.iconFinish)?i.iconFinish:e(\"<img>\").attr(\"src\",i.iconFinish)).appendTo(t),this.toPage(i.start),this._setHeight()},_setHeight:function(){var t=this.element,n=(this.options,t.children(\"section\")),i=0;n.children(\".page-content\").css(\"max-height\",\"none\"),e.each(n,(function(){var t=e(this).height();i<parseInt(t)&&(i=t)})),t.height(i)},_createEvents:function(){var t=this,n=this.element,i=this.options;n.on(b.events.click,\".wizard-btn-help\",(function(){var e=n.children(\"section\").get(t.current-1);H.exec(i.onHelpClick,[t.current,e,n[0]]),n.fire(\"helpclick\",{index:t.current,page:e})})),n.on(b.events.click,\".wizard-btn-prev\",(function(){t.prev();var e=n.children(\"section\").get(t.current-1);H.exec(i.onPrevClick,[t.current,e],n[0]),n.fire(\"prevclick\",{index:t.current,page:e})})),n.on(b.events.click,\".wizard-btn-next\",(function(){t.next();var e=n.children(\"section\").get(t.current-1);H.exec(i.onNextClick,[t.current,e],n[0]),n.fire(\"nextclick\",{index:t.current,page:e})})),n.on(b.events.click,\".wizard-btn-finish\",(function(){var e=n.children(\"section\").get(t.current-1);H.exec(i.onFinishClick,[t.current,e],n[0]),n.fire(\"finishclick\",{index:t.current,page:e})})),n.on(b.events.click,\".complete\",(function(){var n=e(this).index()+1;t.toPage(n)})),e(window).on(b.events.resize,(function(){t._setHeight()}),{ns:n.attr(\"id\")})},next:function(){var t=this.element,n=this.options,i=t.children(\"section\"),s=e(t.children(\"section\").get(this.current-1));this.current+1>i.length||!1===H.exec(n.onBeforeNext,[this.current,s,t])||(this.current++,this.toPage(this.current),s=e(t.children(\"section\").get(this.current-1)),H.exec(n.onNextPage,[this.current,s[0]],t[0]),t.fire(\"nextpage\",{index:this.current,page:s[0]}))},prev:function(){var t=this.element,n=this.options,i=e(t.children(\"section\").get(this.current-1));this.current-1!=0&&!1!==H.exec(n.onBeforePrev,[this.current,i,t])&&(this.current--,this.toPage(this.current),i=e(t.children(\"section\").get(this.current-1)),H.exec(n.onPrevPage,[this.current,i[0]],t[0]),t.fire(\"prevpage\",{index:this.current,page:i[0]}))},last:function(){var t,n=this.element,i=this.options;this.toPage(n.children(\"section\").length),t=e(n.children(\"section\").get(this.current-1)),H.exec(i.onLastPage,[this.current,t[0]],n[0]),n.fire(\"lastpage\",{index:this.current,page:t[0]})},first:function(){var t,n=this.element,i=this.options;this.toPage(1),t=e(n.children(\"section\").get(0)),H.exec(i.onFirstPage,[this.current,t[0]],n[0]),n.fire(\"firstpage\",{index:this.current,page:t[0]})},toPage:function(t){var n=this.element,i=this.options,s=e(n.children(\"section\").get(t-1)),a=n.children(\"section\"),o=n.find(\".action-bar\");if(0!==s.length){var r=n.find(\".wizard-btn-finish\").addClass(\"disabled\"),l=n.find(\".wizard-btn-next\").addClass(\"disabled\"),c=n.find(\".wizard-btn-prev\").addClass(\"disabled\");this.current=t,n.children(\"section\").removeClass(\"complete current\").removeClass(i.clsCurrent).removeClass(i.clsComplete),s.addClass(\"current\").addClass(i.clsCurrent),s.prevAll().addClass(\"complete\").addClass(i.clsComplete);var d=0===n.children(\"section.complete\").length?0:parseInt(H.getStyleOne(n.children(\"section.complete\")[0],\"border-left-width\"));o.animate({left:n.children(\"section.complete\").length*d+41}),(this.current===a.length||i.finish>0&&this.current>=i.finish)&&r.removeClass(\"disabled\"),parseInt(i.finish)>0&&this.current===parseInt(i.finish)&&(H.exec(i.onFinishPage,[this.current,s[0]],n[0]),n.fire(\"finishpage\",{index:this.current,page:s[0]})),this.current<a.length&&l.removeClass(\"disabled\"),this.current>1&&c.removeClass(\"disabled\"),H.exec(i.onPage,[this.current,s[0]],n[0]),n.fire(\"page\",{index:this.current,page:s[0]})}},changeAttribute:function(e){},destroy:function(){var t=this.element;return t.off(b.events.click,\".wizard-btn-help\"),t.off(b.events.click,\".wizard-btn-prev\"),t.off(b.events.click,\".wizard-btn-next\"),t.off(b.events.click,\".wizard-btn-finish\"),t.off(b.events.click,\".complete\"),e(window).off(b.events.resize,{ns:t.attr(\"id\")}),t}};b.plugin(\"wizard\",xn),!0===METRO_INIT&&(\"immediate\"===METRO_INIT_MODE?b.init():e((function(){b.init()})))})?s.call(t,n,t,e):s)||(e.exports=a)}).call(this,n(4).setImmediate)},function(e,t,n){(function(e){var i=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,s=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(s.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new a(s.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(5),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var i,s,a,o,r,l=1,c={},d=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,\"[object process]\"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){f(e.data)},i=function(e){a.port2.postMessage(e)}):h&&\"onreadystatechange\"in h.createElement(\"script\")?(s=h.documentElement,i=function(e){var t=h.createElement(\"script\");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):i=function(e){setTimeout(f,0,e)}:(o=\"setImmediate$\"+Math.random()+\"$\",r=function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))},e.addEventListener?e.addEventListener(\"message\",r,!1):e.attachEvent(\"onmessage\",r),i=function(t){e.postMessage(o+t,\"*\")}),u.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return c[l]=s,i(l),l++},u.clearImmediate=p}function p(e){delete c[e]}function f(e){if(d)setTimeout(f,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{p(e),d=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(0))},function(e,t,n){(function(t,i){var s=n(!function(){var e=new Error(\"Cannot find module 'fs'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),a=n(7),o=a.join(t,\"path.txt\");e.exports=function(){if(s.existsSync(o)){var e=s.readFileSync(o,\"utf-8\");return i.env.ELECTRON_OVERRIDE_DIST_PATH?a.join(i.env.ELECTRON_OVERRIDE_DIST_PATH,e):a.join(t,\"dist\",e)}throw new Error(\"Electron failed to install correctly, please delete node_modules/electron and try installing again\")}()}).call(this,\"/\",n(0))},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var s=e[i];\".\"===s?e.splice(i,1):\"..\"===s?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift(\"..\");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t=\"\",s=!1,a=arguments.length-1;a>=-1&&!s;a--){var o=a>=0?arguments[a]:e.cwd();if(\"string\"!=typeof o)throw new TypeError(\"Arguments to path.resolve must be strings\");o&&(t=o+\"/\"+t,s=\"/\"===o.charAt(0))}return(s?\"/\":\"\")+(t=n(i(t.split(\"/\"),(function(e){return!!e})),!s).join(\"/\"))||\".\"},t.normalize=function(e){var a=t.isAbsolute(e),o=\"/\"===s(e,-1);return(e=n(i(e.split(\"/\"),(function(e){return!!e})),!a).join(\"/\"))||a||(e=\".\"),e&&o&&(e+=\"/\"),(a?\"/\":\"\")+e},t.isAbsolute=function(e){return\"/\"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if(\"string\"!=typeof e)throw new TypeError(\"Arguments to path.join must be strings\");return e})).join(\"/\"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&\"\"===e[t];t++);for(var n=e.length-1;n>=0&&\"\"===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var s=i(e.split(\"/\")),a=i(n.split(\"/\")),o=Math.min(s.length,a.length),r=o,l=0;l<o;l++)if(s[l]!==a[l]){r=l;break}var c=[];for(l=r;l<s.length;l++)c.push(\"..\");return(c=c.concat(a.slice(r))).join(\"/\")},t.sep=\"/\",t.delimiter=\":\",t.dirname=function(e){if(\"string\"!=typeof e&&(e+=\"\"),0===e.length)return\".\";for(var t=e.charCodeAt(0),n=47===t,i=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!s){i=a;break}}else s=!1;return-1===i?n?\"/\":\".\":n&&1===i?\"/\":e.slice(0,i)},t.basename=function(e,t){var n=function(e){\"string\"!=typeof e&&(e+=\"\");var t,n=0,i=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){n=t+1;break}}else-1===i&&(s=!1,i=t+1);return-1===i?\"\":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){\"string\"!=typeof e&&(e+=\"\");for(var t=-1,n=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var r=e.charCodeAt(o);if(47!==r)-1===i&&(s=!1,i=o+1),46===r?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!s){n=o+1;break}}return-1===t||-1===i||0===a||1===a&&t===i-1&&t===n+1?\"\":e.slice(t,i)};var s=\"b\"===\"ab\".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(0))}]);","extractedComments":[]}